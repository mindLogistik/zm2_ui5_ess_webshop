//@ui5-bundle diehlwebshop/Component-preload.js
sap.ui.predefine("diehlwebshop/Component", ["sap/ui/core/UIComponent","./model/IndexedDBModel","./model/models","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ui/model/resource/ResourceModel"],function(t,e,n,r,s,o){"use strict";return t.extend("diehlwebshop.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]},init:function(){if(!window.name||!window.name.startsWith("WEBSHOP_MAIN_")){let t=localStorage.getItem("WEBSHOP_MAIN_ID");if(!t){t=String(Date.now())+"_"+Math.random().toString(16).slice(2);localStorage.setItem("WEBSHOP_MAIN_ID",t)}window.name="WEBSHOP_MAIN_"+t}const r=sap.ui.getCore().getConfiguration().getLanguage();const i=new o({bundleName:"diehlwebshop.i18n.i18n",bundleLocale:r});this.setModel(i,"i18n");this.setModel(new s({delay:0,layout:"TwoColumnsMidExpanded",cartOpen:false}),"appView");const a=new e("SHOPPING_CART",{cartEntries:[],savedForLaterEntries:[],totalPrice:0,showProceedButton:false,showEditButton:false});a.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay);this.setModel(a,"cartProducts");const c=a.getProperty("/cartEntries");if(c&&!Array.isArray(c)){a.setProperty("/cartEntries",Object.values(c))}const l=a.getProperty("/savedForLaterEntries");if(l&&!Array.isArray(l)){a.setProperty("/savedForLaterEntries",Object.values(l))}this.setModel(new e("PRODUCT_COMPARISON",{category:"",item1:"",item2:""}),"comparison");const m=new sap.ui.model.json.JSONModel([]);this.setModel(m,"ociCatalogs");(function(){const t=this.getModel("i18n").getResourceBundle();const e=m.getData();const n=Array.isArray(e)?e.slice():[];if(!n.some(t=>t&&t.type==="FREETEXT")){n.unshift({type:"FREETEXT",katalogName:t.getText("freitextOpenDialogButtonText")});m.setData(n)}}).bind(this)();this.setModel(n.createDeviceModel(),"device");t.prototype.init.apply(this,arguments);const d=this._getOciRawParam();const u=!!d;if(u){this._forceHomeHash()}this.getRouter().initialize();if(u){setTimeout(function(){console.log("OCI DEBUG starting delayed import");const t=this._importOciFromUrlIfPresent();console.log("OCI DEBUG delayed import result:",t);console.log("OCI DEBUG cartEntries now:",this.getModel("cartProducts").getProperty("/cartEntries"))}.bind(this),300)}this.getRouter().attachTitleChanged(function(t){document.title=t.getParameter("title")||document.title})},_importOciFromRaw:function(t){try{const e=JSON.parse(decodeURIComponent(t));const n=Array.isArray(e)?e:e.items||[];if(Array.isArray(n)&&n.length>0){this._mergeItemsIntoCart(n)}}catch(t){console.warn("OCI: Konnte Payload nicht parsen",t)}},_mergeItemsIntoCart:function(t,e){const n=this.getModel("cartProducts");if(!n){return}const r=n.getProperty("/cartEntries");let s=Array.isArray(r)?r.slice():Object.values(r||{});if(!Array.isArray(s)){s=[]}t.forEach(t=>{const n=this._normalizeIncomingItem(t,e);if(!n){return}const r=s.findIndex(t=>String(t.ZmmWebsArtikelId)===String(n.ZmmWebsArtikelId));if(r>-1){const t=parseInt(s[r].MENGE,10)||0;s[r].MENGE=t+n.MENGE;s[r].Quantity=s[r].MENGE;s[r].ZmmWebsArtBez=s[r].ZmmWebsArtBez||n.ZmmWebsArtBez;s[r].Wlief=s[r].Wlief||n.Wlief;s[r].Meins=s[r].Meins||n.Meins;s[r].Waers=s[r].Waers||n.Waers;if(s[r].Bapre===undefined||s[r].Bapre===null){s[r].Bapre=n.Bapre}}else{s.push(n)}});n.setProperty("/cartEntries",s);if(typeof n.updateBindings==="function"){n.updateBindings(true)}n.refresh(true);const o=s.length>0;n.setProperty("/showProceedButton",o);n.setProperty("/showEditButton",o);n.refresh(true)},_hasOciParam:function(){if(new URLSearchParams(window.location.search).has("oci")){return true}const t=String(window.location.hash||"");const e=t.indexOf("?");if(e>=0){return new URLSearchParams(t.slice(e+1)).has("oci")}return false},_forceHomeHash:function(){try{const t=new URL(window.location.href);t.hash="#/";window.history.replaceState({},document.title,t.toString())}catch(t){console.warn("OCI: Konnte Hash nicht auf home setzen",t)}},_normalizeIncomingItem:function(t){const e=String(t.ZmmWebsArtikelId||t.Produktid||t.ProductId||t.id||"").trim();if(!e){return null}const n=Math.max(1,parseInt(t.MENGE??t.Quantity??t.qty??1,10)||1);const r=Number(t.Bapre??t.price??0);const s=String(t.Meins||t.Mengeneinheit||t.unit||"ST").trim();const o=s.toUpperCase();const i={PCE:"ST",PC:"ST",PCS:"ST",EA:"ST",ST:"ST"};const a=i[o]||s;const c=String(t.Waers||t.Currency||t.curr||"EUR").trim();const l=String(t.Lifnr||t.LIFNR||t.SupplierId||t.SUPPLIER_ID||t.vendorNo||t.VENDOR_NO||"").trim();let m="";if(!l){try{const t=sessionStorage.getItem("OCI_LAST_CTX");if(t){const e=JSON.parse(t);m=String(e&&e.lifnr?e.lifnr:"").trim()}}catch(t){m=""}}const d=l||m;const u=String(t.Wlief||t.Lieferant||t.manuf||t.Manufacturer||"").trim();const h={ZmmWebsArtikelId:e,ZmmWebsKatId:String(t.ZmmWebsKatId||t.Kategorieid||"OCI").trim(),ZmmWebsKatBez:String(t.ZmmWebsKatBez||"").trim(),ZmmWebsArtBez:String(t.ZmmWebsArtBez||t.Artikelbezeichnung||t.desc||e).trim(),Wlief:d||"",WliefText:u,Meins:a,Waers:c,Bapre:isNaN(r)?0:r,MENGE:n,Quantity:n};return h},_importOciFromUrlIfPresent:function(){console.log("OCI DEBUG import function entered");const t=this._getOciPayloadFromUrl();console.log("OCI DEBUG payload:",t);if(!t){return false}let e="";try{e=String(sessionStorage.getItem("OCI_LAST_LIFNR")||"").trim()}catch(t){e=""}console.log("OCI DEBUG default Wlief (LIFNR) from session:",e||"(leer)");const n=Array.isArray(t)?t:t.items||[];if(!Array.isArray(n)||n.length===0){this._cleanupOciParamInUrl();return true}this._mergeItemsIntoCart(n,e);console.log("OCI DEBUG imported items:",n.length);console.log("OCI DEBUG cartEntries after import:",this.getModel("cartProducts").getProperty("/cartEntries"));this._cleanupOciParamInUrl();try{sessionStorage.removeItem("OCI_LAST_LIFNR");sessionStorage.removeItem("OCI_LAST_CATALOG_ID");sessionStorage.removeItem("OCI_LAST_TS")}catch(t){}return true},_getOciRawParam:function(){try{const t=new URL(window.location.href);const e=t.searchParams.get("oci");if(e){return e}const n=t.hash||"";const r=n.split("?")[1]||"";const s=new URLSearchParams(r);const o=s.get("oci");return o||null}catch(t){console.warn("OCI: Konnte oci Parameter nicht lesen",t);return null}},_getOciPayloadFromUrl:function(){try{const t=new URL(window.location.href);const e=t.searchParams.get("oci");if(!e){return null}return JSON.parse(e)}catch(t){console.warn("OCI: Konnte URL-Payload nicht lesen/parsen",t);return null}},_cleanupOciParamInUrl:function(){try{const t=new URL(window.location.href);if(t.searchParams.has("oci")){t.searchParams.delete("oci")}if(t.hash&&t.hash.indexOf("?")>-1){const e=t.hash.split("?");const n=e[0];const r=e[1]||"";const s=new URLSearchParams(r);if(s.has("oci")){s.delete("oci");const e=s.toString();t.hash=e?n+"?"+e:n}}window.history.replaceState({},document.title,t.toString())}catch(t){console.warn("OCI: Konnte URL nicht bereinigen",t)}},getContentDensityClass:function(){if(this._sContentDensityClass===undefined){if(document.body.classList.contains("sapUiSizeCozy")||document.body.classList.contains("sapUiSizeCompact")){this._sContentDensityClass=""}else if(!r.support.touch){this._sContentDensityClass="sapUiSizeCompact"}else{this._sContentDensityClass="sapUiSizeCozy"}}return this._sContentDensityClass}})});
sap.ui.predefine("diehlwebshop/controller/App.controller", ["./BaseController"],function(e){"use strict";return e.extend("diehlwebshop.controller.App",{onInit:function(){var e=this.getOwnerComponent().getRouter();var t=this.getOwnerComponent().getModel("appView")}})});
sap.ui.predefine("diehlwebshop/controller/BaseController", ["sap/ui/core/mvc/Controller","sap/m/MessageToast","sap/ui/core/UIComponent","sap/ui/core/routing/History","../model/cart"],function(e,t,r,n,s){"use strict";return e.extend("diehlwebshop.controller.BaseController",{cart:s,getRouter:function(){return r.getRouterFor(this)},getModel:function(e){return this.getView().getModel(e)},setModel:function(e,t){return this.getView().setModel(e,t)},getResourceBundle:function(){return this.getOwnerComponent().getModel("i18n").getResourceBundle()},onAvatarPress:function(){var e=this.getResourceBundle().getText("avatarButtonMessageToastText");t.show(e)},onStateChange:function(e){var t=e.getParameter("layout");var r=e.getParameter("maxColumnsCount");this.getModel("appView").setProperty("/smallScreenMode",r===1);if(r>1&&t==="OneColumn"){this._setLayout("Two")}},_setLayout:function(e){if(e){this.getModel("appView").setProperty("/layout",e+"Column"+(e==="One"?"":"sMidExpanded"))}},onBack:function(){var e=n.getInstance();var t=e.getPreviousHash();if(t!==undefined){window.history.go(-1)}else{this.getRouter().navTo("home")}},_addToCart:function(e,t){if(!e){return}const r=this.getResourceBundle();const n=this.getModel("cartProducts");if(!n){jQuery.sap.log.error("cartProducts Model nicht gefunden.");return}const s=Math.max(1,parseInt(t,10)||1);let o=n.getProperty("/cartEntries");if(!Array.isArray(o)){o=Object.values(o||{})}const a=String(e.ZmmWebsArtikelId||e.ProductId||e.Produktid||"").trim();if(!a){jQuery.sap.log.error("Kein Produkt-Schlüssel gefunden (z. B. ZmmWebsArtikelId).");return}const i=String(e.ZmmWebsKatId||e.Category||"").trim();const c=String(e.ZmmWebsArtBez||e.BESCHREIBUNG||e.ZmmWebsKatBez||e.ZmmWebsKatId||a).trim();const d=String(e.ZmmWebsDocId||e.DocId||e.ZmmWebsDocID||"").trim();const u=(e.Wlief||"").trim();const l=(e.Matkl||"").trim();const g=String(e.Meins||"ST").trim();const m=String(e.Waers||e.Currency||"EUR").trim();const p=Number(e.Bapre??0);const f=String(e.receiver||"").trim();const h=typeof e.weExpectedIndex==="number"?e.weExpectedIndex:-1;const C=String(e.Idnlf||"").trim().slice(0,35);const I=String(e.addText||e.ddText||e.AddText||e.Zusatztext||e.zusatztext||e.freitextAddText||"").trim();const x=o.findIndex(e=>String(e.ZmmWebsArtikelId||e.ProductId||e.Produktid)===a);if(x>-1){const e=parseInt(o[x].MENGE,10)||0;const t=e+s;o[x].MENGE=t;o[x].Quantity=t;if(!o[x].ZmmWebsKatId&&i){o[x].ZmmWebsKatId=i}if(!o[x].ZmmWebsArtBez&&c){o[x].ZmmWebsArtBez=c}if(!o[x].ZmmWebsDocId&&d){o[x].ZmmWebsDocId=d}if(!o[x].Meins&&g){o[x].Meins=g}if(!o[x].Waers&&m){o[x].Waers=m}if(o[x].Bapre==null||o[x].Bapre===""){o[x].Bapre=p}if(!o[x].Wlief&&u){o[x].Wlief=u}if(!o[x].Matkl&&l){o[x].Matkl=l}if(!o[x].receiver&&f){o[x].receiver=f}if(!Number.isInteger(o[x].weExpectedIndex)){o[x].weExpectedIndex=h}if(!o[x].Idnlf&&C){o[x].Idnlf=C}if(!String(o[x].addText||"").trim()&&I){o[x].addText=I}if(!String(o[x].AddText||"").trim()&&I){o[x].AddText=I}}else{o.push({ZmmWebsArtikelId:a,ZmmWebsKatId:i,ZmmWebsKatBez:String(e.ZmmWebsKatBez||c||"").trim(),ZmmWebsArtBez:c,ZmmWebsDocId:d,MENGE:s,Quantity:s,Meins:g,Waers:m,Bapre:p,Wlief:u,Matkl:l,receiver:f,weExpectedIndex:h,Idnlf:C,addText:I,AddText:I,accountType:e.accountType||"",costCenter:e.costCenter||"",internalOrder:e.internalOrder||"",accountValue:e.accountValue||"",glAccount:e.glAccount||"",STATUS:e.STATUS||"A"})}n.setProperty("/cartEntries",o);n.refresh(true);sap.m.MessageToast.show(r.getText("productAddedToCart"))},toggleCart:function(){var e=sap.ui.core.routing.HashChanger.getInstance();var t=e.getHash()||"";console.log("[toggleCart] hash vorher:",t);var r=t==="cart"||t.endsWith("/cart");console.log("[toggleCart] bIsCartHash:",r);if(r){console.log("[toggleCart] -> close");this._closeCart()}else{console.log("[toggleCart] -> open");this._openCart()}},_openCart:function(){var e=this.getOwnerComponent().getModel("appView");if(!e){return}var t=sap.ui.core.routing.HashChanger.getInstance();var r=t.getHash()||"";if(r==="cart"||r.endsWith("/cart")){e.setProperty("/cartOpen",true);return}e.setProperty("/lastNonCartHash",r);e.setProperty("/cartOpen",true);if(r){t.replaceHash(r+"/cart")}else{t.replaceHash("cart")}},_closeCart:function(){var e=this.getOwnerComponent().getModel("appView");if(!e){return}var t=sap.ui.core.routing.HashChanger.getInstance();var r=t.getHash()||"";var n="";if(r.endsWith("/cart")){n=r.slice(0,-5)}if(!n&&r==="cart"){n=e.getProperty("/lastNonCartHash")||""}if(!n){n=e.getProperty("/lastNonCartHash")||""}if(n==="purchaseRequests"||n==="purchaseRequestsCart"){e.setProperty("/skipNextPurchaseRequestsRebind",true)}e.setProperty("/cartOpen",false);if(n){t.replaceHash(n)}else{this.getOwnerComponent().getRouter().navTo("categories",{},true)}},_clearComparison:function(){var e=this.getOwnerComponent().getModel("comparison");e.setData({category:"",item1:"",item2:""})}})});
sap.ui.predefine("diehlwebshop/controller/Cart.controller", ["./BaseController","sap/ui/model/json/JSONModel","sap/ui/Device","../model/formatter","sap/m/MessageBox","sap/m/MessageToast"],(t,e,r,o,s,n)=>{"use strict";var i="cartProducts";var a="savedForLaterEntries";var c="cartEntries";return t.extend("diehlwebshop.controller.Cart",{formatter:o,onInit:function(){this.getView().setModel(this.getOwnerComponent().getModel());this._oRouter=this.getRouter();this._oRouter.getRoute("cart").attachPatternMatched(this._routePatternMatched,this);this._oRouter.getRoute("productCart").attachPatternMatched(this._routePatternMatched,this);var t=new e({});this.getView().setModel(t,"cfg");this._toggleCfgModel();var r=this.byId("editButton");r.addEventDelegate({onAfterRendering:function(){r.focus()}})},onExit:function(){if(this._orderDialog){this._orderDialog.destroy()}if(this._orderBusyDialog){this._orderBusyDialog.destroy()}},onQuantityLiveChange:function(t){const e=t.getSource();const r=e.getValue();const o=Math.max(1,parseInt(r,10)||1);if(parseInt(r,10)!==o){e.setValue(o)}const s=e.getBindingContext("cartProducts");if(!s){return}const n=s.getModel();const i=s.getPath();n.setProperty(i+"/MENGE",o)},_routePatternMatched:function(){const t=this.getModel("appView");const e=t.getProperty("/layout");const r=!e.startsWith("TwoColumns");if(r){this._setLayout("Three")}const o=this.getModel(i);const s=o.getProperty("/"+c);if(Array.isArray(s)&&s.length>0){o.setProperty("/showProceedButton",true);o.setProperty("/showEditButton",true)}this.byId("entryList").removeSelections()},onEditOrDoneButtonPress:function(){this._toggleCfgModel()},_toggleCfgModel:function(){var t=this.getView().getModel("cfg");var e=t.getData();var o=this.getResourceBundle();var s=!e.hasOwnProperty("inDelete");var n=s?true:e.inDelete;var i=r.system.phone?"None":"SingleSelectMaster";var a=r.system.phone?"Active":"Inactive";t.setData({inDelete:!n,notInDelete:n,listMode:n?i:"Delete",listItemType:n?a:"Inactive",pageTitle:n?o.getText("Cart_rootLabel"):o.getText("cartTitleEdit")})},onEntryListPress:function(t){this._showProduct(t.getSource())},onEntryListSelect:function(t){this._showProduct(t.getParameter("listItem"))},onSaveForLater:function(t){var e=t.getSource().getBindingContext(i);this._changeList(a,c,e)},onAddBackToBasket:function(t){var e=t.getSource().getBindingContext(i);this._addToCartKeepSaved(e)},_changeList:function(t,e,r){var o=r.getModel();var s=r.getObject();var n=o.getProperty("/"+t)||[];var i=o.getProperty("/"+e)||[];if(!Array.isArray(n)){n=Object.values(n||{})}if(!Array.isArray(i)){i=Object.values(i||{})}var a=String(s.ZmmWebsArtikelId||"");var c=parseInt(s.MENGE,10)||1;var g=n.findIndex(t=>String(t.ZmmWebsArtikelId)===a);if(g===-1){var d=Object.assign({},s);d.MENGE=c;n.push(d)}else{var l=parseInt(n[g].MENGE,10)||0;n[g].MENGE=l+c}var u=i.findIndex(t=>String(t.ZmmWebsArtikelId)===a);if(u>-1){i.splice(u,1)}o.setProperty("/"+t,n);o.setProperty("/"+e,i);o.refresh(true)},_addToCartKeepSaved:function(t){var e=t.getModel();var r=t.getObject();var o=e.getProperty("/"+c)||[];if(!Array.isArray(o)){o=Object.values(o||{})}var s=String(r.ZmmWebsArtikelId||"");var n=o.findIndex(t=>String(t.ZmmWebsArtikelId)===s);var i=parseInt(r.MENGE,10)||1;if(n===-1){var a=Object.assign({},r);o.push(a)}else{o[n].MENGE=(parseInt(o[n].MENGE,10)||0)+i}e.setProperty("/"+c,o);e.setProperty("/showProceedButton",o.length>0);e.setProperty("/showEditButton",o.length>0);e.refresh(true)},_showProduct:function(t){var e=t.getBindingContext(i).getObject();var o=false;if(!r.system.phone){o=this.getModel("appView").getProperty("/layout").startsWith("Three")}else{o=false;this._setLayout("Two")}this._oRouter.navTo(o?"productCart":"product",{id:e.ZmmWebsKatId,productId:e.ZmmWebsArtikelId},!r.system.phone)},onCartEntriesDelete:function(t){this._deleteProduct(c,t)},onSaveForLaterDelete:function(t){this._deleteProduct(a,t)},_deleteProduct:function(t,e){const r=e.getParameter("listItem");const o=r.getBindingContext(i);const a=this.getResourceBundle();const c=o.getProperty("ZmmWebsArtikelId");const g=o.getProperty("ZmmWebsArtBez");const d=o.getModel();s.show(a.getText("cartDeleteDialogMsg"),{title:a.getText("cartDeleteDialogTitle"),actions:[s.Action.DELETE,s.Action.CANCEL],onClose:function(e){if(e!==s.Action.DELETE)return;const r=d.getProperty("/"+t)||[];let o=Array.isArray(r)?r.slice():Object.values(r);const i=o.findIndex(t=>String(t.ZmmWebsArtikelId)===String(c));if(i>-1){o.splice(i,1);d.setProperty("/"+t,o);d.refresh(true);const e=o.length>0;d.setProperty("/showProceedButton",e);d.setProperty("/showEditButton",e);const r=t==="cartEntries"?this.byId("entryList"):this.byId("saveForLaterList");if(r){r.removeSelections()}n.show(a.getText("cartDeleteDialogConfirmDeleteMsg",[g]))}else{n.show(a.getText("cartNoData"))}}.bind(this)})},onProceedButtonPress:function(){const t=this.getOwnerComponent().getModel("cartProducts");const e=t.getProperty("/cartEntries");const r=Array.isArray(e)?e:Object.values(e||{});if(r.length===0){sap.m.MessageToast.show(this.getResourceBundle().getText("cartEmptyToast"));return}const o=this.getOwnerComponent().getModel("appView");if(o){o.setProperty("/layout","MidColumnFullScreen");o.setProperty("/cartOpen",false)}this.getRouter().navTo("checkoutWizard")}})});
sap.ui.predefine("diehlwebshop/controller/Category.controller", ["./BaseController","../model/formatter","sap/ui/Device","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/ui/core/Fragment"],(t,e,o,i,r,s,n)=>{"use strict";return t.extend("diehlwebshop.controller.Category",{formatter:e,_iLowFilterPreviousValue:0,_iHighFilterPreviousValue:5e3,onInit:function(){var t=new s({Suppliers:[]});this.getView().setModel(t,"view");var e=this.getOwnerComponent();this._oRouter=e.getRouter();this._oRouter.getRoute("category").attachMatched(this._loadCategories,this);this._oRouter.getRoute("product").attachMatched(this._loadCategories,this);this._oRouter.getRoute("productCart").attachMatched(this._loadCategories,this);this._oRouter.getRoute("category").attachMatched(function(){console.log("ROUTE MATCHED: category")},this);var o=this.byId("bildUrlCategoryPage");if(o){this._oProductTemplate=o.clone()}else{console.error("Template-Element 'bildUrlCategoryPage' nicht gefunden!")}},onCategorySearch:function(t){const e=t.getSource().getValue().toLowerCase();const o=this.byId("productListCategory");const i=o.getItems();i.forEach(t=>{const o=t.getBindingContext();if(o){const i=o.getObject();const r=(i.ZmmWebsArtBez||"").toLowerCase();const s=(i.Wlief||"").toLowerCase();const n=r.includes(e)||s.includes(e);t.setVisible(n)}})},_loadCategories:function(t){const e=this.getOwnerComponent().getModel("appView");const o=this.getModel();const i=this.byId("productListCategory");const r=t.getParameter("arguments").id;this._sProductId=t.getParameter("arguments").productId||null;this._updateCategoryTitle(r);this._loadSuppliers();const s=!!(e&&e.getProperty("/cartOpen"));if(e){e.setProperty("/layout",s?"ThreeColumnsMidExpanded":"TwoColumnsMidExpanded")}const n=this._sLastCategoryId;const a=n&&String(n)===String(r);const l=i&&i.getBinding("items");if(a&&l){if(this._sProductId&&i){const t=i.getItems();t.some(function(t){const e=t.getBindingContext();const o=e&&e.getProperty("ZmmWebsArtikelId")===this._sProductId;if(o){i.setSelectedItem(t)}return o}.bind(this))}return}this._sLastCategoryId=r;if(i){i.unbindItems();i.setBusy(true)}o.metadataLoaded().then(function(){if(!this._oProductTemplate){jQuery.sap.log.error("Kein gespeichertes Template vorhanden!");i.setBusy(false);return}const t=e=>{o.detachRequestSent(t);const i=e.getParameters&&e.getParameters()};o.attachRequestSent(t);i.bindItems({path:"/ArtikelSet",filters:[new sap.ui.model.Filter("ZmmWebsKatId",sap.ui.model.FilterOperator.EQ,r)],parameters:{operationMode:"Server"},template:this._oProductTemplate.clone(),templateShareable:false});const e=i.getBinding("items");if(e){e.attachDataReceived(function(){i.setBusy(false);const t=i.getItems().map(t=>{const e=t.getBindingContext()?.getObject();return{id:e?.ZmmWebsArtikelId,docId:e?.ZmmWebsDocId}});console.table(t);if(this._sProductId){const t=i.getItems();t.some(function(t){const e=t.getBindingContext();const o=e&&e.getProperty("ZmmWebsArtikelId")===this._sProductId;if(o){i.setSelectedItem(t)}return o}.bind(this))}}.bind(this))}else{i.setBusy(false)}}.bind(this))},_loadSuppliers:function(){var t=this.getModel();t.read("/ArtikelSet",{success:function(t){var e=t&&t.results||[];var o=e.map(function(t){return(t.Lieferant||t.Wlief||"").trim()}).filter(Boolean);var i=Array.from(new Set(o)).sort(function(t,e){return t.localeCompare(e,"de")});var r=i.map(function(t){return{Lieferant:t,SupplierName:t}});this.getModel("view").setProperty("/Suppliers",r)}.bind(this),error:function(t){jQuery.sap.log.error("Lieferanten konnten nicht geladen werden",t,"diehlwebshop.controller.Category");this.getModel("view").setProperty("/Suppliers",[])}.bind(this)});if(this._clearComparison){this._clearComparison()}},onProductListSelect:function(t){var e=this.byId("productListCategory");var o=e.getItems();o.some(function(t){if(t.getBindingContext().getPath()==="/ArtikelSet('"+this._sProductId+"')"){e.setSelectedItem(t);return true}}.bind(this))},onProductListSelect:function(t){this._showProduct(t)},onProductDetails:function(t){const e=t.getParameter("listItem")||t.getSource();const o=e&&e.getBindingContext();if(!o){return}const i=o.getObject();const r=String(i.ZmmWebsKatId);const s=String(i.ZmmWebsArtikelId);const n=this.getOwnerComponent().getModel("appView");const a=n&&(n.getProperty("/layout")||"").startsWith("Three");if(n){const t=!!n.getProperty("/cartOpen");n.setProperty("/layout",t?"ThreeColumnsMidExpanded":"TwoColumnsMidExpanded")}this._oRouter.navTo(a?"productCart":"product",{id:r,productId:s},!sap.ui.Device.system.phone)},_applyFilter:function(t){var e=this.byId("productListCategory"),o=e.getBinding("items"),s=t.getParameter("filterItems"),n=this.byId("categoryFilterDialog").getFilterItems()[1],a,l={},g=[],u=[],c=[],d=[];if(n.getCustomControl().getAggregation("content")[0].getValue()!==n.getCustomControl().getAggregation("content")[0].getMin()||n.getCustomControl().getAggregation("content")[0].getValue2()!==n.getCustomControl().getAggregation("content")[0].getMax()){s.push(n)}s.forEach(function(t){var e=t.getProperty("key"),o,s;switch(e){case"Available":a=new i("STATUS",r.EQ,"A");u.push(a);break;case"OutOfStock":a=new i("STATUS",r.EQ,"O");u.push(a);break;case"Discontinued":a=new i("STATUS",r.EQ,"D");u.push(a);break;case"Price":o=t.getCustomControl().getAggregation("content")[0].getValue();s=t.getCustomControl().getAggregation("content")[0].getValue2();a=new i("Bapre",r.BT,o,s);c.push(a);l["priceKey"]={Price:true};break;default:a=new i("Wlief",r.EQ,e);d.push(a)}});if(u.length>0){g.push(new i({filters:u}))}if(c.length>0){g.push(new i({filters:c}))}if(d.length>0){g.push(new i({filters:d}))}a=new i({filters:g,and:true});if(g.length>0){o.filter(a);this.byId("categoryInfoToolbar").setVisible(true);var h=this.getResourceBundle().getText("filterByText")+" ";var m="";var p=t.getParameter("filterCompoundKeys");var f=Object.assign(p,l);for(var y in f){if(f.hasOwnProperty(y)){h=h+m+this.getResourceBundle().getText(y,[this._iLowFilterPreviousValue,this._iHighFilterPreviousValue]);m=", "}}this.byId("categoryInfoToolbarTitle").setText(h)}else{o.filter(null);this.byId("categoryInfoToolbar").setVisible(false);this.byId("categoryInfoToolbarTitle").setText("")}},onFilter:function(){if(!this._pCategoryFilterDialog){this._pCategoryFilterDialog=n.load({id:this.getView().getId(),name:"sap.ui.demo.cart.view.CategoryFilterDialog",controller:this}).then(function(t){this.getView().addDependent(t);t.addStyleClass(this.getOwnerComponent().getContentDensityClass());return t}.bind(this))}this._pCategoryFilterDialog.then(function(t){t.open()})},handleConfirm:function(t){var e=this.byId("categoryFilterDialog").getFilterItems()[1];var o=e.getCustomControl().getAggregation("content")[0];this._iLowFilterPreviousValue=o.getValue();this._iHighFilterPreviousValue=o.getValue2();this._applyFilter(t)},handleCancel:function(){var t=this.byId("categoryFilterDialog").getFilterItems()[1];var e=t.getCustomControl().getAggregation("content")[0];e.setValue(this._iLowFilterPreviousValue).setValue2(this._iHighFilterPreviousValue);if(this._iLowFilterPreviousValue>e.getMin()||this._iHighFilterPreviousValue!==e.getMax()){t.setFilterCount(1)}else{t.setFilterCount(0)}},handleChange:function(t){var e=this.byId("categoryFilterDialog").getFilterItems()[1];var o=e.getCustomControl().getAggregation("content")[0];var i=t.getParameter("range")[0];var r=t.getParameter("range")[1];if(i!==o.getMin()||r!==o.getMax()){e.setFilterCount(1)}else{e.setFilterCount(0)}},handleResetFilters:function(){var t=this.byId("categoryFilterDialog").getFilterItems()[1];var e=t.getCustomControl().getAggregation("content")[0];e.setValue(e.getMin());e.setValue2(e.getMax());t.setFilterCount(0)},compareProducts:function(t){var e=t.getSource().getBindingContext().getObject();var o=this.getModel("comparison").getProperty("/item1");var i=this.getModel("comparison").getProperty("/item2");this._oRouter.navTo("comparison",{id:e.Category,item1Id:o?o:e.ProductId,item2Id:o&&o!=e.ProductId?e.ProductId:i},true)},_updateCategoryTitle:function(t){const e=this.getModel();this.getModel("view").setProperty("/categoryTitle","");const o="/"+e.createKey("KatalogSet",{ZmmWebsKatId:String(t||"").trim()});e.read(o,{urlParameters:{$select:"ZmmWebsKatBez"},success:function(t){const e=t&&t.ZmmWebsKatBez?String(t.ZmmWebsKatBez):"";this.getModel("view").setProperty("/categoryTitle",e)}.bind(this),error:function(){this.getModel("view").setProperty("/categoryTitle",this.getResourceBundle().getText("Category_title"))}.bind(this)})},onBack:function(){this.getRouter().navTo("categories")}})});
sap.ui.predefine("diehlwebshop/controller/CheckoutWizard.controller", ["./BaseController","sap/ui/model/json/JSONModel","sap/m/MessageBox","sap/m/MessageToast","sap/m/SelectDialog","sap/m/StandardListItem","sap/ui/model/Filter","sap/ui/model/FilterOperator","../model/formatter","../model/IndexedDBModel","sap/ui/core/Item"],function(e,t,r,n,s,i,o,a,c,l,u){"use strict";const d="checkoutWizard";const g="checkout";const h="cartProducts";return e.extend("diehlwebshop.controller.CheckoutWizard",{formatter:c,onInit:function(){const e=new t({currentStep:"stepHead",validate:false});e.setDefaultBindingMode("TwoWay");this.getView().setModel(e,d);let r=this.getView().getModel(g);if(!r){r=new t(this._createCheckoutDefaults());r.setDefaultBindingMode("TwoWay");this.getView().setModel(r,g);this.getOwnerComponent().setModel(r,g)}r.setDefaultBindingMode("TwoWay");this._ensureCartItemExtensions();this._prefillReceiversWithCurrentUser();const n=this.byId("checkoutWizard");if(n){n.attachStepActivate(this._onStepActivate,this)}this._hookInvArtNoneItem();var s=this.byId("infoPopover");if(s){this.getView().addDependent(s)}const i=new sap.ui.model.json.JSONModel({text1:"",text2:""});this.getView().setModel(i,"info");const o=this.getOwnerComponent().getModel("appView");if(o){o.setProperty("/layout","OneColumn");o.setProperty("/cartOpen",false)}this.getRouter().getRoute("checkoutWizard").attachPatternMatched(this._onRouteMatchedCheckout,this)},_hookInvArtNoneItem:function(){const e=this.byId("cbInvArt");if(!e){return}const t=e.getBinding("items");if(!t){jQuery.sap.delayedCall(0,this,this._hookInvArtNoneItem);return}if(!this._fnEnsureInvArtNoneItem){this._fnEnsureInvArtNoneItem=this._ensureInvArtNoneItem.bind(this)}else{t.detachChange(this._fnEnsureInvArtNoneItem);if(t.detachDataReceived){t.detachDataReceived(this._fnEnsureInvArtNoneItem)}}t.attachChange(this._fnEnsureInvArtNoneItem);if(t.attachDataReceived){t.attachDataReceived(this._fnEnsureInvArtNoneItem)}this._ensureInvArtNoneItem()},_ensureInvArtNoneItem:function(){const e=this.byId("cbInvArt");if(!e){return}const t=e.getItems().some(function(e){return e&&e.getKey&&e.getKey()==="NONE"});if(!t){e.insertItem(new u({key:"NONE",text:this.getResourceBundle().getText("cw.invArt.none")}),0)}const r=this.getView().getModel("checkout");const n=r&&r.getProperty("/head/invArt");if(n==="NONE"){e.setSelectedKey("NONE")}},_syncHeadAccountToCartItems:function(){const e=this.getView().getModel("checkout");const t=this.getView().getModel("cartProducts");if(!e||!t){return}const r=e.getProperty("/head")||{};if(Number(r.materialTypeIndex)!==0){return}const n=this._getCartEntries()||[];if(n.length<2){return}const s=n[0]||{};const i=(s.accountType||"").trim();if(!i){return}n.forEach((e,r)=>{if(r===0){return}if(!(e.accountType||"").trim()){t.setProperty("/cartEntries/"+r+"/accountType",i)}if(i==="gl"){if(!(e.costCenter||"").trim()&&(s.costCenter||"").trim()){t.setProperty("/cartEntries/"+r+"/costCenter",s.costCenter)}t.setProperty("/cartEntries/"+r+"/internalOrder","");t.setProperty("/cartEntries/"+r+"/accountValue","");if(!(e.glAccount||"").trim()&&(s.glAccount||"").trim()){t.setProperty("/cartEntries/"+r+"/glAccount",s.glAccount)}}else if(i==="io"){if(!(e.internalOrder||"").trim()&&(s.internalOrder||"").trim()){t.setProperty("/cartEntries/"+r+"/internalOrder",s.internalOrder)}t.setProperty("/cartEntries/"+r+"/costCenter","");t.setProperty("/cartEntries/"+r+"/accountValue","")}else if(i==="wbs"){if(!(e.accountValue||"").trim()&&(s.accountValue||"").trim()){t.setProperty("/cartEntries/"+r+"/accountValue",s.accountValue)}t.setProperty("/cartEntries/"+r+"/costCenter","");t.setProperty("/cartEntries/"+r+"/internalOrder","")}});t.refresh(true)},_onRouteMatchedCheckout:function(){const e=this.getView().getModel(d);if(e){e.setProperty("/validate",false);e.setProperty("/currentStep","stepHead")}const t=this.byId("checkoutWizard");const r=this.byId("stepHead");const n=this.byId("stepCart");if(t&&r&&n){if(t.discardProgress){t.discardProgress(n)}t.goToStep(r)}this._prefillReceiversWithCurrentUser()},onReturnToShop:function(){const e=this.getView().getModel("checkoutWizard");if(e){e.setProperty("/validate",false);e.setProperty("/currentStep","stepHead")}const t=this.byId("checkoutWizard");const r=this.byId("stepCart");if(t&&r){if(t.discardProgress){t.discardProgress(r)}t.goToStep(r)}const n=this.getOwnerComponent().getModel("appView");if(n){n.setProperty("/cartOpen",false);n.setProperty("/layout","TwoColumnsMidExpanded")}this.getRouter().navTo("purchaseRequests",{},true)},_genBanfnId:function(){const e=(new Date).toISOString().slice(2,10).replace(/-/g,"");const t=Math.floor(1e3+Math.random()*9e3);return e+t},_persistMockBanfn:async function(e){const t="mock_banfen";try{let r=await IDB.getItem(t);if(!Array.isArray(r)){r=[]}r.push(e);await IDB.setItem(t,r)}catch(r){try{let r=[];try{r=JSON.parse(localStorage.getItem(t)||"[]")}catch(e){}r.push(e);localStorage.setItem(t,JSON.stringify(r))}catch(e){}}const r=this.getView().getModel("checkout");r.setProperty("/lastBanfn",e)},onInfoPress:function(e){const t=e.getSource();let r="";const n=t.getCustomData?t.getCustomData():[];const s=n&&n.find(e=>e.getKey&&e.getKey()==="cwInfoKey");r=s&&s.getValue?s.getValue():"";if(!r){return}const i=this.getResourceBundle();const o=this.getView().getModel("info");const a=i.getText("cw.info."+r+".text1");let c="";try{c=i.getText("cw.info."+r+".text2");if(c==="cw.info."+r+".text2"){c=""}}catch(e){c=""}o.setProperty("/text1",a);o.setProperty("/text2",c);const l=this.byId("infoPopover");if(!l){return}l.openBy(t)},onContinueFromCart:function(){const e=this.getResourceBundle();this.getView().getModel("checkoutWizard").setProperty("/validate",true);const t=this.byId("checkoutWizard");const r=this.byId("stepCart");const n=this._checkCartRequired();if(!n.ok){if(t&&r){t.invalidateStep(r)}sap.m.MessageBox.information(e.getText("cw.msg.correctFields")+"\n• "+n.missing.join("\n• "));return}if(t&&r){t.validateStep(r);this.getView().getModel("checkoutWizard").setProperty("/currentStep","stepForm");sap.ui.getCore().applyChanges();t.nextStep()}},onContinueFromHead:function(){if(!this._validateStepAccounting()){return}const e=this.byId("checkoutWizard");const t=this.byId("stepHead");if(e&&t){e.validateStep(t);this.getView().getModel("checkoutWizard").setProperty("/currentStep","stepForm");sap.ui.getCore().applyChanges();e.nextStep()}},onContinueFromForm:function(){if(!this._validateStepForm()){return}const e=this.byId("checkoutWizard");const t=this.byId("stepForm");if(e&&t){e.validateStep(t);this._applyDesiredDateDefault();this.getView().getModel("checkoutWizard").setProperty("/currentStep","stepCart");sap.ui.getCore().applyChanges();e.nextStep()}},onSubmitOrder:function(){const e=this.getResourceBundle();if(!this._validateStepAccounting()){const e=this.byId("checkoutWizard");if(e&&this.byId("stepHead")){e.goToStep(this.byId("stepHead"))}return}this._syncHeadAccountToCartItems();const t=this._checkCartRequired();if(!t.ok){sap.m.MessageBox.information(e.getText("cw.msg.correctFields")+"\n• "+t.missing.join("\n• "));const r=this.byId("checkoutWizard");if(r&&this.byId("stepCart")){r.goToStep(this.byId("stepCart"))}return}const r=this.getOwnerComponent().getModel();const n=this._buildDeepCreatePayload();const s=this.getView().getModel("checkout");const i=s&&s.getProperty("/head")||{};const o=Array.isArray(n&&n.NavTo_TextLine)?n.NavTo_TextLine:[];const a=o.filter(e=>String(e.Tdid)==="B03");const c=a.map(e=>String(e.Tdline||"")).join("\n");sap.m.MessageBox.confirm(e.getText("cw.msg.submitConfirm"),{actions:[sap.m.MessageBox.Action.OK,sap.m.MessageBox.Action.CANCEL],onClose:function(t){if(t!==sap.m.MessageBox.Action.OK){return}sap.ui.core.BusyIndicator.show(0);r.create("/BestellanforderungSet",n,{groupId:"$direct",success:async function(t){sap.ui.core.BusyIndicator.hide();const r=t&&(t.Banfn||t.BANFN||t.banfn)?String(t.Banfn||t.BANFN||t.banfn):"";const n=this.getView().getModel("checkout");if(n){n.setProperty("/banfn",r);n.refresh(true)}try{sap.ui.core.BusyIndicator.show(0);await this._uploadAllAttachmentsForBanfn(r)}finally{sap.ui.core.BusyIndicator.hide()}const s=this.getView().getModel("cartProducts");if(s){s.setProperty("/cartEntries",[]);s.setProperty("/savedForLaterEntries",[]);s.refresh(true)}sap.m.MessageBox.success(e.getText("cw.msg.submitSuccess",[r]),{onClose:function(){this.getRouter().navTo("purchaseRequests")}.bind(this)})}.bind(this),error:function(t){sap.ui.core.BusyIndicator.hide();let r=e.getText("cw.msg.submitErrorDefault");try{const e=JSON.parse(t.responseText);r=e&&e.error&&e.error.message&&e.error.message.value?e.error.message.value:r}catch(e){}sap.m.MessageBox.error(r)}.bind(this)})}.bind(this)})},_getInvKlassConcat:function(e){const t=Array.isArray(e)?e:[];if(t.includes("NONE")){return""}const r=["A","G","I","T"];return r.filter(e=>t.includes(e)).join("")},_splitTdlines:function(e,t){const r=t||132;const n=String(e||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");const s=[];const i=n.split("\n");i.forEach((e,t)=>{const n=String(e||"");if(n.length===0){s.push("");return}for(let e=0;e<n.length;e+=r){s.push(n.substring(e,e+r))}});return s},_buildHeaderTextLines:function(e,t){const r=[];const n=String(e&&e.note||"").trim();if(n){this._splitTdlines(n,132).forEach(e=>{r.push({Tdid:"B01",Tdline:e})})}const s=Number(t.weExpectedIndex)===0;const i=Number(t.AmtsvertragsbezugIndex)===0;const o=String(t.avbNumber||"").trim();if(s&&i&&o){this._splitTdlines(o,132).forEach(e=>{r.push({Tdid:"B03",Tdline:e})})}return r},_buildItemTextLines:function(e){const t=[];const r=String(e.ZmmWebsKatId||"").toUpperCase()==="FREETEXT"||String(e.ZmmWebsArtikelId||"").toUpperCase().startsWith("FREETEXT-");if(!r){return t}const n=String(e.addText||e.AddText||e.Zusatztext||e.zusatztext||e.freitextAddText||"").trim();if(!n){return t}this._splitTdlines(n,132).forEach(e=>{t.push({Tdid:"B01",Tdline:e})});return t},_buildDeepCreatePayload:function(){const e=this._getCartEntries()||[];const t=this.getView().getModel("checkout").getData()||{};const r=t.head||{};const n=Number(r.UmweltIndex);const s=n===0?"X":"";const i=Number(r.materialTypeIndex);const o=i===0?"ZNPR":i===1?"ZIN1":"ZNPR";const a=r.invArt==="NONE"?"":String(r.invArt||"");const c=this._getInvKlassConcat(r.klass);const l=e=>String(e).padStart(2,"0");const u=e=>{if(!(e instanceof Date)||isNaN(e.getTime())){return""}return String(e.getFullYear())+l(e.getMonth()+1)+l(e.getDate())};const d=this._buildHeaderTextLines(t,r);const g=e.map(e=>{const t=e.desiredDate instanceof Date?e.desiredDate:null;const n={Txz01:String(e.ZmmWebsArtBez||e.description||e.Txz01||""),MengeD:String(e.MENGE??""),Meins:String(e.Meins||"ST"),Matkl:String(e.Matkl||""),WerksD:String(r.werks||""),Eeind:t?u(t):"",Idnlf:String(e.Idnlf||"").slice(0,35),Knttp:e.accountType==="gl"?"K":e.accountType==="io"?"F":e.accountType==="wbs"?"P":"",Kostl:String(e.costCenter||""),Wlief:String(e.Wlief||""),Ekgrp:String(e.Ekgrp||""),Sakto:String(e.glAccount||""),Ekorg:String(r.ekorg||""),Bapre:String(e.Bapre??""),Uname:String(e.receiver||"").trim().toUpperCase()};const s=this._buildItemTextLines(e);if(s.length){n.NavTo_PositionTextLine=s}return n});const h={Bsart:o,ZdeBanfInvArtKurz:a,ZdeBanfInvKlass:c,ZdeBanfFlagNachhaltig:s,zzsigma:String(r.sigma||"FG00"),NavTo_BanfItem:g};if(d.length){h.NavTo_TextLine=d}return h},_onStepActivate:function(e){},_applyDesiredDateDefault:function(){const e=this.getView().getModel(h);if(!e){return}const t=this._getCartEntries()||[];if(!t.length){return}const r=new Date;r.setHours(0,0,0,0);const n=24*60*60*1e3;const s=new Date(r.getTime()+7*n);t.forEach(function(t,r){if(!t.desiredDate){e.setProperty("/cartEntries/"+r+"/desiredDate",new Date(s))}});e.refresh(true)},_checkCartRequired:function(){const e=this._getCartEntries()||[];const t=this.getResourceBundle();const r=new Set;if(!e.length){r.add(t.getText("cw.field.emptyCart"));return{ok:false,missing:Array.from(r)}}e.forEach(e=>{if(!e.receiver){r.add(t.getText("cw.field.receiver"))}if(!e.accountType){r.add(t.getText("cw.field.accountType"))}if(e.accountType==="gl"&&!e.costCenter){r.add(t.getText("cw.field.costCenter"))}else if(e.accountType==="io"&&!e.internalOrder){r.add(t.getText("cw.field.internalOrder"))}else if(e.accountType==="wbs"&&!e.accountValue){r.add(t.getText("cw.field.wbs"))}if(!e.Matkl){r.add(t.getText("cw.field.matkl"))}const n=Number(e.weExpectedIndex);if(!Number.isInteger(n)||n<0){r.add(t.getText("cw.field.weExpected"))}if(!e.glAccount){r.add(t.getText("cw.field.glAccount"))}});return{ok:r.size===0,missing:Array.from(r)}},onValueHelpKostl:function(e){var t=this.getView();var r=this.getOwnerComponent().getModel();var n=e.getSource();this._oKostlActiveInput=n;if(!this._oKostlJsonModel){this._oKostlJsonModel=new sap.ui.model.json.JSONModel({results:[]});t.setModel(this._oKostlJsonModel,"vhKostl")}var s=function(){if(!this._oKostlVH){this._oKostlVH=new sap.m.SelectDialog({title:this.getResourceBundle().getText("cw.vh.kostl.title"),items:{path:"vhKostl>/results",template:new sap.m.StandardListItem({title:"{vhKostl>Kostl}",description:"{vhKostl>Mctxt}"})},search:function(e){var t=(e.getParameter("value")||"").trim().toLowerCase();this._applyKostlSearchFilter(t)}.bind(this),confirm:function(e){var t=e.getParameter("selectedItem");if(!t||!this._oKostlActiveInput){return}var r=t.getBindingContext("vhKostl").getObject();var n=String(r.Kostl||"").trim();var s=this._oKostlActiveInput;var i=s.getBindingInfo("value");if(i&&i.parts&&i.parts.length){var o=i.parts[0].model;var a=i.parts[0].path;if(a&&a[0]!=="/"){var c=s.getBindingContext(o);if(c){a=c.getPath()+"/"+a}else{a="/"+a}}s.getModel(o).setProperty(a,n)}else{s.setValue(n)}}.bind(this),cancel:function(){}});t.addDependent(this._oKostlVH)}var e=(n.getValue()||"").trim();this._oKostlVH.open(e);this._applyKostlSearchFilter(e)}.bind(this);var i=this._oKostlJsonModel.getProperty("/results")||[];if(i.length>0){s();return}r.read("/KostsSet",{urlParameters:{$select:"Kostl,Mctxt",$top:"5000"},success:function(e){var t=e&&e.results?e.results:[];t=t.map(function(e){var t=Object.assign({},e);t.__kostl=String(t.Kostl||"").toLowerCase();t.__mctxt=String(t.Mctxt||"").toLowerCase();return t});this._oKostlJsonModel.setProperty("/results",t);s()}.bind(this),error:function(e){sap.m.MessageToast.show(this.getResourceBundle().getText("cw.vh.kostl.loadError"));console.log(e)}})},_applyKostlSearchFilter:function(e){if(!this._oKostlVH){return}var t=String(e||"").trim().toLowerCase();var r=this._oKostlVH.getBinding("items");if(!r){return}if(!t){r.filter([]);return}r.filter([new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("__kostl",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("__mctxt",sap.ui.model.FilterOperator.Contains,t)],and:false})],"Application")},onValueHelpWbs:function(e){var t=this.getView();var r=this.getOwnerComponent().getModel();this._oWbsActiveInput=e.getSource();if(!this._oWbsVH){this._oWbsVH=new s({title:this.getResourceBundle().getText("cw.vh.wbs.title"),items:{path:"/plafPspelSet",template:new i({title:"{Pspel}"})},search:function(e){var t=e.getParameter("value")||"";var r=e.getSource().getBinding("items");if(!r){return}r.filter(t?[new o("Pspel",a.Contains,t)]:[])},confirm:function(e){var t=e.getParameter("selectedItem");if(!t||!this._oWbsActiveInput){return}var r=t.getBindingContext().getProperty("Pspel");var n=this._oWbsActiveInput.getBinding("value");if(n&&n.setValue){n.setValue(r)}else{this._oWbsActiveInput.setValue(r)}}.bind(this),cancel:function(){}});this._oWbsVH.setModel(r);t.addDependent(this._oWbsVH)}var n=this._oWbsActiveInput.getValue()||"";var c=this._oWbsVH.getBinding("items");if(c){c.filter(n?[new o("Pspel",a.Contains,n)]:[])}this._oWbsVH.open(n)},onValueHelpUser:function(e){var t=this.getView();var r=this.getOwnerComponent().getModel();var n=e.getSource();this._oUserActiveInput=n;if(!this._oUserJsonModel){this._oUserJsonModel=new sap.ui.model.json.JSONModel({results:[]});t.setModel(this._oUserJsonModel,"vhUser")}var s=function(){if(!this._oUserVH){this._oUserVH=new sap.m.SelectDialog({title:this.getResourceBundle().getText("cw.vh.user.title"),items:{path:"vhUser>/results",template:new sap.m.StandardListItem({title:"{vhUser>Bname}"})},search:function(e){var t=(e.getParameter("value")||"").trim().toLowerCase();this._applyUserSearchFilter(t)}.bind(this),confirm:function(e){var t=e.getParameter("selectedItem");if(!t||!this._oUserActiveInput){return}var r=t.getBindingContext("vhUser").getObject();var n=String(r.Bname||"").trim();var s=this._oUserActiveInput;var i=s.getBindingInfo("value");if(i&&i.parts&&i.parts.length){var o=i.parts[0].model;var a=i.parts[0].path;if(a&&a[0]!=="/"){var c=s.getBindingContext(o);if(c){a=c.getPath()+"/"+a}else{a="/"+a}}s.getModel(o).setProperty(a,n)}else{s.setValue(n)}}.bind(this),cancel:function(){}});t.addDependent(this._oUserVH)}var e=(n.getValue()||"").trim();this._oUserVH.open(e);this._applyUserSearchFilter(e)}.bind(this);var i=this._oUserJsonModel.getProperty("/results")||[];if(i.length>0){s();return}r.read("/UserAddrSet",{urlParameters:{$select:"Bname",$top:"5000"},success:function(e){var t=e&&e.results?e.results:[];t=t.map(function(e){var t=Object.assign({},e);t.__bname=String(t.Bname||"").toLowerCase();return t});this._oUserJsonModel.setProperty("/results",t);s()}.bind(this),error:function(e){sap.m.MessageToast.show(this.getResourceBundle().getText("cw.vh.user.loadError"));console.log(e)}})},_applyUserSearchFilter:function(e){if(!this._oUserVH){return}var t=String(e||"").trim().toLowerCase();var r=this._oUserVH.getBinding("items");if(!r){return}if(!t){r.filter([]);return}r.filter([new sap.ui.model.Filter("__bname",sap.ui.model.FilterOperator.Contains,t)],"Application")},onValueHelpMatkl:function(e){var t=this.getView();var r=this.getOwnerComponent().getModel();var n=e.getSource();this._oMatklActiveInput=n;if(!this._oMatklJsonModel){this._oMatklJsonModel=new sap.ui.model.json.JSONModel({results:[]});t.setModel(this._oMatklJsonModel,"vhMatkl")}var s=function(){if(!this._oMatklVH){this._oMatklVH=new sap.m.SelectDialog({title:this.getResourceBundle().getText("cw.vh.matkl.title"),items:{path:"vhMatkl>/results",template:new sap.m.StandardListItem({title:"{vhMatkl>Matkl}",description:"{vhMatkl>Wgbez60}"})},search:function(e){var t=(e.getParameter("value")||"").trim().toLowerCase();this._applyMatklSearchFilter(t)}.bind(this),confirm:function(e){var t=e.getParameter("selectedItem");if(!t||!this._oMatklActiveInput){return}var r=t.getBindingContext("vhMatkl").getObject();var n=String(r.Matkl||"").trim();var s=this._oMatklActiveInput;var i=s.getBindingInfo("value");if(i&&i.parts&&i.parts.length){var o=i.parts[0].model;var a=i.parts[0].path;if(a&&a[0]!=="/"){var c=s.getBindingContext(o);if(c){a=c.getPath()+"/"+a}else{a="/"+a}}s.getModel(o).setProperty(a,n)}else{s.setValue(n)}}.bind(this),cancel:function(){}});t.addDependent(this._oMatklVH)}var e=(n.getValue()||"").trim();this._oMatklVH.open(e);this._applyMatklSearchFilter(e)}.bind(this);var i=this._oMatklJsonModel.getProperty("/results")||[];if(i.length>0){s();return}r.read("/HT023Set",{urlParameters:{$select:"Matkl,Wgbez60",$top:"5000"},success:function(e){var t=e&&e.results?e.results:[];t=t.map(function(e){var t=Object.assign({},e);t.__matkl=String(t.Matkl||"").toLowerCase();t.__wgbez60=String(t.Wgbez60||"").toLowerCase();return t});this._oMatklJsonModel.setProperty("/results",t);s()}.bind(this),error:function(e){sap.m.MessageToast.show(this.getResourceBundle().getText("cw.vh.matkl.loadError"));console.log(e)}})},_applyMatklSearchFilter:function(e){if(!this._oMatklVH){return}var t=String(e||"").trim().toLowerCase();var r=this._oMatklVH.getBinding("items");if(!r){return}if(!t){r.filter([]);return}r.filter([new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("__matkl",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("__wgbez60",sap.ui.model.FilterOperator.Contains,t)],and:false})],"Application")},onValueHelpGl:function(e){var t=this.getView();var r=this.getOwnerComponent().getModel();var n=e.getSource();this._oGlActiveInput=n;if(!this._oGlJsonModel){this._oGlJsonModel=new sap.ui.model.json.JSONModel({results:[]});t.setModel(this._oGlJsonModel,"vhGl")}var s=function(){if(!this._oGlVH){this._oGlVH=new sap.m.SelectDialog({title:this.getResourceBundle().getText("cw.vh.gl.title"),items:{path:"vhGl>/results",template:new sap.m.StandardListItem({title:"{vhGl>Saknr}",description:"{vhGl>Txt50}"})},search:function(e){var t=(e.getParameter("value")||"").trim().toLowerCase();this._applyGlSearchFilter(t)}.bind(this),confirm:function(e){var t=e.getParameter("selectedItem");if(!t||!this._oGlActiveInput){return}var r=t.getBindingContext("vhGl").getObject();var n=String(r.Saknr||"").trim();var s=this._oGlActiveInput;var i=s.getBindingInfo("value");if(i&&i.parts&&i.parts.length){var o=i.parts[0].model;var a=i.parts[0].path;if(a&&a[0]!=="/"){var c=s.getBindingContext(o);if(c){a=c.getPath()+"/"+a}else{a="/"+a}}s.getModel(o).setProperty(a,n)}else{s.setValue(n)}}.bind(this),cancel:function(){}});t.addDependent(this._oGlVH)}var e=(n.getValue()||"").trim();this._oGlVH.open(e);this._applyGlSearchFilter(e)}.bind(this);var i=this._oGlJsonModel.getProperty("/results")||[];if(i.length>0){s();return}r.read("/SakoCoreSet",{urlParameters:{$select:"Saknr,Txt50",$top:"5000"},success:function(e){var t=e&&e.results?e.results:[];t=t.map(function(e){var t=Object.assign({},e);t.__saknr=String(t.Saknr||"").toLowerCase();t.__txt50=String(t.Txt50||"").toLowerCase();return t});this._oGlJsonModel.setProperty("/results",t);s()}.bind(this),error:function(e){sap.m.MessageToast.show(this.getResourceBundle().getText("cw.vh.gl.loadError"));console.log(e)}})},_applyGlSearchFilter:function(e){if(!this._oGlVH){return}var t=String(e||"").trim().toLowerCase();var r=this._oGlVH.getBinding("items");if(!r){return}if(!t){r.filter([]);return}r.filter([new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("__saknr",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("__txt50",sap.ui.model.FilterOperator.Contains,t)],and:false})],"Application")},_prefillReceiversWithCurrentUser:function(){this._getCurrentSapUserId().then(function(e){if(!e){return}const t=this.getView().getModel("cartProducts");if(!t){return}const r=this._getCartEntries()||[];if(!r.length){return}r.forEach(function(r,n){const s=String(r&&r.receiver||"").trim();if(!s){t.setProperty("/cartEntries/"+n+"/receiver",e)}});t.refresh(true)}.bind(this))},_getCurrentSapUserId:function(){return new Promise(function(e){try{if(sap.ushell&&sap.ushell.Container){if(sap.ushell.Container.getUser){const t=sap.ushell.Container.getUser();const r=t&&t.getId&&t.getId();if(r){e(String(r));return}}if(sap.ushell.Container.getServiceAsync){sap.ushell.Container.getServiceAsync("UserInfo").then(function(t){let r="";if(t&&typeof t.getId==="function"){r=t.getId()}else if(t&&typeof t.getUser==="function"){const e=t.getUser();r=e&&e.getId&&e.getId()}e(r?String(r):"")}).catch(function(){e("")});return}}}catch(e){}e("")})},onWeChange:function(e){var t=Number(e.getParameter("selectedIndex"));var r=e.getSource().getBindingContext("cartProducts");if(r){r.getModel().setProperty(r.getPath()+"/weExpectedIndex",t)}var n=this.getView().getModel("checkout");if(n){n.setProperty("/head/weExpectedIndex",t);if(t===1){n.setProperty("/head/AmtsvertragsbezugIndex",-1);n.setProperty("/head/sigma","");n.setProperty("/head/avbNumber","")}}this._syncHeadWeToCartItems()},onAttachFUChange:function(e){const t=e.getParameter("files")||[];if(!t.length){return}const r=this.getView().getModel("checkout");const n=r.getProperty("/attachments")||[];Array.from(t).forEach(e=>{n.push({id:Date.now()+"_"+Math.random().toString(36).slice(2),fileName:e.name,mediaType:e.type||"",size:e.size||0,objectUrl:URL.createObjectURL(e),_file:e,uploadState:"PENDING",docId:"",error:""})});r.setProperty("/attachments",n);r.refresh(true);const s=e.getSource();if(s&&s.clear){s.clear()}},_getServiceUrl:function(){const e=this.getOwnerComponent().getModel();let t=e&&e.sServiceUrl||"";if(t.endsWith("/")){t=t.slice(0,-1)}return t},_extractDocIdFromUploadResponse:function(e){const t=e.getResponseHeader("location")||e.getResponseHeader("Location")||"";if(t){const e=t.match(/Docid='([^']+)'/i)||t.match(/DocId='([^']+)'/i);if(e&&e[1]){return decodeURIComponent(e[1])}}const r=e.responseText||"";if(r){try{const e=JSON.parse(r);const t=e&&e.d?e.d:e;return t&&(t.DocId||t.Docid||t.docId||t.docid||t.ZMM_WEBS_DOC_ID)?String(t.DocId||t.Docid||t.docId||t.docid||t.ZMM_WEBS_DOC_ID):""}catch(e){}}return""},_uploadSingleAttachment:function(e,t){return new Promise((r,n)=>{const s=this.getResourceBundle();if(!e){n(new Error(s.getText("cw.upload.noFile")));return}if(!t){n(new Error(s.getText("cw.upload.noBanfn")));return}const i=this.getOwnerComponent().getModel();const o=e.name||"upload.bin";const a=String(t)+"|"+encodeURIComponent(o);const c=e.type||"application/octet-stream";const l=this._getServiceUrl()+"/BanfAttachmentSet";const u=new XMLHttpRequest;u.open("POST",l,true);u.setRequestHeader("Content-Type",c);u.setRequestHeader("Slug",a);u.setRequestHeader("Accept","application/json");const d=()=>{if(u.status>=200&&u.status<300){const e=this._extractDocIdFromUploadResponse(u);r({docId:e,raw:u.responseText||""})}else{const e=s.getText("cw.upload.failed",[String(u.status),String(u.responseText||"")]);n(new Error(e))}};u.onload=d;u.onerror=()=>n(new Error(s.getText("cw.upload.networkError")));i.refreshSecurityToken(()=>{try{const e=i.getSecurityToken();if(e){u.setRequestHeader("x-csrf-token",e)}}catch(e){}u.send(e)},()=>{n(new Error(s.getText("cw.upload.csrfError")))})})},_uploadAllAttachmentsForBanfn:async function(e){const t=this.getView().getModel("checkout");const r=t.getProperty("/attachments")||[];for(let n=0;n<r.length;n++){const s=r[n];if(!s||!s._file){continue}t.setProperty("/attachments/"+n+"/uploadState","UPLOADING");t.setProperty("/attachments/"+n+"/error","");t.refresh(true);try{const r=await this._uploadSingleAttachment(s._file,e);t.setProperty("/attachments/"+n+"/uploadState","DONE");t.setProperty("/attachments/"+n+"/docId",r.docId||"")}catch(e){t.setProperty("/attachments/"+n+"/uploadState","ERROR");t.setProperty("/attachments/"+n+"/error",String(e&&e.message?e.message:e));throw e}t.refresh(true)}},onAttachDelete:function(e){const t=e.getParameter("listItem")||e.getParameter("item");const r=t&&t.getBindingContext("checkout");if(!r){return}const n=r.getPath();const s=parseInt(n.split("/").pop(),10);const i=this.getView().getModel("checkout");const o=i.getProperty("/attachments")||[];const a=o[s];try{if(a&&a.objectUrl){URL.revokeObjectURL(a.objectUrl)}}catch(e){}o.splice(s,1);i.setProperty("/attachments",o);i.refresh(true)},onAttachOpen:function(e){const t=e.getSource();const r=t&&t.getBindingContext&&t.getBindingContext("checkout")||e.getParameter("listItem")&&e.getParameter("listItem").getBindingContext("checkout")||e.getParameter("item")&&e.getParameter("item").getBindingContext("checkout");const n=r&&r.getObject();if(n&&n.objectUrl){window.open(n.objectUrl,"_blank")}},onExit:function(){const e=this.getView().getModel("checkout").getProperty("/attachments")||[];e.forEach(e=>{try{URL.revokeObjectURL(e.objectUrl)}catch(e){}})},_validateStepForm:function(){return true},onInvArtChange:function(e){const t=e.getSource();const r=e.getParameter("selectedItem");const n=r?r.getKey():t.getSelectedKey()||"";this.getView().getModel("checkout").setProperty("/head/invArt",n);if(this.getView().getModel("checkoutWizard").getProperty("/validate")){t.setValueState(n?"None":"Error");t.setValueStateText(n?"":this.getResourceBundle().getText("cw.invArt.mandatory"))}},_validateStepAccounting:function(){const e=this.getResourceBundle();const t=this.getView().getModel("checkout");const r=t.getProperty("/head")||{};const n=[];if(!(r.weExpectedIndex===0||r.weExpectedIndex===1)){n.push(e.getText("cw.field.weOrService"))}if(r.weExpectedIndex===0){if(!r.sigma){n.push(e.getText("cw.field.sigma"))}if(!(r.AmtsvertragsbezugIndex===0||r.AmtsvertragsbezugIndex===1)){n.push(e.getText("cw.field.avbRef"))}if(r.AmtsvertragsbezugIndex===0){const t=r.avbNumber||"";if(!t.trim()){n.push(e.getText("cw.field.avbNumber"))}}}if(!(r.materialTypeIndex===0||r.materialTypeIndex===1)){n.push(e.getText("cw.field.orderType"))}if(r.materialTypeIndex===1){const t=this.byId("inpZKostl");const r=t&&t.getValue?t.getValue().trim():"";if(!r){n.push(e.getText("cw.field.costCenter"))}}const s=String(r.invArt||"").trim();if(!s){n.push(e.getText("cw.field.invArt"))}if(r.materialTypeIndex===0){const t=this._getCartEntries()||[];const r=t[0];if(!r){n.push(e.getText("cw.field.accountType"))}else{const t=r.accountType||"";if(!t){n.push(e.getText("cw.field.accountType"))}else if(t==="gl"&&!(r.costCenter||"").trim()){n.push(e.getText("cw.field.costCenter"))}else if(t==="io"&&!(r.internalOrder||"").trim()){n.push(e.getText("cw.field.internalOrder"))}else if(t==="wbs"&&!(r.accountValue||"").trim()){n.push(e.getText("cw.field.wbs"))}}}if(!Array.isArray(r.klass)||r.klass.length===0){n.push(e.getText("cw.field.classification"))}if(!r.werks){n.push(e.getText("cw.field.plant"))}if(!(r.UmweltIndex===0||r.UmweltIndex===1)){n.push(e.getText("cw.field.sustainability"))}if(n.length){sap.m.MessageBox.warning(e.getText("cw.msg.fillRequired")+" \n• "+n.join("\n• "));return false}return true},_createCheckoutDefaults:function(){return{banfn:"",plant:"",costCenter:"",note:"",attachments:[],head:{materialTypeIndex:-1,itRelvIndex:-1,hazardIndex:-1,exportIndex:-1,weExpectedIndex:-1,AmtsvertragsbezugIndex:-1,avbNumber:"",sigma:"",werks:"",ekorg:"",ekgrp:"",klass:[],UmweltIndex:-1,invArtKurz:"",invArt:"",invArtKeys:[]}}},_getCartEntries:function(){const e=this.getView().getModel(h);const t=e&&e.getProperty("/cartEntries");return Array.isArray(t)?t:Object.values(t||{})},_syncHeadWeToCartItems:function(){const e=this.getView().getModel("checkout");const t=this.getView().getModel("cartProducts");if(!e||!t){return}const r=Number(e.getProperty("/head/weExpectedIndex"));if(!(r===0||r===1)){return}const n=this._getCartEntries()||[];n.forEach((e,n)=>{const s=Number(e.weExpectedIndex);if(!(s===0||s===1)){t.setProperty("/cartEntries/"+n+"/weExpectedIndex",r)}});t.refresh(true)},onAccountTypeChange:function(e){const t=e.getSource();const r=t.getSelectedKey();const n=t.getBindingContext("cartProducts");if(!n){return}const s=n.getModel(),i=n.getPath();if(r!=="gl"){s.setProperty(i+"/costCenter","")}if(r!=="io"){s.setProperty(i+"/internalOrder","")}if(r!=="wbs"){s.setProperty(i+"/accountValue","")}},_ensureCartItemExtensions:function(){const e=this.getView().getModel(h);if(!e){return}const t=this._getCartEntries().map(function(e){return Object.assign({},e,{receiver:e.receiver||"",accountType:e.accountType||"",costCenter:e.costCenter||"",internalOrder:e.internalOrder||"",accountValue:e.accountValue||"",Matkl:e.Matkl||"",Wlief:e.Wlief||"",Ekgrp:e.Ekgrp||"",Idnlf:e.Idnlf||"",addText:e.addText||e.freitextAddText||e.AddText||e.Zusatztext||e.zusatztext||"",desiredDate:e.desiredDate||null,glAccount:e.glAccount||"",weExpectedIndex:typeof e.weExpectedIndex==="number"?e.weExpectedIndex:-1})});e.setProperty("/cartEntries",t);e.refresh(true)}})});
sap.ui.predefine("diehlwebshop/controller/Home.controller", ["./BaseController","../model/formatter","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/Device","sap/ui/core/Fragment","sap/m/SelectDialog","sap/m/StandardListItem"],(e,t,r,i,s,n,o,a)=>{"use strict";return e.extend("diehlwebshop.controller.Home",{formatter:t,onInit:function(){const e=this.getOwnerComponent();this._router=e.getRouter();this._router.getRoute("categories").attachMatched(this._onRouteMatched,this);this.getView().setModel(new sap.ui.model.json.JSONModel({items:[]}),"freitext");const t=e.getModel("appView");if(t&&t.getProperty("/cartOpen")==null){t.setProperty("/cartOpen",false)}this._router.attachRouteMatched(function(e){const t=e.getParameter("name");const r=this.getOwnerComponent().getModel("appView");if(!r){return}const i=r.getProperty("/_lastRouteName")||"";const s=t==="cart"||t==="productCart"||t==="purchaseRequestsCart";if(!s){r.setProperty("/lastNonCartRouteName",t);r.setProperty("/lastNonCartRouteArgs",e.getParameter("arguments")||{})}r.setProperty("/_lastRouteName",t);const n=t==="purchaseRequests"||t==="purchaseRequestsCart";const o=i==="product"||i==="category"||i==="checkoutWizard";if(n&&o&&typeof this._resetCategoriesToRoot==="function"){this._resetCategoriesToRoot()}if(i==="cart"&&n){r.setProperty("/skipNextPurchaseRequestsRebind",true)}if(t==="checkoutWizard"){r.setProperty("/layout","MidColumnFullScreen");r.setProperty("/cartOpen",false);return}if(s){r.setProperty("/layout","ThreeColumnsMidExpanded");r.setProperty("/cartOpen",true)}else{r.setProperty("/layout","TwoColumnsMidExpanded");r.setProperty("/cartOpen",false)}},this);const r=new sap.ui.model.json.JSONModel({currentParentId:"",pathStack:[],breadcrumbText:""});this.getView().setModel(r,"catnav");this._autoOpenPurchaseRequestsIfAny();const i=sap.ui.core.routing.HashChanger.getInstance().getHash()||"";if(!i||i==="categories"){this._router.navTo("purchaseRequestsCart",{},true)}const s=e.getModel();s.metadataLoaded().then(function(){setTimeout(function(){this._refreshCategoryList();this._loadOciCatalogs()}.bind(this),0)}.bind(this))},_autoOpenPurchaseRequestsIfAny:function(){const e=this.getOwnerComponent().getModel();e.metadataLoaded().then(function(){}.bind(this))},_loadOciCatalogs:function(){const e=this.getOwnerComponent().getModel("ociCatalogs");const t=this.getOwnerComponent().getModel();if(!e||!t){return}t.read("/KatalogSet",{success:function(t){const r=t&&t.results?t.results:[];const i=r.find(e=>String(e.ZmmWebsKatBez||"").toLowerCase()==="kataloge");if(!i){e.setData([{type:"FREETEXT",katalogName:this.getResourceBundle().getText("freitextOpenDialogButtonText")}]);return}const s=String(i.ZmmWebsKatId||"");const n=r.filter(e=>String(e.ZmmWebsKatParentId||"")===s).map(e=>({katalogName:String(e.ZmmWebsKatBez||""),serviceId:String(e.WsiDescriptionText||"").trim()}));const o=[{type:"FREETEXT",katalogName:this.getResourceBundle().getText("freitextOpenDialogButtonText")},...n];e.setData(o)}.bind(this),error:function(){e.setData([{type:"FREETEXT",katalogName:this.getResourceBundle().getText("freitextOpenDialogButtonText")}])}.bind(this)})},onPurchaseRequestPress:function(e){var t=e.getSource();var r=t.getBindingContext("purchaseRequest");var i=r.getProperty("Banfn");sap.m.MessageToast.show(this.getModel("i18n").getResourceBundle().getText("purchaseRequestDetailMessage",[i]))},_resetCategoriesToRoot:function(){const e=this.getView().getModel("catnav");if(!e){return}e.setProperty("/currentParentId","");e.setProperty("/pathStack",[]);e.setProperty("/breadcrumbText","");const t=this.byId("searchField");if(t&&t.setValue){t.setValue("")}const r=this.byId("productHomeList");const i=this.byId("categoryHomeList");if(r&&r.setVisible){r.setVisible(false)}if(i&&i.setVisible){i.setVisible(true)}this._refreshCategoryList()},_refreshCategoryList:function(){const e=this.byId("categoryHomeList");const t=e&&e.getBinding("items");if(!t)return;const r=this.getView().getModel("catnav").getProperty("/currentParentId")||"";let i;if(r===""){i=new sap.ui.model.Filter({and:false,filters:[new sap.ui.model.Filter("ZmmWebsKatParentId",sap.ui.model.FilterOperator.EQ,""),new sap.ui.model.Filter("ZmmWebsKatParentId",sap.ui.model.FilterOperator.EQ,null)]})}else{i=new sap.ui.model.Filter("ZmmWebsKatParentId",sap.ui.model.FilterOperator.EQ,r)}t.filter([i],"Application")},_onRouteMatched:function(){var e=this.getModel("appView").getProperty("/smallScreenMode");if(e){this._setLayout("One")}setTimeout(function(){this._refreshCategoryList();var e=this.byId("categoryHomeList");var t=this.getView().getModel("catnav");if(!e||!t){return}if(this._bAutoLevelUpOnce){this._bAutoLevelUpOnce=false;return}e.attachEventOnce("updateFinished",function(){var r=e.getItems()||[];var i=t.getProperty("/pathStack")||[];if(r.length===0&&i.length>0){this._bAutoLevelUpOnce=true;this.onCategoryLevelUp()}},this)}.bind(this),0)},onSearch:function(e){var t=(e.getSource().getValue()||"").toLowerCase();var r=this.byId("categoryHomeList");if(!r){return}r.getItems().forEach(function(e){var r=(typeof e.getTitle==="function"?e.getTitle():"")||e.getBindingContext()&&e.getBindingContext().getProperty("ZmmWebsKatBez")||"";var i=!t||r.toLowerCase().indexOf(t)>-1;e.setVisible(i)})},onExtMatnrLiveChange:function(e){const t=e.getSource();const r=this.getResourceBundle();const i=t.getValue()||"";if(i.length>35){t.setValueState("Error");t.setValueStateText(r.getText("freitext.err.extMatnrTooLong",[35]))}else{t.setValueState("None");t.setValueStateText("")}},onValueHelpCurrency:function(e){var t=this.getView();var r=this.getOwnerComponent().getModel();var i=e.getSource();this._oCurrActiveInput=i;if(!this._oCurrJsonModel){this._oCurrJsonModel=new sap.ui.model.json.JSONModel({results:[]});t.setModel(this._oCurrJsonModel,"vhCurr")}var s=function(){if(!this._oCurrVH){this._oCurrVH=new sap.m.SelectDialog({title:this.getResourceBundle().getText("home.vh.currency.title"),items:{path:"vhCurr>/results",template:new sap.m.StandardListItem({title:"{vhCurr>Waers}"})},search:function(e){var t=(e.getParameter("value")||"").trim().toLowerCase();this._applyCurrencySearchFilter(t)}.bind(this),confirm:function(e){var t=e.getParameter("selectedItem");if(!t){return}var r=t.getBindingContext("vhCurr").getObject();var i=String(r.Waers||"").trim();if(this._oCurrActiveInput){this._oCurrActiveInput.setValue(i)}}.bind(this),cancel:function(){}});t.addDependent(this._oCurrVH)}var e=(i.getValue()||"").trim();this._oCurrVH.open(e);this._applyCurrencySearchFilter(e)}.bind(this);var n=this._oCurrJsonModel.getProperty("/results")||[];if(n.length>0){s();return}r.read("/IsoCurcSet",{urlParameters:{$select:"Waers",$top:"5000"},success:function(e){var t=e&&e.results?e.results:[];t=t.map(function(e){var t=Object.assign({},e);t.__waers=String(t.Waers||"").toLowerCase();return t});this._oCurrJsonModel.setProperty("/results",t);s()}.bind(this),error:function(e){sap.m.MessageToast.show(this.getResourceBundle().getText("home.vh.currency.loadError"));console.log(e)}})},_applyCurrencySearchFilter:function(e){if(!this._oCurrVH){return}var t=String(e||"").trim().toLowerCase();var r=this._oCurrVH.getBinding("items");if(!r){return}if(!t){r.filter([]);return}r.filter([new sap.ui.model.Filter("__waers",sap.ui.model.FilterOperator.Contains,t)],"Application")},onValueHelpEkgrp:function(e){var t=this.getView();var r=this.getOwnerComponent().getModel();var i=e.getSource();this._oEkgrpActiveInput=i;if(!this._oEkgrpJsonModel){this._oEkgrpJsonModel=new sap.ui.model.json.JSONModel({results:[]});t.setModel(this._oEkgrpJsonModel,"vhEkgrp")}var s=function(){if(!this._oEkgrpVH){this._oEkgrpVH=new sap.m.SelectDialog({title:this.getResourceBundle().getText("home.vh.ekgrp.title"),items:{path:"vhEkgrp>/results",template:new sap.m.StandardListItem({title:"{vhEkgrp>Ekgrp}",description:"{vhEkgrp>Eknam}"})},search:function(e){var t=(e.getParameter("value")||"").trim();var r=e.getSource().getBinding("items");if(!r){return}if(!t){r.filter([]);return}r.filter([new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("Ekgrp",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Eknam",sap.ui.model.FilterOperator.Contains,t)],and:false})])}.bind(this),confirm:function(e){var t=e.getParameter("selectedItem");if(!t){return}var r=t.getBindingContext("vhEkgrp").getObject();var i=String(r.Ekgrp||"").trim();if(this._oEkgrpActiveInput){this._oEkgrpActiveInput.setValue(i)}}.bind(this),cancel:function(){}});t.addDependent(this._oEkgrpVH)}var e=(i.getValue()||"").trim();var r=this._oEkgrpVH.getBinding("items");if(r){r.filter(e?[new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("Ekgrp",sap.ui.model.FilterOperator.Contains,e),new sap.ui.model.Filter("Eknam",sap.ui.model.FilterOperator.Contains,e)],and:false})]:[])}this._oEkgrpVH.open(e)}.bind(this);var n=this._oEkgrpJsonModel.getProperty("/results")||[];if(n.length>0){s();return}r.read("/HT024MeSet",{urlParameters:{$select:"Ekgrp,Eknam",$top:"5000"},success:function(e){var t=e&&e.results?e.results:[];this._oEkgrpJsonModel.setProperty("/results",t);s()}.bind(this),error:function(e){sap.m.MessageToast.show(this.getResourceBundle().getText("home.vh.ekgrp.loadError"));console.log(e)}})},onValueHelpUnit:function(e){var t=this.getView();var r=this.getOwnerComponent().getModel();var i=e.getSource();this._oUnitActiveInput=i;if(!this._oUnitJsonModel){this._oUnitJsonModel=new sap.ui.model.json.JSONModel({results:[]});t.setModel(this._oUnitJsonModel,"vhUnit")}var s=function(){if(!this._oUnitVH){this._oUnitVH=new sap.m.SelectDialog({title:this.getResourceBundle().getText("home.vh.unit.title"),items:{path:"vhUnit>/results",template:new sap.m.StandardListItem({title:"{vhUnit>Meins}"})},search:function(e){var t=(e.getParameter("value")||"").trim().toLowerCase();this._applyUnitSearchFilter(t)}.bind(this),confirm:function(e){var t=e.getParameter("selectedItem");if(!t){return}var r=t.getBindingContext("vhUnit").getObject();var i=String(r.Meins||"").trim();if(this._oUnitActiveInput){this._oUnitActiveInput.setValue(i)}}.bind(this),cancel:function(){}});t.addDependent(this._oUnitVH)}var e=(i.getValue()||"").trim();this._oUnitVH.open(e);this._applyUnitSearchFilter(e)}.bind(this);var n=this._oUnitJsonModel.getProperty("/results")||[];if(n.length>0){s();return}r.read("/WrfPohfMeinsSet",{urlParameters:{$select:"Meins",$top:"5000"},success:function(e){var t=e&&e.results?e.results:[];t=t.map(function(e){var t=Object.assign({},e);t.__meins=String(t.Meins||"").toLowerCase();return t});this._oUnitJsonModel.setProperty("/results",t);s()}.bind(this),error:function(e){sap.m.MessageToast.show(this.getResourceBundle().getText("home.vh.unit.loadError"));console.log(e)}})},_applyUnitSearchFilter:function(e){if(!this._oUnitVH){return}var t=String(e||"").trim().toLowerCase();var r=this._oUnitVH.getBinding("items");if(!r){return}if(!t){r.filter([]);return}r.filter([new sap.ui.model.Filter("__meins",sap.ui.model.FilterOperator.Contains,t)],"Application")},onValueHelpUser:function(e){var t=this.getView();var r=this.getOwnerComponent().getModel();var i=e.getSource();this._oUserActiveInput=i;if(!this._oUserJsonModel){this._oUserJsonModel=new sap.ui.model.json.JSONModel({results:[]});t.setModel(this._oUserJsonModel,"vhUser")}var s=function(){if(!this._oUserVH){this._oUserVH=new sap.m.SelectDialog({title:this.getResourceBundle().getText("home.vh.user.title"),items:{path:"vhUser>/results",template:new sap.m.StandardListItem({title:"{vhUser>Bname}"})},search:function(e){var t=(e.getParameter("value")||"").trim().toLowerCase();this._applyUserSearchFilter(t)}.bind(this),confirm:function(e){var t=e.getParameter("selectedItem");if(!t){return}var r=t.getBindingContext("vhUser").getObject();var i=String(r.Bname||"").trim();if(this._oUserActiveInput){this._oUserActiveInput.setValue(i)}}.bind(this),cancel:function(){}});t.addDependent(this._oUserVH)}var e=(i.getValue()||"").trim();this._oUserVH.open(e);this._applyUserSearchFilter(e)}.bind(this);var n=this._oUserJsonModel.getProperty("/results")||[];if(n.length>0){s();return}r.read("/UserAddrSet",{urlParameters:{$select:"Bname",$top:"5000"},success:function(e){var t=e&&e.results?e.results:[];t=t.map(function(e){var t=Object.assign({},e);t.__bname=String(t.Bname||"").toLowerCase();return t});this._oUserJsonModel.setProperty("/results",t);s()}.bind(this),error:function(e){sap.m.MessageToast.show(this.getResourceBundle().getText("home.vh.user.loadError"));console.log(e)}})},_applyUserSearchFilter:function(e){if(!this._oUserVH){return}var t=String(e||"").trim().toLowerCase();var r=this._oUserVH.getBinding("items");if(!r){return}if(!t){r.filter([]);return}r.filter([new sap.ui.model.Filter("__bname",sap.ui.model.FilterOperator.Contains,t)],"Application")},onAddFreitextItem:function(){const e=e=>this.byId(e);const t=this.getResourceBundle();const r=String(e("freitextInputDescription").getValue()||"").trim();const i=String(e("freitextInputRequester").getValue()||"").trim();const s=String(e("freitextInputQuantity").getValue()||"");const n=String(e("freitextInputPrice").getValue()||"");const o=String(e("freitextInputUnit").getValue()||"ST").trim();const a=String(e("freitextInputCurrency").getValue()||"EUR").trim();const u=String(e("freitextInputSupplier").getValue()||"").trim();const l=String(e("freitextInputEkgrp").getValue()||"").trim();const c=String(e("freitextInputExtMatnr").getValue()||"").trim();const p=String(e("freitextInputAddText").getValue()||"").trim();["freitextInputDescription","freitextInputRequester","freitextInputQuantity","freitextInputPrice","freitextInputExtMatnr","freitextInputAddText"].forEach(t=>{const r=e(t);if(r&&r.setValueState){r.setValueState("None");r.setValueStateText("")}});const g=sap.ui.core.format.NumberFormat.getFloatInstance();const d=g.parse(s);const h=g.parse(n);if(c.length>35){const r=e("freitextInputExtMatnr");if(r){r.setValueState("Error");r.setValueStateText(t.getText("freitext.err.extMatnrTooLong",[35]))}sap.m.MessageBox.information(t.getText("freitext.msg.extMatnrTooLong",[35]));return}const m=[];const f=(r,i,s)=>{const n=e(r);if(n){n.setValueState("Error");n.setValueStateText(t.getText(i))}m.push(t.getText(s))};if(!r)f("freitextInputDescription","freitext.err.descRequired","freitext.field.description");if(!i)f("freitextInputRequester","freitext.err.receiverRequired","freitext.field.receiver");if(!(d>0))f("freitextInputQuantity","freitext.err.qtyRequired","freitext.field.quantity");if(!(h>=0))f("freitextInputPrice","freitext.err.priceRequired","freitext.field.price");if(m.length){sap.m.MessageBox.information(t.getText("freitext.msg.missingIntro")+"\n\n• "+m.join("\n• "));return}const v=Math.max(1,parseInt(d,10)||1);const S=Number(isNaN(h)?0:h);const _={ZmmWebsArtikelId:"FREETEXT-"+Date.now(),ZmmWebsKatId:"FREETEXT",ZmmWebsKatBez:r,ZmmWebsArtBez:r,MENGE:v,Meins:o,Bapre:S,Waers:a,receiver:i,Wlief:u,Ekgrp:l,Idnlf:c.slice(0,35),addText:p,AddText:p,weExpectedIndex:-1,accountType:"",accountValue:"",glAccount:"",Matkl:"",STATUS:"A"};this._addToCart(_,v);if(this.onCloseFreitextDialog){this.onCloseFreitextDialog()}},ociCatalogItemFactory:function(e,t){const r=t.getObject();if(r&&r.type==="FREETEXT"){return new sap.m.StandardListItem(this.createId("ociCatalogItem-FREETEXT"),{title:"{i18n>freitextOpenDialogButtonText}",type:"Active",icon:"sap-icon://add-document",press:this.onOpenFreitextDialog.bind(this)})}const i=(r&&r.serviceId?String(r.serviceId):"oci").replace(/[^\w\-:.]/g,"_");return new sap.m.StandardListItem(this.createId("ociCatalogItem-"+i),{title:"{ociCatalogs>katalogName}",type:"Active",press:this.onOpenExternalWebshop.bind(this)})},onOpenExternalWebshop:function(e){const t=e.getSource().getBindingContext("ociCatalogs");if(!t){sap.m.MessageToast.show(this.getResourceBundle().getText("oci.msg.noCatalogSelected"));return}const r=t.getObject();const i=r.serviceId||r.katalogName;this._openOciCatalogById(i)},_openOciCatalogByCandidates:function(e){const t=(e||[]).map(e=>e===undefined||e===null?"":String(e).trim()).filter(Boolean).filter((e,t,r)=>r.indexOf(e)===t);if(t.length===0){sap.m.MessageToast.show(this.getResourceBundle().getText("oci.msg.noCatalogIdFound"));return}const r=e=>{if(e>=t.length){sap.m.MessageToast.show(this.getResourceBundle().getText("oci.msg.noActionInCustomizing"));return}this._openOciCatalogById(t[e],function(){r(e+1)})};r(0)},_openOciCatalogById:function(e){console.log("OPEN OCI CATALOG BY ID:",e);if(!e){sap.m.MessageToast.show(this.getResourceBundle().getText("oci.msg.noCatalogIdFound"));return}const t=this.getOwnerComponent().getModel();t.read("/OCIKatalogParamsSet",{filters:[new sap.ui.model.Filter("KatalogID",sap.ui.model.FilterOperator.EQ,String(e).trim())],success:function(t){const r=t&&t.results?t.results:[];if(r.length===0){sap.m.MessageToast.show(this.getResourceBundle().getText("oci.msg.noCustomizingForCatalog",[String(e).trim()]));return}const i=r.find(e=>!e.Fieldnam||String(e.Fieldnam).trim()==="");const s=i&&i.Fieldval;if(!s){sap.m.MessageToast.show(this.getResourceBundle().getText("oci.msg.noActionForCatalog",[String(e).trim()]));return}const n=r.filter(e=>e.Fieldnam&&String(e.Fieldnam).trim().length>0).map(e=>({name:String(e.Fieldnam),value:e.Fieldval===undefined||e.Fieldval===null?"":String(e.Fieldval)}));const o=sap.ui.require.toUrl("diehlwebshop/webshop/ExternerWebshop.html");let a=sessionStorage.getItem("OCI_TAB_ID");if(!a){a=String(Date.now())+"_"+Math.random().toString(16).slice(2);sessionStorage.setItem("OCI_TAB_ID",a)}let u="OCI_CATALOG_WIN_"+a;if(window.name===u){u=u+"_POP"}const l=(e,t)=>{const r=n.findIndex(t=>String(t.name).toUpperCase()===String(e).toUpperCase());if(r>-1){n[r].value=t}else{n.push({name:e,value:t})}};l("~TARGET",u);l("returntarget",window.name);const c=n.find(e=>String(e.name||"").trim().toUpperCase()==="LIFNR");const p=c?String(c.value||"").trim():"";try{const t={catalogId:String(e).trim(),lifnr:p,winName:u,ts:Date.now()};sessionStorage.setItem("OCI_LAST_CTX",JSON.stringify(t));sessionStorage.setItem("OCI_CTX_"+u,JSON.stringify(t))}catch(e){}const g=(e,t)=>{const r=String(e||"").toUpperCase();const i=["KENNWORT","PASSWORD","PASSWD","PWD","SECRET"].some(e=>r.includes(e));return i?"********":t};console.group("OCI DEBUG: Absprung vorbereiten");console.log("KatalogID:",e);console.log("action:",s);console.log("method:","POST");console.log("target window:",u);console.log("gemerkte Lifnr:",p||"(leer)");console.table(n.map(e=>({name:e.name,value:g(e.name,e.value)})));console.groupEnd();const d=window.open(o,u);if(!d){sap.m.MessageToast.show(this.getResourceBundle().getText("oci.msg.popupBlocked"));return}const h=window.location.origin;const m=e=>{if(e.source===d&&e.origin===h&&e.data&&e.data.type==="OCI_READY"){window.removeEventListener("message",m);d.postMessage({type:"OCI_POST",payload:{action:s,method:"POST",fields:n}},h)}};window.addEventListener("message",m);setTimeout(function(){try{if(!d.closed){d.postMessage({type:"OCI_PING"},h)}}catch(e){}},1e3)}.bind(this),error:function(e){sap.m.MessageToast.show(this.getResourceBundle().getText("oci.msg.readParamsFailed"));console.log(e)}})},_attachNumericGuard:function(e){if(!e){return}e.addEventDelegate({onkeydown:function(t){const r=t.originalEvent||t;const i=r.key;const s=r.ctrlKey||r.metaKey;const n=["Backspace","Tab","Delete","ArrowLeft","ArrowRight","Home","End","Enter","Escape"].includes(i)||s&&["a","c","v","x","A","C","V","X"].includes(i)||(/^[0-9]$/.test(i)||i===","||i===".");if(!n){if(!this._numWarnTs||Date.now()-this._numWarnTs>1200){sap.m.MessageToast.show(this.getResourceBundle().getText("home.input.numericOnlyToast"));this._numWarnTs=Date.now()}e.setValueState("Error");e.setValueStateText(this.getResourceBundle().getText("home.input.numericOnlyState"));setTimeout(()=>e.setValueState("None"),1e3);r.preventDefault()}}.bind(this)})},onOpenFreitextDialog:function(){if(!this._oFreitextDialog){this._oFreitextDialog=sap.ui.xmlfragment(this.getView().getId(),"diehlwebshop.view.FreitextDialog",this);this.getView().addDependent(this._oFreitextDialog)}this._oFreitextDialog.open();this._attachNumericGuard(this.byId("freitextInputQuantity"));this._attachNumericGuard(this.byId("freitextInputPrice"))},onCloseFreitextDialog:function(){if(this._oFreitextDialog){this._oFreitextDialog.close()}},onValueHelpSupplier:function(e){var t=this.getView();var r=this.getOwnerComponent().getModel();var i=e.getSource();this._oSuppActiveInput=i;if(!this._oSuppJsonModel){this._oSuppJsonModel=new sap.ui.model.json.JSONModel({results:[]});t.setModel(this._oSuppJsonModel,"vhSupp")}var s=function(){if(!this._oSuppVH){this._oSuppVH=new sap.m.SelectDialog({title:"Wunschlieferant wählen",items:{path:"vhSupp>/results",template:new sap.m.StandardListItem({title:"{vhSupp>Sortl}",description:"{vhSupp>Lifnr}"})},search:function(e){var t=(e.getParameter("value")||"").trim().toLowerCase();var r=e.getSource().getBinding("items");if(!r){return}if(!t){r.filter([]);return}r.filter([new sap.ui.model.Filter({filters:[new sap.ui.model.Filter({path:"Lifnr",operator:sap.ui.model.FilterOperator.Contains,value1:t}),new sap.ui.model.Filter({path:"Sortl",operator:sap.ui.model.FilterOperator.Contains,value1:t}),new sap.ui.model.Filter({path:"Mcod1",operator:sap.ui.model.FilterOperator.Contains,value1:t})],and:false})],"Application")}.bind(this),confirm:function(e){var t=e.getParameter("selectedItem");if(!t){return}var r=t.getBindingContext("vhSupp").getObject();var i=String(r.Lifnr||"").trim();if(this._oSuppActiveInput){this._oSuppActiveInput.setValue(i)}}.bind(this),cancel:function(){}});t.addDependent(this._oSuppVH);var e=this._oSuppVH.getSubHeader&&this._oSuppVH.getSubHeader()}var r=(i.getValue()||"").trim();this._oSuppVH.open(r);this._applySupplierSearchFilter(r)}.bind(this);var n=this._oSuppJsonModel.getProperty("/results")||[];if(n.length>0){s();return}r.read("/KredaSet",{urlParameters:{$select:"Lifnr,Sortl,Mcod1",$top:"5000"},success:function(e){var t=e&&e.results?e.results:[];t=t.map(function(e){var t=Object.assign({},e);t.__lifnr=String(t.Lifnr||"").toLowerCase();t.__sortl=String(t.Sortl||"").toLowerCase();t.__mcod1=String(t.Mcod1||"").toLowerCase();return t});this._oSuppJsonModel.setProperty("/results",t);s()}.bind(this),error:function(e){sap.m.MessageToast.show("Lieferanten konnten nicht geladen werden.");console.log(e)}})},_applySupplierSearchFilter:function(e){if(!this._oSuppVH){return}var t=String(e||"").trim().toLowerCase();var r=this._oSuppVH.getBinding("items");if(!r){return}if(!t){r.filter([]);return}r.filter([new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("__lifnr",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("__sortl",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("__mcod1",sap.ui.model.FilterOperator.Contains,t)],and:false})],"Application")},_resetFreitextInputs:function(){const e=["freitextInputDescription","freitextInputAddText","freitextInputRequester","freitextInputSupplier","freitextInputEkgrp","freitextInputExtMatnr","freitextInputQuantity","freitextInputPrice"];e.forEach(e=>{const t=this.byId(e);if(t&&t.setValue){t.setValue("")}if(t&&t.setValueState){t.setValueState("None")}if(t&&t.setValueStateText){t.setValueStateText("")}});const t=this.byId("freitextInputUnit");if(t&&t.setValue){t.setValue("ST")}const r=this.byId("freitextInputCurrency");if(r&&r.setValue){r.setValue("EUR")}},onRefresh:function(){var e=this.byId("productHomeList");var t=e.getBinding("items");var r=function(){this.byId("pullToRefresh").hide();t.detachDataReceived(r)}.bind(this);t.attachDataReceived(r);this._search()},_search:function(){const e=this.getView();const t=e.byId("productHomeList");const r=e.byId("categoryHomeList");const i=e.byId("searchField");const s=(i.getValue()||"").trim().toLowerCase();const n=s.length>0;t.setVisible(n);r.setVisible(!n);if(!n){return}const o=t.getItems();if(!Array.isArray(o)||o.length===0){return}o.forEach(function(e){const t=e.getBindingContext();const r=t&&t.getObject?t.getObject():null;if(!r){e.setVisible(false);return}const i=(r.ZmmWebsKatBez||r.ZmmWebsArtBez||"").toLowerCase();const n=(r.Wlief||"").toLowerCase();const o=(r.ZmmWebsArtikelId||"").toLowerCase();const a=(r.Matkl||"").toLowerCase();const u=[i,n,o,a].some(e=>e.includes(s));e.setVisible(u)})},onCategoryListItemPress:function(e){const t=e.getSource();const r=t.getBindingContext();const i=r&&r.getObject?r.getObject():null;const n=i&&String(i.ZmmWebsKatId||"").trim();const o=i&&String(i.ZmmWebsKatBez||"").trim();if(!n){sap.m.MessageToast.show(this.getResourceBundle().getText("home.msg.noCategoryId"));return}const a=this.byId("categoryHomeList");const u=this.getView().getModel("catnav");const l=(u.getProperty("/pathStack")||[]).slice();const c=l.length?String(l[l.length-1].text||"").trim().toLowerCase():"";const p=i&&String(i.WsiDescriptionText||"").trim();if(p){this._openOciCatalogById(p);return}const g=l.slice();g.push({id:n,text:o});u.setProperty("/pathStack",g);u.setProperty("/currentParentId",n);u.setProperty("/breadcrumbText",g.map(e=>e.text).join(" / "));this._refreshCategoryList();a.attachEventOnce("updateFinished",function(){if(a.getItems().length===0){this._router.navTo("category",{id:n},!s.system.phone)}},this)},onCategoryLevelUp:function(){const e=this.getView().getModel("catnav");const t=(e.getProperty("/pathStack")||[]).slice();t.pop();const r=t.length?t[t.length-1].id:"";e.setProperty("/pathStack",t);e.setProperty("/currentParentId",r);e.setProperty("/breadcrumbText",t.map(e=>e.text).join(" / "));this._refreshCategoryList()},onProductListSelect:function(e){var t=e.getParameter("listItem");this._showProduct(t)},onProductListItemPress:function(e){console.log("✅ onProductListItemPress wurde aufgerufen");var t=e.getSource();this._showProduct(t)},_showProduct:function(e){const t=e.getBindingContext().getObject();this._router.navTo("product",{id:String(t.ZmmWebsKatId),productId:String(t.ZmmWebsArtikelId)},!s.system.phone)},onBack:function(){this.getRouter().navTo("home")}})});
sap.ui.predefine("diehlwebshop/controller/NotFound.controller", ["./BaseController","sap/ui/core/UIComponent"],function(e,o){"use strict";return e.extend("diehlwebshop.controller.NotFound",{onInit:function(){this._router=o.getRouterFor(this)}})});
sap.ui.predefine("diehlwebshop/controller/Product.controller", ["./BaseController","../model/formatter","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator"],(e,t,i,o,n)=>{"use strict";return e.extend("diehlwebshop.controller.Product",{formatter:t,onInit:function(){const e=this.getOwnerComponent();this._router=e.getRouter();this.getView().setModel(new i([]),"productImages");this._pImageGalleryDialog=null;this._oImageGalleryDialog=null;this._router.getRoute("product").attachPatternMatched(this._onRouteMatched,this);this._router.getTarget("product").attachDisplay(function(e){this._bindProductById(e.getParameter("data").productId)},this)},_onRouteMatched:function(e){this._bindProductById(e.getParameter("arguments").productId)},_bindProductById:function(e){const t=this.getView();const i=t.getModel();i.metadataLoaded().then(function(){const o="/"+i.createKey("ArtikelSet",{ZmmWebsArtikelId:e});t.bindElement({path:o,events:{dataRequested:()=>t.setBusy(true),dataReceived:()=>{t.setBusy(false);this._checkIfProductAvailable(o);this._loadProductImages(e)},change:()=>{this._checkIfProductAvailable(o);this._loadProductImages(e)}}})}.bind(this))},_getImageGalleryDialog:function(){const e=this.getView().getId();const t=e+"--imageGalleryDialog";const i=sap.ui.getCore().byId(t);if(i){this._oImageGalleryDialog=i;i.setModel(this.getView().getModel("productImages"),"productImages");i.setModel(this.getOwnerComponent().getModel("i18n"),"i18n");i.setModel(this.getOwnerComponent().getModel("device"),"device");this._pImageGalleryDialog=Promise.resolve(i);return this._pImageGalleryDialog}if(this._pImageGalleryDialog){return this._pImageGalleryDialog}this._pImageGalleryDialog=sap.ui.core.Fragment.load({id:e,name:"diehlwebshop.view.fragments.ImageGalleryDialog",controller:this}).then(function(e){this._oImageGalleryDialog=e;this.getView().addDependent(e);e.setModel(this.getView().getModel("productImages"),"productImages");e.setModel(this.getOwnerComponent().getModel("i18n"),"i18n");e.setModel(this.getOwnerComponent().getModel("device"),"device");return e}.bind(this)).catch(function(e){this._pImageGalleryDialog=null;throw e}.bind(this));return this._pImageGalleryDialog},onProductCarouselPageChanged:function(e){const t=e.getParameter("newActivePageId");const i=t?sap.ui.getCore().byId(t):null;const o=i&&i.getBindingContext("productImages");const n=o&&o.getPath?o.getPath():"";const s=parseInt(String(n).split("/").pop(),10);this._iLastProductCarouselIndex=Number.isInteger(s)?s:0},onOpenImageGallery:async function(e){const t=await this._getImageGalleryDialog();let i=-1;const o=e&&e.getSource?e.getSource():null;const n=o&&o.getBindingContext?o.getBindingContext("productImages"):null;if(n){const e=n.getPath();const t=parseInt(String(e).split("/").pop(),10);if(Number.isInteger(t)){i=t}}if(!Number.isInteger(i)||i<0){const e=this.byId("productCarousel");if(e){const t=e.getActivePage();const o=t&&sap.ui.getCore().byId(t);if(o){i=e.indexOfPage(o)}}}const s=function(){t.detachAfterOpen(s);const e=sap.ui.core.Fragment.byId(this.getView().getId(),"imageGalleryCarousel");if(!e){return}const o=e.getPages();if(!o||!o.length){return}const n=Number.isInteger(i)&&o[i]?i:0;e.setActivePage(o[n].getId());this._applyContainToGalleryImages()}.bind(this);t.attachAfterOpen(s);t.open()},onCloseImageGallery:function(){if(this._oImageGalleryDialog){this._oImageGalleryDialog.close()}},onPrevImage:function(){const e=sap.ui.core.Fragment.byId(this.getView().getId(),"imageGalleryCarousel");if(e){e.previous();this._applyContainToGalleryImages()}},onNextImage:function(){const e=sap.ui.core.Fragment.byId(this.getView().getId(),"imageGalleryCarousel");if(e){e.next();this._applyContainToGalleryImages()}},onExit:function(){if(this._oImageGalleryDialog){this._oImageGalleryDialog.destroy();this._oImageGalleryDialog=null}this._pImageGalleryDialog=null},_applyContainToGalleryImages:function(){if(!this._oImageGalleryDialog){return}const e=this._oImageGalleryDialog.$();if(!e||e.length===0){return}e.find("img").each(function(){this.style.objectFit="contain";this.style.width="100%";this.style.height="100%";this.style.maxWidth="100%";this.style.maxHeight="100%";this.style.display="block"})},_loadProductImages:function(e){const t=this.getView().getModel("productImages");if(!e){t.setData([]);t.updateBindings(true);return}const i=this.getView().getModel();const s=i.getMetaModel();const a=s.getODataEntitySet("ArtiikelbildSet");if(!a){t.setData([]);t.updateBindings(true);return}const r=[new o("ArtikelId",n.EQ,String(e))];i.read("/ArtiikelbildSet",{filters:r,success:function(e){const o=e&&e.results?e.results:[];if(!o.length){t.setData([]);t.updateBindings(true);return}let n=i.sServiceUrl||"";if(n.endsWith("/")){n=n.slice(0,-1)}const s=o.map(function(e){const t=e.ArtikelId;const o=e.DocId;if(!t||!o){return null}const s=i.createKey("BildmediaSet",{ArtikelId:t,DocId:o});const a=n+"/"+s+"/$value";const r=e.ImageOrder??e.ORDER??e.SeqNr??e.SEQNR??e.Sort??e.SORT_NR??0;return{src:a,order:parseInt(r,10)||0,title:e.Filename||e.TITLE||e.ALT||e.BEZEICHNUNG||""}}).filter(Boolean);s.sort((e,t)=>e.order-t.order);t.setData(s);t.updateBindings(true)}.bind(this),error:function(){t.setData([]);t.updateBindings(true)}})},_checkIfProductAvailable:function(e){const t=this.getModel().getProperty(e);if(t==null){this._router.getTargets().display("notFound")}},onToggleCart:function(e){const t=!!e.getParameter("pressed");const i=this.getView().getBindingContext();const o=i&&i.getObject?i.getObject():null;if(!o||!o.ZmmWebsKatId||!o.ZmmWebsArtikelId){return}if(t){this.getRouter().navTo("productCart",{id:o.ZmmWebsKatId,productId:o.ZmmWebsArtikelId},true)}else{this.getRouter().navTo("product",{id:o.ZmmWebsKatId,productId:o.ZmmWebsArtikelId},true)}},onAddToCart:function(){const e=this.getView();const t=e.byId("siQtyProduct")||e.byId("siQtySnapped");const i=parseInt(t&&t.getValue?t.getValue():1,10)||1;const o=e.getBindingContext()&&e.getBindingContext().getObject?e.getBindingContext().getObject():null;this._addToCart(o,i)},onBackToHome:function(){const e=this.getOwnerComponent().getModel("appView");if(e){e.setProperty("/cartOpen",false);e.setProperty("/layout","TwoColumnsMidExpanded")}this.getRouter().navTo("purchaseRequests",{},true)},onAddToWatchlist:function(){const e=this.getView();const t=e.byId("siQtyProduct");const i=parseInt(t&&t.getValue?t.getValue():1,10)||1;const o=e.getBindingContext();if(!o){return}const n=o.getObject();const s=this.getOwnerComponent().getModel("cartProducts");let a=s.getProperty("/savedForLaterEntries")||[];if(!Array.isArray(a)){a=Object.values(a)}const r=String(n.ZmmWebsArtikelId);const l=a.findIndex(e=>String(e.ZmmWebsArtikelId)===r);if(l===-1){const e=Object.assign({},n,{MENGE:i});a.push(e);s.setProperty("/savedForLaterEntries",a);s.refresh(true);sap.m.MessageToast.show(this.getResourceBundle().getText("productAddedToWatchlist",[n.ZmmWebsArtBez]))}else{const e=parseInt(a[l].MENGE,10)||0;a[l].MENGE=e+i;s.setProperty("/savedForLaterEntries",a);s.refresh(true);const t=this.getResourceBundle();sap.m.MessageToast.show(this.getResourceBundle().getText("watchlistQuantityUpdated",[a[l].MENGE,n.ZmmWebsArtBez]))}}})});
sap.ui.predefine("diehlwebshop/controller/PurchaseRequestDetail.controller", ["./BaseController"],function(e){"use strict";return e.extend("diehlwebshop.controller.PurchaseRequestDetail",{onInit:function(){console.log("✅ PurchaseRequestDetail-Controller geladen.")}})});
sap.ui.predefine("diehlwebshop/controller/PurchaseRequests.controller", ["sap/ui/core/mvc/Controller","sap/m/ListType","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/type/Float"],function(e,t,r,i,n){"use strict";return e.extend("diehlwebshop.controller.PurchaseRequests",{onInit:function(){console.log("PurchaseRequests onInit",Date.now());var e=this.getOwnerComponent().getRouter();e.getRoute("purchaseRequests").attachPatternMatched(this._onRouteMatched,this);if(e.getRoute("purchaseRequestsCart")){e.getRoute("purchaseRequestsCart").attachPatternMatched(this._onRouteMatched,this)}var t=this.byId("banfSmartTable");var r=this.byId("prFilterBar");t.attachInitialise(function(){var e=t.getTable();if(e&&!this._bBapreFmtAttached){this._bBapreFmtAttached=true;e.attachUpdateFinished(this._applyBapreScale2,this)}this._applyBapreScale2();if(e&&e.setMode){e.setMode("MultiSelect");e.attachSelectionChange(this._onSelectionChanged,this)}var r=e.getBindingInfo("items");if(r&&r.template){r.template.setType(sap.m.ListType.Navigation)}e.attachItemPress(this.onRowPress,this);if(t.attachPersonalisationChanged){t.attachPersonalisationChanged(function(){t.rebindTable(true)})}},this);t.attachBeforeRebindTable(this._onBeforeRebindTable,this);if(r){r.attachFilterChange(function(){r.search()})}},_applyBapreScale2:function(){var e=this.byId("banfSmartTable");if(!e){return}var t=e.getTable();if(!t){return}var r=new n({minFractionDigits:2,maxFractionDigits:2});var i=function(e){if(!e||!e.getBindingInfo){return false}var t=e.getBindingInfo("text");if(!t){return false}if(t.path==="Bapre"){return true}if(Array.isArray(t.parts)&&t.parts.some(function(e){return e&&e.path==="Bapre"})){return true}return false};var a=function(e){if(!e||!e.bindProperty){return false}if(!i(e)){return false}e.bindProperty("text",{path:"Bapre",type:r});return true};var s=-1;var o=t.getBindingInfo("items");var u=o&&o.template;if(u&&u.getCells){var l=u.getCells()||[];for(var p=0;p<l.length;p++){if(i(l[p])){s=p;a(l[p]);break}}}var h=t.getItems?t.getItems():[];for(var c=0;c<h.length;c++){var g=h[c]&&h[c].getCells?h[c].getCells():null;if(!g||!g.length){continue}if(s>=0&&g[s]){a(g[s])}else{for(var d=0;d<g.length;d++){if(a(g[d])){break}}}}},_onRouteMatched:function(){var e=this.getOwnerComponent().getModel("appView");var t=!!(e&&e.getProperty("/skipNextPurchaseRequestsRebind"));if(t&&e){e.setProperty("/skipNextPurchaseRequestsRebind",false);return}var r=this.byId("banfSmartTable");if(!r){return}if(r.rebindTable){r.rebindTable(true)}else{var i=r.getTable&&r.getTable();var n=i&&i.getBinding&&i.getBinding("items");if(n&&n.refresh){n.refresh(true)}}},_onSelectionChanged:function(){var e=this.byId("banfSmartTable").getTable();var t=e&&e.getSelectedItems?e.getSelectedItems().length:0;this.byId("btnReAdd").setEnabled(t>0)},onReAddSelected:function(){var e=this.byId("banfSmartTable").getTable();if(!e||!e.getSelectedContexts){return}var t=e.getSelectedContexts();if(!t.length){return}var r=this.getOwnerComponent().getModel("cartProducts");var i=r.getProperty("/cartEntries")||[];t.forEach(function(e){var t=e.getObject();var r=this._mapPurchaseRequestToCartItem(t);if(!r){return}var n=String(r.ZmmWebsArtikelId||"");var a=i.findIndex(function(e){return String(e.ZmmWebsArtikelId)===n});if(a===-1){i.push(r)}else{i[a].MENGE=(parseInt(i[a].MENGE,10)||0)+(parseInt(r.MENGE,10)||1)}}.bind(this));r.setProperty("/cartEntries",i);r.setProperty("/showProceedButton",i.length>0);r.setProperty("/showEditButton",i.length>0);r.refresh(true);sap.m.MessageToast.show(this.getOwnerComponent().getModel("i18n").getResourceBundle().getText("reAddSuccess",[t.length]));e.removeSelections();this.byId("btnReAdd").setEnabled(false)},_mapPurchaseRequestToCartItem:function(e){if(!e){return null}if(e.ZmmWebsArtikelId){var t=Object.assign({},e);if(!t.MENGE){t.MENGE=1}return t}return{ZmmWebsArtikelId:"BANF-"+String(e.Banfn||"")+"-"+String(e.Bnfpo||""),ZmmWebsKatId:"REORDER",ZmmWebsKatBez:e.Txz01||"",ZmmWebsArtBez:e.Txz01||"",Bapre:Number(e.Bapre||0),Waers:e.Waers||"EUR",Meins:e.Meins||"ST",Wlief:e.Lifnr||"",MENGE:1,STATUS:"A"}},_onBeforeRebindTable:function(e){var t=e.getParameter("bindingParams");if(!t){return}t.parameters=t.parameters||{};t.parameters.operationMode="Client";t.parameters.threshold=5e3;var r=this.byId("prFilterBar");if(!r){return}var i=[];try{i=r.getFilters()||[]}catch(e){i=[]}var n=r.getFilterData&&r.getFilterData(true)?r.getFilterData(true):{};var a="";var s=n.Banfn;if(s&&Array.isArray(s.ranges)&&s.ranges.length){var o=s.ranges[0]||{};a=o.value1||o.low||o.value||""}a=String(a||"").trim();var u=a.indexOf("*")>=0;if(a){a=a.replace(/\*/g,"").trim()}var l=Array.isArray(i)?i.slice():[];if(u&&a){l=l.filter(function(e){return!(e&&e.sPath==="Banfn")});l.push(new sap.ui.model.Filter("Banfn",sap.ui.model.FilterOperator.Contains,a))}var p=function(e,t){var r=this.byId(e);if(!r||!r.getValue){return}var i=String(r.getValue()||"").trim();if(!i){return}i=i.replace(/\*/g,"").trim();if(!i){return}l.push(new sap.ui.model.Filter(t,sap.ui.model.FilterOperator.Contains,i))}.bind(this);p("sfbCurrency","Waers");p("sfbSupplier","Lifnr");p("sfbStatusWe","ZmmWebsStatusWe");t.filters=l},onValueHelpCurrency:function(e){var t=this.getView();var r=this.getOwnerComponent().getModel();this._oCurrActiveInput=this.byId("sfbCurrency");if(!this._oCurrJsonModel){this._oCurrJsonModel=new sap.ui.model.json.JSONModel({results:[]});t.setModel(this._oCurrJsonModel,"vhCurrPR")}var i=function(){if(!this._oCurrVH){this._oCurrVH=new sap.m.SelectDialog({title:this.getOwnerComponent().getModel("i18n").getResourceBundle().getText("vh.currency.title"),items:{path:"vhCurrPR>/results",template:new sap.m.StandardListItem({title:"{vhCurrPR>Waers}"})},search:function(e){var t=(e.getParameter("value")||"").trim().toLowerCase();this._applyCurrencySearchFilterPR(t)}.bind(this),confirm:function(e){var t=e.getParameter("selectedItem");if(!t){return}var r=t.getBindingContext("vhCurrPR").getObject();var i=String(r.Waers||"").trim();if(this._oCurrActiveInput){this._oCurrActiveInput.setValue(i)}this._triggerPrSearch()}.bind(this),cancel:function(){}});t.addDependent(this._oCurrVH)}var e=(this._oCurrActiveInput.getValue()||"").trim();this._oCurrVH.open(e);this._applyCurrencySearchFilterPR(e)}.bind(this);var n=this._oCurrJsonModel.getProperty("/results")||[];if(n.length>0){i();return}r.read("/IsoCurcSet",{urlParameters:{$select:"Waers",$top:"5000"},success:function(e){var t=e&&e.results?e.results:[];t=t.map(function(e){var t=Object.assign({},e);t.__waers=String(t.Waers||"").toLowerCase();return t});this._oCurrJsonModel.setProperty("/results",t);i()}.bind(this),error:function(e){sap.m.MessageToast.show(this.getOwnerComponent().getModel("i18n").getResourceBundle().getText("vh.currency.loadError"));console.log(e)}})},_applyCurrencySearchFilterPR:function(e){if(!this._oCurrVH){return}var t=String(e||"").trim().toLowerCase();var r=this._oCurrVH.getBinding("items");if(!r){return}if(!t){r.filter([]);return}r.filter([new sap.ui.model.Filter("__waers",sap.ui.model.FilterOperator.Contains,t)],"Application")},onValueHelpSupplier:function(e){var t=this.getView();var r=this.getOwnerComponent().getModel();this._oSuppActiveInput=this.byId("sfbSupplier");if(!this._oSuppJsonModel){this._oSuppJsonModel=new sap.ui.model.json.JSONModel({results:[]});t.setModel(this._oSuppJsonModel,"vhSuppPR")}var i=function(){if(!this._oSuppVH){this._oSuppVH=new sap.m.SelectDialog({title:this.getOwnerComponent().getModel("i18n").getResourceBundle().getText("vh.supplier.title"),items:{path:"vhSuppPR>/results",template:new sap.m.StandardListItem({title:"{vhSuppPR>Sortl}",description:"{vhSuppPR>Lifnr}"})},search:function(e){var t=(e.getParameter("value")||"").trim().toLowerCase();this._applySupplierSearchFilterPR(t)}.bind(this),confirm:function(e){var t=e.getParameter("selectedItem");if(!t){return}var r=t.getBindingContext("vhSuppPR").getObject();var i=String(r.Lifnr||"").trim();if(this._oSuppActiveInput){this._oSuppActiveInput.setValue(i)}this._triggerPrSearch()}.bind(this),cancel:function(){}});t.addDependent(this._oSuppVH)}var e=(this._oSuppActiveInput.getValue()||"").trim();this._oSuppVH.open(e);this._applySupplierSearchFilterPR(e)}.bind(this);var n=this._oSuppJsonModel.getProperty("/results")||[];if(n.length>0){i();return}r.read("/KredaSet",{urlParameters:{$select:"Lifnr,Sortl,Mcod1",$top:"5000"},success:function(e){var t=e&&e.results?e.results:[];t=t.map(function(e){var t=Object.assign({},e);t.__lifnr=String(t.Lifnr||"").toLowerCase();t.__sortl=String(t.Sortl||"").toLowerCase();t.__mcod1=String(t.Mcod1||"").toLowerCase();return t});this._oSuppJsonModel.setProperty("/results",t);i()}.bind(this),error:function(e){sap.m.MessageToast.show(this.getOwnerComponent().getModel("i18n").getResourceBundle().getText("vh.supplier.loadError"));console.log(e)}})},_applySupplierSearchFilterPR:function(e){if(!this._oSuppVH){return}var t=String(e||"").trim().toLowerCase();var r=this._oSuppVH.getBinding("items");if(!r){return}if(!t){r.filter([]);return}r.filter([new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("__lifnr",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("__sortl",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("__mcod1",sap.ui.model.FilterOperator.Contains,t)],and:false})],"Application")},onValueHelpStatusWe:function(e){var t=this.getView();var r=this.getOwnerComponent().getModel();var i=e.getSource();this._oStatusWeActiveInput=i;if(!this._oStatusWeJsonModel){this._oStatusWeJsonModel=new sap.ui.model.json.JSONModel({results:[]});t.setModel(this._oStatusWeJsonModel,"vhStatusWe")}var n=function(){if(!this._oStatusWeVH){this._oStatusWeVH=new sap.m.SelectDialog({title:this.getOwnerComponent().getModel("i18n").getResourceBundle().getText("vh.statusWe.title"),items:{path:"vhStatusWe>/results",template:new sap.m.StandardListItem({title:"{vhStatusWe>code}",description:"{vhStatusWe>text}"})},search:function(e){var t=(e.getParameter("value")||"").trim().toLowerCase();this._applyStatusWeSearchFilter(t)}.bind(this),confirm:function(e){var t=e.getParameter("selectedItem");if(!t||!this._oStatusWeActiveInput){return}var r=t.getBindingContext("vhStatusWe").getObject();var i=String(r.code||"").trim();this._oStatusWeActiveInput.setValue(i)}.bind(this),cancel:function(){}});t.addDependent(this._oStatusWeVH)}var e=(i.getValue()||"").trim();this._oStatusWeVH.open(e);this._applyStatusWeSearchFilter(e)}.bind(this);var a=this._oStatusWeJsonModel.getProperty("/results")||[];if(a.length>0){n();return}this._resolveStatusWeEntitySetPath().then(function(e){r.read(e,{urlParameters:{$top:"5000"},success:function(e){var t=e&&e.results?e.results:[];t=t.map(function(e){var t=e.ZmmDeWebsStatusWe||e.ZmmWebsStatusWe||e.StatusWe||e.STATUS_WE||e.Code||"";var r=e.ZmmDeWebsStatusWeBez||e.ZmmWebsStatusWeBez||e.StatusWeBez||e.STATUS_WE_BEZ||e.Text||"";t=String(t||"").trim();r=String(r||"").trim();var i=Object.assign({},e);i.code=t;i.text=r;i.__code=t.toLowerCase();i.__text=r.toLowerCase();return i});t=t.filter(function(e){return(e.code||"").trim().length>0});this._oStatusWeJsonModel.setProperty("/results",t);n()}.bind(this),error:function(e){sap.m.MessageToast.show(this.getOwnerComponent().getModel("i18n").getResourceBundle().getText("vh.statusWe.loadError"));console.log(e)}})}.bind(this)).catch(function(e){sap.m.MessageToast.show(this.getOwnerComponent().getModel("i18n").getResourceBundle().getText("vh.statusWe.entitySetNotFound"));console.log(e)})},_applyStatusWeSearchFilter:function(e){if(!this._oStatusWeVH){return}var t=String(e||"").trim().toLowerCase();var r=this._oStatusWeVH.getBinding("items");if(!r){return}if(!t){r.filter([]);return}r.filter([new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("__code",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("__text",sap.ui.model.FilterOperator.Contains,t)],and:false})],"Application")},_resolveStatusWeEntitySetPath:function(){var e=this.getOwnerComponent().getModel();var t=e&&e.getMetaModel?e.getMetaModel():null;var r=["ZmmWebsShStWeSet","ZmmWebsShStWe","ZmmWebsStatusWeSet","StatusWeSet"];if(!t||!t.loaded){return Promise.resolve("/"+r[0])}return t.loaded().then(function(){var e=t.getODataEntityContainer&&t.getODataEntityContainer();var i=e&&e.entitySet?e.entitySet:[];var n="";r.some(function(e){var t=i.some(function(t){return t&&t.name===e});if(t){n=e}return t});if(n){return"/"+n}return"/"+r[0]})},_triggerPrSearch:function(){var e=this.byId("prFilterBar");if(e&&e.search){e.search()}},onRowPress:function(e){var t=e.getParameter("listItem").getBindingContext().getProperty("Banfn");this.getOwnerComponent().getRouter().navTo("purchaseRequestDetail",{banfn:t})},onCartButtonPress:function(){if(typeof this.toggleCart==="function"){this.toggleCart();return}var e=this.getOwnerComponent().getModel("appView");if(!e){return}var t=!!e.getProperty("/cartOpen");if(t){e.setProperty("/cartOpen",false);var r=e.getProperty("/lastNonCartHash");if(r){sap.ui.core.routing.HashChanger.getInstance().replaceHash(r)}else{this.getOwnerComponent().getRouter().navTo("purchaseRequests",{},true)}}else{var i=sap.ui.core.routing.HashChanger.getInstance().getHash()||"";var n=i==="cart"||i.endsWith("/cart")||i.indexOf("purchaseRequests/cart")===0;if(!n){e.setProperty("/lastNonCartHash",i)}e.setProperty("/cartOpen",true);this.getOwnerComponent().getRouter().navTo("cart",{},false)}}})});
sap.ui.predefine("diehlwebshop/model/IndexedDBModel", ["sap/ui/model/json/JSONModel"],t=>{"use strict";const e="webshop-db";const s="webshop";const o=150;function r(){return new Promise((t,o)=>{const r=indexedDB.open(e,1);r.onupgradeneeded=()=>r.result.createObjectStore(s);r.onsuccess=()=>t(r.result);r.onerror=()=>o(r.error)})}function n(t){return r().then(e=>new Promise((o,r)=>{const n=e.transaction(s,"readonly");const i=n.objectStore(s).get(t);i.onsuccess=()=>o(i.result);i.onerror=()=>r(i.error)}))}function i(t,e){return r().then(o=>new Promise((r,n)=>{const i=o.transaction(s,"readwrite");i.objectStore(s).put(e,t);i.oncomplete=()=>r();i.onerror=()=>n(i.error)}))}return t.extend("diehlwebshop.model.IndexedDBModel",{_STORAGE_KEY:"LOCALSTORAGE_MODEL",constructor:function(e,s){t.apply(this,[].slice.call(arguments,1));this.setSizeLimit(1e6);if(e){this._STORAGE_KEY=e}this._useIdb=typeof indexedDB!=="undefined";this._saveTimer=null;this._loadData();return this},async _loadData(){try{if(this._useIdb){const t=await n(this._STORAGE_KEY);if(t){this.setData(t)}}else{const t=window.localStorage.getItem(this._STORAGE_KEY);if(t){this.setData(JSON.parse(t))}}}catch(t){jQuery.sap.log.warning("Konnte Daten nicht laden",t)}this._bDataLoaded=true},_storeDataNow:async function(){try{const t=this.getData();if(this._useIdb){await i(this._STORAGE_KEY,t)}else{window.localStorage.setItem(this._STORAGE_KEY,JSON.stringify(t))}}catch(t){jQuery.sap.log.error("Konnte Daten nicht speichern",t)}},_storeData:function(){clearTimeout(this._saveTimer);this._saveTimer=setTimeout(()=>this._storeDataNow(),o)},setProperty:function(){t.prototype.setProperty.apply(this,arguments);this._storeData()},setData:function(){t.prototype.setData.apply(this,arguments);if(this._bDataLoaded){this._storeData()}},refresh:function(){t.prototype.refresh.apply(this,arguments);this._storeData()}})});
sap.ui.predefine("diehlwebshop/model/cart", ["sap/m/MessageBox","sap/m/MessageToast"],function(t,e){"use strict";return{addToCart:function(e,s,i){if(s.Product!==undefined){s=s.Product}switch(s.Status){case"D":t.show(e.getText("productStatusDiscontinuedMsg"),{icon:t.Icon.ERROR,title:e.getText("productStatusDiscontinuedTitle"),actions:[t.Action.CLOSE]});break;case"O":t.show(e.getText("productStatusOutOfStockMsg"),{icon:t.Icon.QUESTION,title:e.getText("productStatusOutOfStockTitle"),actions:[t.Action.OK,t.Action.CANCEL],onClose:function(n){if(t.Action.OK===n){this._updateCartItem(e,s,i)}}.bind(this)});break;case"A":default:this._updateCartItem(e,s,i);break}},_updateCartItem:function(t,s,i){var n=Object.assign({},i.getData()["cartEntries"]);var a=n[s.Produktid];if(a===undefined){a=Object.assign({},s);a.Menge=1;n[s.Produktid]=a}else{a.Menge+=1}i.setProperty("/cartEntries",Object.assign({},n));i.refresh(true);e.show(t.getText("productMsgAddedToCart",[s.Artikelbezeichnung]))}}});
sap.ui.predefine("diehlwebshop/model/formatter", ["sap/ui/core/format/NumberFormat"],function(t){"use strict";var e={A:"Success",O:"Warning",D:"Error"};var r={price:function(e){var r=t.getFloatInstance({maxFractionDigits:2,minFractionDigits:2,groupingEnabled:true});return r.format(e)},totalPrice:function(t){var e=this.getResourceBundle(),n=0;Object.keys(t||{}).forEach(function(e){var r=t[e];var i=parseFloat(r.Bapre??r.Bapre??0);var o=r.MENGE??1;n+=i*o});return e.getText("cartTotalPrice",[r.price(n)])},statusText:function(t){var e=this.getResourceBundle();var r={A:e.getText("statusA"),O:e.getText("statusO"),D:e.getText("statusD")};return r[t]||t},statusState:function(t){return e[t]||"None"},pictureUrl:function(t){if(!t){return undefined}if(t.startsWith("http://localhost")){const e=t.indexOf("http",10);return t.substring(e)}return t},articleImageUrl:function(t){const e="diehlwebshop";const r=sap.ui.require.toUrl(`${e}/img/placeholder.png`);if(!t)return r;return sap.ui.require.toUrl(`${e}/img/products/${encodeURIComponent(t)}.jpg`)},hasItems:function(t,e){var r=!!(t&&Object.keys(t).length);var n=!!(e&&Object.keys(e).length);return r||n},quantityWithUnit:function(t,e){if(!t||!e){return""}return t+" "+e},formatCounter:function(t){return parseInt(t,10)||0},categoryThumbIconFromDocId:function(t,e){try{if(!t||!e){return""}let r=null;if(this&&typeof this.getOwnerComponent==="function"){const t=this.getOwnerComponent();if(t&&typeof t.getModel==="function"){r=t.getModel()}}if(!r&&this&&typeof this.getModel==="function"){r=this.getModel()}if(!r||typeof r.createKey!=="function"){return""}let n=r.sServiceUrl||"";if(n&&n.endsWith("/")){n=n.slice(0,-1)}const i=r.createKey("BildmediaSet",{ArtikelId:String(t).trim(),DocId:String(e).trim()});return n+"/"+i+"/$value"}catch(t){return""}},articleImage:function(t){return r.articleImageUrl(t)},isStepHead:function(t){return t==="stepHead"},isStepForm:function(t){return t==="stepForm"},isStepCart:function(t){return t==="stepCart"}};return r});
sap.ui.predefine("diehlwebshop/model/models", ["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
sap.ui.require.preload({
	"diehlwebshop/i18n/i18n.properties":'Abmessungen=Dimensions\nCart_contentLabel=Items in cart\nCart_footerLabel=Cart footer\nCart_headerLabel=Cart header\nCart_rootLabel=Cart\nCategory_contentLabel=Items in category\nCategory_footerLabel=Filter\nCategory_headerLabel=Catalog header\nCategory_rootLabel=Category\nCategory_title=Accessories\nCheckout_footerLabel=Checkout footer\nCheckout_rootLabel=Checkout\nCheckout_summaryContentLabel=Order summary\nHome_contentLabel=List of catalogs\nHome_headerLabel=Home header\nHome_rootLabel=Search and navigation\nHome_subHeaderLabel=Products\nLieferant=Supplier\n\nPreis=Price\nProduct_section_details=Product information\nProduktgruppe=Product group\nProduktinformationen=Product information\nSuche=Search\nZurueck=Back\n\nimageGalleryDialogTitle=Image gallery\nimageGalleryDialogClose=Close\n\n\ncw.field.glAccount=G/L account\ncw.err.glAccount=Please select a G/L account.\ncw.msg.correctFields=Please correct the following fields:\n\ncw.info.tooltip=Show explanation\ncw.info.we.text1=Select \\u201cYes\\u201d if a physical goods receipt will be posted (e.g., warehouse receipt). Select \\u201cNo\\u201d if no goods receipt posting is required (e.g., services).\ncw.info.we.text2=Note: This selection controls downstream checks and posting processes.\ncw.info.sigma.text1=If the request is not a service, select \\u201cNo service\\u201d. For requests that include services, choose an appropriate case group.\ncw.info.sigma.text2=Note: The dropdown will be extended with \\u201cNo service\\u201d.\n\ncw.info.sigma.text1=If this is not a service, select \\u201cNo service\\u201d. If the request includes a service portion, select one of the case groups.\ncw.info.sigma.text2=Note: The dropdown is extended by \\u201cNo service\\u201d.\n\ncw.info.klass.text1=Select all applicable attributes (e.g., IT relevance, environmental relevance, energy relevance) according to the guideline.\ncw.info.klass.text2=Note: Multiple selection is possible.\n\nfreitext.placeholder.extMatnr=External material number (optional, max. {0} characters)\nfreitext.err.extMatnrTooLong=Maximum {0} characters allowed.\nfreitext.msg.extMatnrTooLong=The external material number may contain a maximum of {0} characters.\n\nfreitext.dialog.title=Free-text order\n\nfreitext.field.ekgrp = Buying group\n\nfreitext.field.descriptionRequired=Description*\nfreitext.field.addText=Additional text\nfreitext.field.requesterRequired=Goods recipient*\nfreitext.field.supplier=Supplier\nfreitext.field.extMatnr=External material number\nfreitext.field.quantityRequired=Quantity*\nfreitext.field.priceRequired=Price*\nfreitext.field.currency=Currency\n\nfreitext.btn.add=Add\nfreitext.btn.cancel=Cancel\n\n\n\naddToCartShort=Add to cart\naddToWatchlistShort=Add to watchlist\nappDescription=Webshop template\nappTitle=Webshop\navatarButtonMessageToastText=You are now logged in\nbackToHome=Back to home\ncartAddToCartLinkText=Add to cart\ncartDeleteDialogConfirmDeleteMsg=Product \\u201c{0}\\u201d was removed from the cart\ncartDeleteDialogMsg=Do you want to remove this entry from your cart?\ncartDeleteDialogTitle=Confirmation\ncartDoneButtonText=Save changes\ncartEditButtonTooltip=Edit cart\ncartEmptyToast=\\ud83d\\uded2 Your cart is empty.\ncartItemsSavedForLater=Watchlist\ncartNoData=Your cart is empty\ncartNoItemsSavedForLater=No items saved for later\ncartProceedButtonText=Continue\ncartSaveForLaterLinkText=Save for later\ncartTitleEdit=Edit cart\ncartTotalPrice=Total: {0}\ncategoryNoData=No products found\ncheckoutCodEmailValueTypeMismatch="{0}" is not a valid e-mail address\ncheckoutControllerAreYouSureCancel=Do you really want to cancel your order?\ncheckoutControllerAreYouSureSubmit=Do you really want to submit your order?\ncheckoutStepCartTitle=Items\ncheckoutSummaryCancel=Cancel\ncheckoutSummarySubmit=Order\ncheckoutSummaryTitle1=Items\ncheckoutTitle=Checkout\ncw.err.accountType=Please select an account assignment type.\ncw.err.costCenter=Please enter a cost center.\ncw.err.internalOrder=Please enter an internal order.\ncw.err.matkl=Please enter a product group.\ncw.err.receiver=Please enter SAP user.\ncw.err.wbs=Please enter a WBS element.\ncw.err.weExpected=Please select a GR indicator.\ncw.field.accountType=Account assignment type\ncw.field.costCenter=Cost center\ncw.field.emptyCart=Cart is empty\ncw.field.internalOrder=Internal order\ncw.field.matkl=Product group\ncw.field.receiver=SAP user\ncw.field.wbs=WBS element\ncw.field.weExpected=Goods receipt expected\nfilterButtonTooltip=Filter products\nfilterByText=Filtered by\nfreitext.field.description=Description\nfreitext.field.receiver=Recipient\nfreitext.field.quantity=Quantity\nfreitext.field.price=Price\nfreitext.field.weExpected=Goods receipt expected\nfreitext.msg.missingIntro=Please fill in the following required fields:\nfreitextOpenDialogButtonText=Place free-text request\nhomeCategoryListHeader=Catalogs\nhomeNoData=No products found\nhomeSearchPlaceholder=Search\nhomeSearchTooltip=Search\nhomeTitle=Product catalog\noci.msg.missingAction=Target URL in customizing is missing.\noci.msg.noCatalogSelected=No catalog selected.\noci.msg.popupBlocked=Popup was blocked. Please allow pop-ups in the browser.\nociCatalogsHeader=Free-text request\nociImportBusyText=Please wait...\nociImportInfoText=Importing products...\nociImportSuccess=\\u2705 Test product imported\nociInvalidData=\\u274c Invalid test data in URL\nopenCategoryProducts=Open category\nopenProductDetails=Open details for\n\nproductAddedToCart=Item has been added to the cart.\nproductAddedToWatchlist={0} was added to the watchlist.\nproductDescriptionAttributeText=Description\nproductId=Article ID\nproductMsgAddedToCart=Product \\u201c{0}\\u201d was added to your cart\nproductQuantity=Quantity\nproductStatusDiscontinuedMsg=This product has been discontinued and can no longer be ordered\nproductStatusDiscontinuedTitle=Information\nproductStatusOutOfStockMsg=This product is currently out of stock but can be ordered. It will be shipped as soon as it is available again\nproductStatusOutOfStockTitle=Confirmation\nproductSupplierAttributeText=Supplier\nproductUnitAttributeText=Unit of measure\npurchaseRequestDetailMessage=Show details for PR {0} (navigation/details later)\npurchaseRequestPageTitle=My purchase requisitions\nreAddSuccess={0} item(s) added to the cart\nreAddToCart=Add item again\nreturnToShop=Back to shop\nreturnToShopButtonText=Back to shop\nstatusA=Available\nstatusD=Discontinued\nstatusO=Out of stock\ntoCartButtonTooltip=Show cart\ntoggleCartButtonTooltip=Show/hide cart\nwatchlistQuantityUpdated=Quantity updated in watchlist.\n\ntabTitle=Category\ntableTitleCart=Cart\npurchaseRequestsTitle=My Purchase Requests\nociReturnTitle=OCI Return\npurchaseRequestDetailTitle=Details\n\ncw.invArt.none=No investment type\ncw.invArt.mandatory=Please select an investment type.\n\ncw.msg.submitConfirm=Submit purchase requisition?\ncw.msg.submitSuccess=Purchase requisition created successfully{0}\ncw.msg.submitErrorDefault=Purchase requisition could not be created.\n\ncw.vh.kostl.title=Select cost center\ncw.vh.kostl.loadError=Cost centers could not be loaded.\n\ncw.vh.wbs.title=Select WBS element\n\ncw.vh.user.title=Select SAP user\ncw.vh.user.loadError=Users could not be loaded.\n\ncw.vh.matkl.title=Select material group\ncw.vh.matkl.loadError=Material groups could not be loaded.\n\ncw.vh.gl.title=Select G/L account\ncw.vh.gl.loadError=G/L accounts could not be loaded.\n\ncw.upload.noFile=No file provided.\ncw.upload.noBanfn=Purchase requisition number is missing.\ncw.upload.failed=Upload failed: {0} {1}\ncw.upload.networkError=Network error during upload.\ncw.upload.csrfError=CSRF token could not be retrieved.\n\ncw.msg.fillRequired=Please fill in:\ncw.field.weOrService=Goods receipt expected / service\ncw.field.sigma=Sigma case group\ncw.field.avbRef=Official contract reference\ncw.field.avbNumber=Official contract reference number\ncw.field.orderType=Order type\ncw.field.invArt=Investment type\ncw.field.accountType=Account assignment category\ncw.field.classification=Classification\ncw.field.plant=Plant\ncw.field.sustainability=Sustainability\n\nhome.vh.currency.title=Select currency\nhome.vh.currency.loadError=Currencies could not be loaded.\n\nhome.vh.ekgrp.title=Select purchasing group\nhome.vh.ekgrp.loadError=Purchasing groups could not be loaded.\n\nhome.vh.unit.title=Select unit of measure\nhome.vh.unit.loadError=Units of measure could not be loaded.\n\nhome.vh.user.title=Select SAP user\nhome.vh.user.loadError=SAP users could not be loaded.\n\nhome.vh.supplier.title=Select preferred supplier\nhome.vh.supplier.loadError=Suppliers could not be loaded.\n\nhome.input.numericOnlyToast=Only numbers allowed (digits, , or .).\nhome.input.numericOnlyState=Only numbers allowed.\n\nhome.msg.noCategoryId=No category ID found.\n\noci.msg.noCatalogSelected=No catalog selected.\noci.msg.noCatalogIdFound=No catalog ID found.\noci.msg.noActionInCustomizing=Target URL (action) is missing in customizing.\noci.msg.noCustomizingForCatalog=No customizing found for catalog ID: {0}\noci.msg.noActionForCatalog=Target URL (action) is missing in customizing for: {0}\noci.msg.popupBlocked=Popup was blocked.\noci.msg.readParamsFailed=Could not read OCIKatalogParamsSet.\n\nwatchlistQuantityUpdated=Watchlist quantity updated: {0} (Item: {1})\n\nvh.currency.title=Select currency\nvh.currency.loadError=Currencies could not be loaded.\n\nvh.supplier.title=Select supplier\nvh.supplier.loadError=Suppliers could not be loaded.\n\nvh.statusWe.title=Select goods receipt status\nvh.statusWe.loadError=Goods receipt status could not be loaded.\nvh.statusWe.entitySetNotFound=Goods receipt status: EntitySet not found.\n\n\ncw.step.head.title=General data\ncw.step.form.title=Internal note and attachments\n\ncommon.yes=Yes\ncommon.no=No\n\ncw.field.weOrService=Goods receipt expected / Service\ncw.field.sigma=Sigma case group\ncw.field.avbRef=Official contract reference\ncw.field.avbNumber=Official contract reference number\ncw.field.orderType=Order type\ncw.field.costCenter=Cost center\ncw.field.accountType=Account assignment type\ncw.field.internalOrder=Internal order\ncw.field.wbs=WBS element\ncw.field.classification=Classification\ncw.field.invArt=Investment type\ncw.field.plantDelivery=Plant (delivery location)\ncw.field.sustainability=Sustainability\ncw.field.matkl=Material group\ncw.field.glAccount=G/L account\ncw.field.receiverGoods=Goods recipient\ncw.field.desiredDate=Desired delivery date\n\ncw.orderType.consumption=Consumables\ncw.orderType.investment=Investment\n\ncw.accountType.gl=Cost center\ncw.accountType.io=Internal order\ncw.accountType.wbs=WBS element\n\ncw.err.classification=Please select a classification.\ncw.invArt.mandatory=Please select an investment type.\n\ncw.field.internalNote=Internal note\ncw.placeholder.internalNote=Optional \\u2013 notes for internal processing\n\ncw.upload.addAttachments=Add attachments\ncw.upload.noAttachments=No attachments yet\n\ncw.btn.step2=Step 2\ncw.btn.step3=Step 3\ncw.btn.order=Place order\n\nproductPanelPurchaseHeader=Purchasing & Price\nproductFieldWeight=Weight\nproductFieldDimensions=Dimensions\nproductFieldColor=Color\nproductFieldEan=EAN\n\npr.filter.banfn=BANF-Nummer\npr.filter.txz01=Bezeichnung\npr.filter.bstnr=Bestellnummer\npr.filter.frgkz=Status Genehmigung\npr.filter.statusWe=Status Wareneingang\npr.filter.lifnr=Lieferant\npr.filter.eindt=Vsl. Lieferdatum\npr.filter.waers=W\\u00e4hrung\n\n\n',
	"diehlwebshop/i18n/i18n_de.properties":'Abmessungen= Ma\\u00dfe\nCart_contentLabel=Artikel im Warenkorb\nCart_footerLabel=Warenkorb-Fu\\u00dfzeile\nCart_headerLabel=Warenkorb-Kopfzeile\nCart_rootLabel=Warenkorb\nCategory_contentLabel=Artikel der Kategorie\nCategory_footerLabel=Filter\nCategory_headerLabel=Katealoge-Kopfzeile\nCategory_rootLabel=Kategorie\nCategory_title=Zubeh\\u00f6r\nCheckout_footerLabel=Kassen-Fu\\u00dfzeile\nCheckout_rootLabel=Kasse\nCheckout_summaryContentLabel=Zusammenfassung der Bestellung\nHome_contentLabel=Liste der Kataloge\nHome_headerLabel=Startseiten-Kopfzeile\nHome_rootLabel=Suche und Navigation\nHome_subHeaderLabel=Produkte\nLieferant=Lieferant\n\nPreis=Preis\nProduct_section_details=Produktinformationen\nProduktgruppe=Warengruppe\nProduktinformationen=Produktinformationen\nSuche=Suche\nZurueck=Zur\\u00fcck\n\nimageGalleryDialogTitle=Bildergalerie\nimageGalleryDialogClose=Schlie\\u00dfen\n\ncw.field.glAccount=Sachkonto\ncw.err.glAccount=Bitte Sachkonto ausw\\u00e4hlen.\ncw.msg.correctFields=Bitte korrigiere folgende Felder:\n\ncw.info.tooltip=Erkl\\u00e4rung anzeigen\ncw.info.we.text1=W\\u00e4hle \\u201eJa\\u201c, wenn ein physischer Wareneingang gebucht wird (z. B. Lagerzugang). W\\u00e4hle \\u201eNein\\u201c, wenn keine Wareneingangsbuchung erfolgt (z. B. Dienstleistung).\ncw.info.we.text2=Hinweis: Die Auswahl steuert nachgelagerte Pr\\u00fcf- und Buchungsprozesse.\ncw.info.sigma.text1=Wenn es sich nicht um eine Dienstleistung handelt, w\\u00e4hle \\u201eKeine Dienstleistung\\u201c. Bei Beauftragungen mit Dienstleistungsanteil ist eine passende Fallgruppe auszuw\\u00e4hlen.\n\n\ncw.info.klass.text1=W\\u00e4hle alle zutreffenden Merkmale (z. B. IT-, Umwelt- oder Energierelevanz) gem\\u00e4\\u00df Vorgabe.\ncw.info.klass.text2=Hinweis: Mehrfachauswahl m\\u00f6glich.\n\nfreitext.placeholder.extMatnr=Externe Materialnummer (optional, max. {0} Zeichen)\nfreitext.err.extMatnrTooLong=Maximal {0} Zeichen erlaubt.\nfreitext.msg.extMatnrTooLong=Die externe Materialnummer darf maximal {0} Zeichen enthalten.\n\n\n# i18n_de.properties\nfreitext.dialog.title=Freitextbestellung\n\nfreitext.field.descriptionRequired=Beschreibung*\nfreitext.field.addText=Zusatztext\nfreitext.field.requesterRequired=Warenempf\\u00e4nger*\nfreitext.field.supplier=Lieferant\nfreitext.field.extMatnr=Externe Materialnummer\nfreitext.field.quantityRequired=Menge*\nfreitext.field.priceRequired=Preis*\nfreitext.field.currency=W\\u00e4hrung\n\nfreitext.btn.add=Hinzuf\\u00fcgen\nfreitext.btn.cancel=Abbrechen\n\nfreitext.field.ekgrp = Eink\\u00e4ufergruppe\n\n\n\naddToCartShort=In den Warenkorb\naddToWatchlistShort=In die Merkliste\nappDescription=Webshop-Vorlage\nappTitle=Webshop\navatarButtonMessageToastText=Du bist jetzt erfolgreich angemeldet\nbackToHome=Zur\\u00fcck zur Startseite\ncartAddToCartLinkText=In den Warenkorb legen\ncartDeleteDialogConfirmDeleteMsg=Produkt \\u201e{0}\\u201c wurde aus dem Warenkorb entfernt\ncartDeleteDialogMsg=M\\u00f6chtest du diesen Eintrag aus deinem Warenkorb entfernen?\ncartDeleteDialogTitle=Best\\u00e4tigung\ncartDoneButtonText=\\u00c4nderungen speichern\ncartEditButtonTooltip=Warenkorb bearbeiten\ncartEmptyToast=\\ud83d\\uded2 Dein Warenkorb ist leer.\ncartItemsSavedForLater=Merkliste\ncartNoData=Dein Warenkorb ist leer\ncartNoItemsSavedForLater=Keine Artikel f\\u00fcr sp\\u00e4ter gespeichert\ncartProceedButtonText=Weiter\ncartSaveForLaterLinkText=F\\u00fcr sp\\u00e4ter speichern\ncartTitleEdit=Warenkorb bearbeiten\ncartTotalPrice=Gesamtsumme: {0}\ncategoryNoData=Keine Produkte gefunden\ncheckoutCodEmailValueTypeMismatch="{0}" ist keine g\\u00fcltige E-Mail-Adresse\ncheckoutControllerAreYouSureCancel=M\\u00f6chtest du deine Bestellung wirklich abbrechen?\ncheckoutControllerAreYouSureSubmit=M\\u00f6chtest du deine Bestellung wirklich abschicken?\ncheckoutStepCartTitle=Artikel\ncheckoutSummaryCancel=Abbrechen\ncheckoutSummarySubmit=Bestellen\ncheckoutSummaryTitle1=Artikel\ncheckoutTitle=Checkout\ncw.err.accountType=Bitte Kontierungstyp ausw\\u00e4hlen.\ncw.err.costCenter=Bitte Kostenstelle angeben.\ncw.err.internalOrder=Bitte Innenauftrag angeben.\ncw.err.matkl=Bitte Warengruppe eingeben.\ncw.err.receiver=Bitte SAP-User eingeben.\ncw.err.wbs=Bitte PSP-Element angeben.\ncw.err.weExpected=Bitte WE-Zeichen ausw\\u00e4hlen.\ncw.field.accountType=Kontierungstyp\ncw.field.costCenter=Kostenstelle\ncw.field.emptyCart=Warenkorb ist leer\ncw.field.internalOrder=Innenauftrag\ncw.field.matkl=Warengruppe\ncw.field.receiver=SAP-User\ncw.field.wbs=PSP-Element\ncw.field.weExpected=Wareneingang erwartet\nfilterButtonTooltip=Produkte filtern\nfilterByText=Gefiltert nach\nfreitext.field.description=Beschreibung\nfreitext.field.receiver=Warenempf\\u00e4nger\nfreitext.field.quantity=Menge\nfreitext.field.price=Preis\nfreitext.field.weExpected=Wareneingang erwartet\nfreitext.msg.missingIntro=Bitte f\\u00fclle folgende Pflichtfelder aus:\nfreitextOpenDialogButtonText=Freitextbestellung aufgeben\nhomeCategoryListHeader=Kataloge\nhomeNoData=Keine Produkte gefunden\nhomeSearchPlaceholder=Suche\nhomeSearchTooltip=Suche\nhomeTitle=Produktkatalog\noci.msg.missingAction=Ziel-URL im Customizing fehlt.\noci.msg.noCatalogSelected=Kein Katalog ausgew\\u00e4hlt.\noci.msg.popupBlocked=Popup wurde blockiert. Bitte Pop-ups im Browser erlauben.\nociCatalogsHeader=Freitextbestellung\nociImportBusyText=Bitte warten...\nociImportInfoText=Produkte werden \\u00fcbernommen...\nociImportSuccess=\\u2705 Testprodukt \\u00fcbernommen\nociInvalidData=\\u274c Ung\\u00fcltige Testdaten in URL\nopenCategoryProducts=Kategorie \\u00f6ffnen\nopenProductDetails=Details \\u00f6ffnen f\\u00fcr\n\nproductAddedToCart=Artikel wurde in den Warenkorb gelegt.\nproductAddedToWatchlist={0} wurde zur Merkliste hinzugef\\u00fcgt.\nproductDescriptionAttributeText=Beschreibung\nproductId=Artikel ID\nproductMsgAddedToCart=Produkt \\u201e{0}\\u201c wurde deinem Warenkorb hinzugef\\u00fcgt\nproductQuantity=Menge\nproductStatusDiscontinuedMsg=Dieses Produkt wurde eingestellt und kann nicht mehr bestellt werden\nproductStatusDiscontinuedTitle=Information\nproductStatusOutOfStockMsg=Dieses Produkt ist derzeit nicht auf Lager, kann aber bestellt werden. Es wird versendet, sobald es wieder verf\\u00fcgbar ist\nproductStatusOutOfStockTitle=Best\\u00e4tigung\nproductSupplierAttributeText=Lieferant\nproductUnitAttributeText=Mengeneinheit\npurchaseRequestDetailMessage=Details f\\u00fcr BANF {0} anzeigen (hier bauen wir sp\\u00e4ter Navigation/Details)\npurchaseRequestPageTitle=Meine Bestellanforderungen\nreAddSuccess={0} Position(en) in den Warenkorb gelegt\nreAddToCart=Artikel erneut hinzuf\\u00fcgen\nreturnToShop=Zur\\u00fcck zum Shop\nreturnToShopButtonText=Zur\\u00fcck zum Shop\nstatusA=Verf\\u00fcgbar\nstatusD=Eingestellt\nstatusO=Nicht auf Lager\ntoCartButtonTooltip=Warenkorb anzeigen/ausblenden\ntoggleCartButtonTooltip=Warenkorb anzeigen/ausblenden\nwatchlistQuantityUpdated=Menge in der Merkliste aktualisiert.\n\n\ntabTitle=Kategorie\ntableTitleCart=Warenkorb\npurchaseRequestsTitle=Meine Bestellanforderungen\nociReturnTitle=OCI R\\u00fcckgabe\npurchaseRequestDetailTitle=Details\n\ncw.invArt.none=Keine Investart\ncw.invArt.mandatory=Bitte Investmentart ausw\\u00e4hlen.\n\ncw.msg.submitConfirm=Bestellanforderung absenden?\ncw.msg.submitSuccess=Bestellanforderung erfolgreich angelegt{0}\ncw.msg.submitErrorDefault=BANF konnte nicht angelegt werden.\n\ncw.vh.kostl.title=Kostenstelle w\\u00e4hlen\ncw.vh.kostl.loadError=Kostenstellen konnten nicht geladen werden.\n\ncw.vh.wbs.title=PSP-Element w\\u00e4hlen\n\ncw.vh.user.title=SAP-User w\\u00e4hlen\ncw.vh.user.loadError=User konnten nicht geladen werden.\n\ncw.vh.matkl.title=Warengruppe w\\u00e4hlen\ncw.vh.matkl.loadError=Warengruppen konnten nicht geladen werden.\n\ncw.vh.gl.title=Sachkonto w\\u00e4hlen\ncw.vh.gl.loadError=Sachkonten konnten nicht geladen werden.\n\ncw.upload.noFile=Keine Datei \\u00fcbergeben.\ncw.upload.noBanfn=BANF-Nummer fehlt.\ncw.upload.failed=Upload fehlgeschlagen: {0} {1}\ncw.upload.networkError=Netzwerkfehler beim Upload.\ncw.upload.csrfError=CSRF-Token konnte nicht gelesen werden.\n\ncw.msg.fillRequired=Bitte ausf\\u00fcllen:\ncw.field.weOrService=Wareneingang erwartet/Dienstleistung\ncw.field.sigma=Sigma-Fallgruppe\ncw.field.avbRef=Amtsvertragsbezug\ncw.field.avbNumber=Nummer Amtsvertragsbezug\ncw.field.orderType=Bestellart\ncw.field.invArt=Investmentart\ncw.field.accountType=Kontierungstyp\ncw.field.classification=Klassifizierung\ncw.field.plant=Werk\ncw.field.sustainability=Nachhaltigkeit\n\nhome.vh.currency.title=W\\u00e4hrung w\\u00e4hlen\nhome.vh.currency.loadError=W\\u00e4hrungen konnten nicht geladen werden.\n\nhome.vh.ekgrp.title=Eink\\u00e4ufergruppe w\\u00e4hlen\nhome.vh.ekgrp.loadError=Eink\\u00e4ufergruppen konnten nicht geladen werden.\n\nhome.vh.unit.title=Mengeneinheit w\\u00e4hlen\nhome.vh.unit.loadError=Mengeneinheiten konnten nicht geladen werden.\n\nhome.vh.user.title=SAP-User w\\u00e4hlen\nhome.vh.user.loadError=SAP-User konnten nicht geladen werden.\n\nhome.vh.supplier.title=Wunschlieferant w\\u00e4hlen\nhome.vh.supplier.loadError=Lieferanten konnten nicht geladen werden.\n\nhome.input.numericOnlyToast=Nur Zahlen erlaubt (Ziffern, , oder .).\nhome.input.numericOnlyState=Nur Zahlen erlaubt.\n\nhome.msg.noCategoryId=Keine Kategorie-ID gefunden.\n\noci.msg.noCatalogSelected=Kein Katalog ausgew\\u00e4hlt.\noci.msg.noCatalogIdFound=Keine KatalogID gefunden.\noci.msg.noActionInCustomizing=Ziel-URL (action) fehlt im Customizing.\noci.msg.noCustomizingForCatalog=Kein Customizing f\\u00fcr KatalogID: {0}\noci.msg.noActionForCatalog=Ziel-URL (action) fehlt im Customizing f\\u00fcr: {0}\noci.msg.popupBlocked=Popup wurde blockiert.\noci.msg.readParamsFailed=OCIKatalogParamsSet konnte nicht gelesen werden.\n\nwatchlistQuantityUpdated=Menge in der Merkliste aktualisiert: {0} (Artikel: {1})\n\nvh.currency.title=W\\u00e4hrung w\\u00e4hlen\nvh.currency.loadError=W\\u00e4hrungen konnten nicht geladen werden.\n\nvh.supplier.title=Lieferant w\\u00e4hlen\nvh.supplier.loadError=Lieferanten konnten nicht geladen werden.\n\nvh.statusWe.title=Status Wareneingang w\\u00e4hlen\nvh.statusWe.loadError=Status Wareneingang konnte nicht geladen werden.\nvh.statusWe.entitySetNotFound=Status Wareneingang: EntitySet nicht gefunden.\n\n\ncw.step.head.title=\\u00dcbergreifende Daten\ncw.step.form.title=Interne Notiz und Anlagen\n\ncommon.yes=Ja\ncommon.no=Nein\n\ncw.orderType.consumption=Verbrauchsmaterial\ncw.orderType.investment=Investition\n\ncw.accountType.gl=Kostenstelle\ncw.accountType.io=Innenauftrag\ncw.accountType.wbs=PSP-Element\n\ncw.err.classification=Bitte Klassifizierung ausw\\u00e4hlen.\n\ncw.field.plantDelivery=Werk (Lieferort)\ncw.field.internalNote=Interne Notiz\ncw.placeholder.internalNote=Optional \\u2013 Hinweise f\\u00fcr die interne Weiterverarbeitung\n\ncw.upload.addAttachments=Anh\\u00e4nge hinzuf\\u00fcgen\ncw.upload.noAttachments=Noch keine Anh\\u00e4nge\n\ncw.field.receiverGoods=Warenempf\\u00e4nger\ncw.field.desiredDate=Wunschlieferdatum\n\ncw.btn.step2=Schritt 2\ncw.btn.step3=Schritt 3\ncw.btn.order=Bestellen\n\nproductPanelPurchaseHeader=Einkauf & Preis\nproductFieldWeight=Gewicht\nproductFieldDimensions=Abmessungen\nproductFieldColor=Farbe\nproductFieldEan=EAN\n\npr.filter.banfn=BANF-Nummer\npr.filter.txz01=Bezeichnung\npr.filter.bstnr=Bestellnummer\npr.filter.frgkz=Status Genehmigung\npr.filter.statusWe=Status Wareneingang\npr.filter.lifnr=Lieferant\npr.filter.eindt=Vsl. Lieferdatum\npr.filter.waers=W\\u00e4hrung',
	"diehlwebshop/manifest.json":'{"_version":"1.12.0","sap.app":{"id":"diehlwebshop","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"crossNavigation":{"inbounds":{"webshop-display":{"semanticObject":"webshop","action":"display","title":"Webshop","signature":{"parameters":{}},"resolutionResult":{"applicationType":"SAPUI5","additionalInformation":"SAPUI5.Component=diehlwebshop","url":"/diehlwebshop"}}}},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.17.1","toolsId":"34bb3482-4ce5-4522-9140-42085b1bff1b"},"dataSources":{"mainService":{"uri":"/sap/opu/odata/sap/ZMM_WEBS_U_SRV/","type":"OData","settings":{"annotations":[],"localUri":"localService/mainService/metadata.xml","odataVersion":"2.0"}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"rootView":{"viewName":"diehlwebshop.view.App","type":"XML","id":"app"},"dependencies":{"minUI5Version":"1.71.75","libs":{"sap.m":{},"sap.ui.core":{},"sap.f":{},"sap.ui.comp":{},"sap.ui.table":{},"sap.ui.export":{},"sap.ui.unified":{},"sap.ui.layout":{},"sap.uxap":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"diehlwebshop.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"useBatch":true,"defaultBindingMode":"TwoWay","defaultCountMode":"Inline","loadMetadataAsync":true}}},"routing":{"config":{"routerClass":"sap.f.routing.Router","controlAggregation":"midColumnPages","controlId":"layout","transition":"slide","type":"View","viewType":"XML","path":"diehlwebshop.view","viewPath":"diehlwebshop.view","bypassed":{"target":["home","notFound"]}},"routes":[{"name":"home","pattern":"","target":"home"},{"name":"checkoutWizard","pattern":"checkoutWizard","target":["checkoutWizard"]},{"name":"categories","pattern":"categories","target":"home"},{"name":"category","pattern":"category/{id}","target":"category","titleTarget":"category"},{"name":"purchaseRequestsCart","pattern":"purchaseRequests/cart","target":["purchaseRequests","cart"]},{"name":"product","pattern":"category/{id}/product/{productId}","target":["category","product"]},{"pattern":"category/{id}/product/{productId}/cart","name":"productCart","target":["category","product","cart"],"titleTarget":"product"},{"name":"purchaseRequests","pattern":"purchaseRequests","target":["home","purchaseRequests"]},{"name":"ociReturn","pattern":"ociReturn","target":["ociReturn"]},{"name":"purchaseRequestDetail","pattern":"purchaseRequests/{banfn}","target":["purchaseRequests","purchaseRequestDetail"]},{"pattern":"cart","name":"cart","target":["purchaseRequests","cart"]}],"targets":{"home":{"id":"homeView","name":"Home","controlAggregation":"beginColumnPages","level":1,"title":"{i18n>appTitle}"},"checkoutWizard":{"id":"checkoutWizardView","name":"CheckoutWizard","controlAggregation":"midColumnPages","level":2,"title":"{i18n>checkoutTitle}"},"purchaseRequests":{"id":"purchaseRequestsView","name":"PurchaseRequests","controlAggregation":"midColumnPages","level":2,"title":"Meine Bestellanforderungen"},"ociReturn":{"id":"ociReturnView","name":"OciReturn","controlAggregation":"midColumnPages","level":2,"title":"OCI Rückgabe"},"purchaseRequestDetail":{"id":"purchaseRequestDetailView","name":"PurchaseRequestDetail","controlAggregation":"endColumnPages","level":3,"title":"Details"},"product":{"id":"product","name":"Product","controlAggregation":"midColumnPages","level":3,"title":"{ZmmWebsArtBez}"},"category":{"id":"category","name":"Category","controlAggregation":"beginColumnPages","level":2,"viewPath":"diehlwebshop.view","title":{"parts":["i18n>tabTitle","Kategorieid"]}},"notFound":{"id":"notFoundView","name":"NotFound","controlAggregation":"midColumnPages","level":3,"title":"{i18n>categoryNoData}"},"cart":{"name":"Cart","controlAggregation":"endColumnPages","id":"cartView","title":{"parts":["i18n>tabTitle","i18n>tableTitleCart"]}}}},"flexBundle":false}}',
	"diehlwebshop/view/App.view.xml":'<mvc:View\n  controllerName="diehlwebshop.controller.App"\n  displayBlock="true"\n  xmlns:mvc="sap.ui.core.mvc"\n  xmlns:f="sap.f"\n  xmlns="sap.m"><App id="app" class="sapUiDemoCart"><f:FlexibleColumnLayout\n      id="layout"\n      busy="{appView>/busy}"\n      busyIndicatorDelay="{appView>/delay}"\n      layout="{appView>/layout}"            \n      backgroundDesign="Translucent"\n      class="sapUiDemoCart"\n      stateChange=".onStateChange" /></App></mvc:View>\n',
	"diehlwebshop/view/Cart.view.xml":'<mvc:View\n    controllerName="diehlwebshop.controller.Cart"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n><Page\n        id="cartPage"\n        title="{cfg>/pageTitle}"\n        backgroundDesign="Solid"\n        showNavButton="{appView>/smallScreenMode}"\n        navButtonPress=".onBack"\n        showFooter="true"\n    ><landmarkInfo><PageAccessibleLandmarkInfo\n                id="headerCart"\n                rootRole="Region"\n                rootLabel="{i18n>Cart_rootLabel}"\n                contentRole="Main"\n                contentLabel="{i18n>Cart_contentLabel}"\n                footerRole="Region"\n                footerLabel="{i18n>Cart_footerLabel}"\n                headerRole="Region"\n                headerLabel="{i18n>Cart_headerLabel}"\n            /></landmarkInfo><headerContent><Button\n                id="editButton"\n                icon="sap-icon://edit"\n                enabled="{\n                    parts: [\n                        {path: \'cartProducts>/cartEntries\'},\n                        {path: \'cartProducts>/savedForLaterEntries\'}\n                    ],\n                    formatter : \'.formatter.hasItems\'\n                }"\n                visible="{cfg>/notInDelete}"\n                press=".onEditOrDoneButtonPress"\n                tooltip="{i18n>cartEditButtonTooltip}"\n            /></headerContent><footer><Toolbar id="toolbarCart"><Text\n                    id="totalPriceText"\n                    text="{\n                        path : \'cartProducts>/cartEntries\',\n                        formatter : \'.formatter.totalPrice\'\n                    }"\n                    class="sapUiTinyMarginBegin"\n                /><ToolbarSpacer id="toolbarSpacerCart" /><Button\n                    id="proceedButton"\n                    type="Accept"\n                    text="{i18n>cartProceedButtonText}"\n                    enabled="{\n                        path: \'cartProducts>/cartEntries\',\n                        formatter: \'.formatter.hasItems\'\n                    }"\n                    visible="{cfg>/notInDelete}"\n                    press=".onProceedButtonPress"\n                /><Button\n                    id="doneButton"\n                    text="{i18n>cartDoneButtonText}"\n                    enabled="true"\n                    visible="{cfg>/inDelete}"\n                    press=".onEditOrDoneButtonPress"\n                /></Toolbar></footer><content><List\n                delete=".onCartEntriesDelete"\n                id="entryList"\n                items="{ path : \'cartProducts>/cartEntries\' }"\n                mode="{cfg>/listMode}"\n                noDataText="{i18n>cartNoData}"\n                selectionChange=".onEntryListSelect"\n            ><headerToolbar><Toolbar id="toolbarLabelCart"><Title\n                            id="titleLabelCart"\n                            level="H6"\n                            text="{i18n>Cart_contentLabel}"\n                            titleStyle="H6"\n                        /></Toolbar></headerToolbar><items><CustomListItem id="cartListItem"><HBox\n                            id="cartHBoxContainer"\n                            justifyContent="SpaceBetween"\n                            alignItems="Center"\n                            class="sapUiTinyMargin"\n                        ><HBox\n                                id="cartHBoxLeft"\n                                alignItems="Center"\n                            ><Image\n                                    id="cartProductImage"\n                                    src="{\n    parts: [\n      { path: \'cartProducts>ZmmWebsArtikelId\' },\n      { path: \'cartProducts>ZmmWebsDocId\' }\n    ],\n    formatter: \'.formatter.categoryThumbIconFromDocId\'\n  }"\n                                    width="3rem"\n                                    height="3rem"\n                                    densityAware="false"\n                                    class="sapUiTinyMarginEnd"\n                                /><VBox id="cartVBoxProductInfo"><Text\n                                        id="cartProductName"\n                                        text="{cartProducts>ZmmWebsArtBez}"\n                                        wrapping="true"\n                                    /><Text\n                                        id="cartProductSupplier"\n                                        text="{cartProducts>Wlief}"\n                                        visible="{= ${cartProducts>ZmmWebsKatId} !== \'FREETEXT\' }"\n                                        wrapping="true"\n                                    /><Link\n                                        id="cartSaveForLaterLink"\n                                        text="{i18n>cartSaveForLaterLinkText}"\n                                        press=".onSaveForLater"\n                                        wrapping="false"\n                                    /></VBox></HBox><VBox\n                                id="cartVBoxRight"\n                                alignItems="End"\n                            ><StepInput\n                                    id="cartStepInputQuantity"\n                                    width="6rem"\n                                    min="1"\n                                    step="1"\n                                    value="{ path: \'cartProducts>MENGE\', type: \'sap.ui.model.type.Integer\' }"\n                                    editable="{cfg>/notInDelete}"\n                                    change=".onQuantityLiveChange"\n                                /><ObjectNumber\n                                    id="cartProductPrice"\n                                    number="{ path : \'cartProducts>Bapre\', formatter : \'.formatter.price\' }"\n                                    unit="{cartProducts>Waers}"\n                                /></VBox></HBox></CustomListItem></items></List><List\n                delete=".onSaveForLaterDelete"\n                id="saveForLaterList"\n                items="{\n                    path : \'cartProducts>/savedForLaterEntries\',\n                    sorter : { path : \'ZmmWebsArtBez\', descending : false }\n                }"\n                mode="{cfg>/listMode}"\n                noDataText="{i18n>cartNoItemsSavedForLater}"\n                selectionChange=".onEntryListSelect"\n            ><headerToolbar><Toolbar id="toolbarSavedForLaterCart"><Title\n                            id="titleSavedForLaterCart"\n                            level="H6"\n                            text="{i18n>cartItemsSavedForLater}"\n                            titleStyle="H6"\n                        /></Toolbar></headerToolbar><items><ObjectListItem\n                        id="listItemProductsCart"\n                        intro="{cartProducts>MENGE} x"\n                        type="{cfg>/listItemType}"\n                        icon="{\n  parts: [\n    { path: \'cartProducts>ZmmWebsArtikelId\' },\n    { path: \'cartProducts>ZmmWebsDocId\' }\n  ],\n  formatter: \'.formatter.categoryThumbIconFromDocId\'\n}"\n                        title="{cartProducts>ZmmWebsArtBez}"\n                        number="{ path : \'cartProducts>Bapre\', formatter : \'.formatter.price\' }"\n                        numberUnit="{cartProducts>Waers}"\n                        press=".onEntryListPress"\n                        iconDensityAware="false"\n                    ><attributes><ObjectAttribute\n                                id="attributeAddToCart"\n                                active="true"\n                                press=".onAddBackToBasket"\n                                text="{i18n>cartAddToCartLinkText}"\n                            /></attributes></ObjectListItem></items></List></content></Page></mvc:View>\n',
	"diehlwebshop/view/Category.view.xml":'<mvc:View\n    controllerName="diehlwebshop.controller.Category"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n><Page\n        id="categoryPage"\n        title="{= ${view>/categoryTitle} || ${i18n>Category_title} }"\n        backgroundDesign="Solid"\n        showNavButton="true"\n        navButtonPress=".onBack"\n    ><landmarkInfo><PageAccessibleLandmarkInfo\n                id="regionCategoryPage"\n                rootRole="Region"\n                rootLabel="{i18n>Category_rootLabel}"\n                contentRole="Main"\n                contentLabel="{i18n>Category_contentLabel}"\n                footerRole="Region"\n                footerLabel="{i18n>Category_footerLabel}"\n                headerRole="Region"\n                headerLabel="{i18n>Category_headerLabel}"\n            /></landmarkInfo><headerContent><Button\n                id="masterListFilterButton"\n                icon="sap-icon://filter"\n                press=".onFilter"\n                tooltip="{i18n>filterButtonTooltip}"\n            /></headerContent><content><SearchField\n                id="categorySearchField"\n                placeholder="{i18n>Suche}"\n                liveChange=".onCategorySearch"\n            /><List\n                id="productListCategory"\n                growing="true"\n                mode="{= ${device>/system/phone} ? \'None\' : \'SingleSelectMaster\'}"\n                selectionChange=".onProductDetails"\n                noDataText="{i18n>categoryNoData}"\n                busyIndicatorDelay="0"\n            ><infoToolbar><Toolbar\n                        id="categoryInfoToolbar"\n                        visible="true"\n                    ><content><Title\n                                id="categoryInfoToolbarTitle"\n                                text="{view>/categoryTitle}"\n                            /></content></Toolbar></infoToolbar><items><ObjectListItem\n                        id="bildUrlCategoryPage"\n                        type="Active"\n                        press=".onProductDetails"\n                        icon="{\n        parts: [\n            { path: \'ZmmWebsArtikelId\' },\n            { path: \'ZmmWebsDocId\' }\n        ],\n        formatter: \'.formatter.categoryThumbIconFromDocId\'\n    }"\n                        iconDensityAware="false"\n                        title="{ZmmWebsArtBez}"\n                        number="{\n        path: \'Bapre\',\n        formatter: \'.formatter.price\'\n    }"\n                        numberUnit="{Waers}"\n                        tooltip="{i18n>openProductDetails} {ZmmWebsArtikelId}"\n                    ><attributes><ObjectAttribute\n                                id="lieferantProductPage"\n                                text="{= \'Lieferant: \' + (${Wlief} || \'\') }"\n                            /></attributes><firstStatus><ObjectStatus\n                                id="statusProductPage"\n                                text="{ path: \'STATUS\', formatter: \'.formatter.statusText\' }"\n                                state="{ path: \'STATUS\', formatter: \'.formatter.statusState\' }"\n                            /></firstStatus></ObjectListItem></items></List></content></Page></mvc:View>\n',
	"diehlwebshop/view/CheckoutWizard.view.xml":'<mvc:View\n    controllerName="diehlwebshop.controller.CheckoutWizard"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:layout="sap.ui.layout"\n    xmlns:f="sap.f"\n    xmlns:u="sap.ui.unified"\n><Page\n        id="checkoutWizardPage"\n        title="{i18n>checkoutTitle}"\n        floatingFooter="true"\n    ><headerContent><Button\n                id="returnToShopBtn"\n                text="{i18n>returnToShop}"\n                type="Transparent"\n                press=".onReturnToShop"\n            /></headerContent><content><Wizard\n                id="checkoutWizard"\n                enableBranching="false"\n                showNextButton="false"\n            ><WizardStep\n                    id="stepHead"\n                    title="{i18n>cw.step.head.title}"\n                    icon="sap-icon://activities"\n                ><VBox\n                        id="headBox"\n                        class="sapUiTinyMarginTop sapUiMediumMarginBeginEnd"\n                        width="100%"\n                    ><VBox id="headWe"><HBox\n                                id="boxWE"\n                                class="sapUiSmallMarginTop"\n                                wrap="NoWrap"\n                                alignItems="Center"\n                            ><Label\n                                    id="lvlHeadWe"\n                                    text="{i18n>cw.field.weOrService}"\n                                    required="true"\n                                /><Button\n                                    id="btnInfoWe"\n                                    type="Transparent"\n                                    icon="sap-icon://hint"\n                                    tooltip="{i18n>cw.info.tooltip}"\n                                    press=".onInfoPress"\n                                    class="sapUiTinyMarginBegin"\n                                ><customData><core:CustomData\n                                            key="cwInfoKey"\n                                            value="we"\n                                        /></customData></Button></HBox><RadioButtonGroup\n                                id="rbgHeadWe"\n                                columns="2"\n                                width="12rem"\n                                select=".onWeChange"\n                                selectedIndex="{ path: \'checkout>/head/weExpectedIndex\', type: \'sap.ui.model.type.Integer\' }"\n                            ><buttons><RadioButton\n                                        id="rbHeadWeYes"\n                                        text="{i18n>common.yes}"\n                                    /><RadioButton\n                                        id="rbHeadWeNo"\n                                        text="{i18n>common.no}"\n                                    /></buttons></RadioButtonGroup><Text\n                                id="txtHeadWeError"\n                                class="sapUiTinyMarginTop sapThemeNegativeText"\n                                text="{i18n>cw.err.weExpected}"\n                                visible="{= ${checkoutWizard>/validate} &amp;&amp; ( ${checkout>/head/weExpectedIndex} &lt; 0 ) }"\n                            /></VBox><VBox\n                            id="weBox"\n                            class="sapUiSmallMarginTop sapUiMediumMarginBegin"\n                            visible="{= ${checkout>/head/weExpectedIndex} === 0 }"\n                        ><HBox\n                                id="hboxSigmaLabel"\n                                alignItems="Center"\n                                wrap="Wrap"\n                            ><Label\n                                    id="l_sigma"\n                                    text="{i18n>cw.field.sigma}"\n                                    labelFor="cbSigma"\n                                    required="{= ${checkout>/head/weExpectedIndex} === 0 }"\n                                /><Button\n                                    id="btnInfoSigma"\n                                    type="Transparent"\n                                    icon="sap-icon://hint"\n                                    tooltip="{i18n>cw.info.tooltip}"\n                                    press=".onInfoPress"\n                                    class="sapUiTinyMarginBegin"\n                                ><customData><core:CustomData\n                                            key="cwInfoKey"\n                                            value="sigma"\n                                        /></customData></Button></HBox><ComboBox\n                                id="cbSigma"\n                                width="16rem"\n                                selectedKey="{checkout>/head/sigma}"\n                                items="{ path: \'/ZmmWebsShSigmaSet\' }"\n                            ><core:Item\n                                    id="sigmanr"\n                                    key="{DomvalueL}"\n                                    text="{= ${DomvalueL} + \' - \' + ${Ddtext} }"\n                                /></ComboBox></VBox><VBox\n                            id="boxVAvb"\n                            class="sapUiSmallMarginTop sapUiMediumMarginBegin"\n                            wrap="Wrap"\n                            visible="{= ${checkout>/head/weExpectedIndex} === 0 }"\n                        ><Label\n                                id="lblAvb"\n                                text="{i18n>cw.field.avbRef}"\n                                required="{= ${checkout>/head/weExpectedIndex} === 0 }"\n                            /><RadioButtonGroup\n                                id="btnAvb"\n                                columns="2"\n                                selectedIndex="{ path: \'checkout>/head/AmtsvertragsbezugIndex\', type: \'sap.ui.model.type.Integer\' }"\n                            ><buttons><RadioButton\n                                        id="rbHeadWeYes2"\n                                        text="{i18n>common.yes}"\n                                    /><RadioButton\n                                        id="rbHeadWeNo2"\n                                        text="{i18n>common.no}"\n                                    /></buttons></RadioButtonGroup></VBox><VBox\n                            id="boxVAvbTxt"\n                            class="sapUiSmallMarginTop sapUiLargeMarginBegin"\n                            visible="{= ${checkout>/head/weExpectedIndex} === 0 &amp;&amp; ${checkout>/head/AmtsvertragsbezugIndex} === 0 }"\n                        ><Label\n                                id="lblAvbTxt"\n                                text="{i18n>cw.field.avbNumber}"\n                                required="{= ${checkout>/head/weExpectedIndex} === 0 &amp;&amp; ${checkout>/head/AmtsvertragsbezugIndex} === 0 }"\n                            /><Input\n                                id="inpAvb"\n                                width="12rem"\n                                value="{checkout>/head/avbNumber}"\n                            /></VBox><VBox\n                            id="boxVBestellart"\n                            class="sapUiSmallMarginTop sapUiMediumMarginEnd"\n                        ><Label\n                                id="l_bestellart"\n                                text="{i18n>cw.field.orderType}"\n                                required="true"\n                            /><RadioButtonGroup\n                                id="bestellart"\n                                columns="2"\n                                selectedIndex="{ path: \'checkout>/head/materialTypeIndex\', type: \'sap.ui.model.type.Integer\' }"\n                            ><buttons><RadioButton\n                                        id="verbrauch"\n                                        text="{i18n>cw.orderType.consumption}"\n                                    /><RadioButton\n                                        id="investition"\n                                        text="{i18n>cw.orderType.investment}"\n                                    /></buttons></RadioButtonGroup></VBox><VBox\n                            id="ZKostl"\n                            class="sapUiSmallMarginTop sapUiMediumMarginBegin"\n                            visible="{= ${checkout>/head/materialTypeIndex} === 1 }"\n                        ><Label\n                                id="lblKostl"\n                                text="{i18n>cw.field.costCenter}"\n                                required="{= ${checkout>/head/materialTypeIndex} === 1 }"\n                            /><Input\n                                id="inpZKostl"\n                                width="12rem"\n                                value="{checkout>/costCenter}"\n                                showValueHelp="true"\n                                valueHelpRequest=".onValueHelpKostl"\n                            /></VBox><HBox\n                            id="ZKon"\n                            binding="{ path: \'cartProducts>/cartEntries/0\' }"\n                            class="sapUiSmallMarginTop sapUiMediumMarginBegin"\n                            wrap="Wrap"\n                            alignItems="End"\n                            visible="{= ${checkout>/head/materialTypeIndex} === 0 }"\n                        ><VBox\n                                id="colType"\n                                class="sapUiSmallMarginEnd"\n                            ><Label\n                                    id="lblType"\n                                    text="{i18n>cw.field.accountType}"\n                                    required="{= ${checkout>/head/materialTypeIndex} === 0 }"\n                                /><Select\n                                    id="selType"\n                                    width="12rem"\n                                    selectedKey="{cartProducts>accountType}"\n                                    forceSelection="false"\n                                    change=".onAccountTypeChange"\n                                    valueState="{= ${checkoutWizard>/validate} &amp;&amp; !${cartProducts>accountType} ? \'Error\' : \'None\' }"\n                                    valueStateText="{= ${checkoutWizard>/validate} &amp;&amp; !${cartProducts>accountType} ? ${i18n>cw.err.accountType} : \'\' }"\n                                ><core:Item\n                                        id="itemKonGl"\n                                        key="gl"\n                                        text="{i18n>cw.accountType.gl}"\n                                    /><core:Item\n                                        id="itemKonIO"\n                                        key="io"\n                                        text="{i18n>cw.accountType.io}"\n                                    /><core:Item\n                                        id="itemKonPSP"\n                                        key="wbs"\n                                        text="{i18n>cw.accountType.wbs}"\n                                    /></Select></VBox><VBox\n                                id="colKostl"\n                                class="sapUiSmallMarginEnd"\n                                visible="{= ${cartProducts>accountType} === \'gl\' }"\n                            ><Label\n                                    id="lblKonKostl"\n                                    text="{i18n>cw.field.costCenter}"\n                                    required="true"\n                                /><Input\n                                    id="inpKostl"\n                                    width="12rem"\n                                    value="{cartProducts>costCenter}"\n                                    valueState="{= ${checkoutWizard>/validate} &amp;&amp; ${cartProducts>accountType} === \'gl\' &amp;&amp; !${cartProducts>costCenter} ? \'Error\' : \'None\' }"\n                                    valueStateText="{= ${checkoutWizard>/validate} &amp;&amp; ${cartProducts>accountType} === \'gl\' &amp;&amp; !${cartProducts>costCenter} ? ${i18n>cw.err.costCenter} : \'\' }"\n                                    showValueHelp="true"\n                                    valueHelpRequest=".onValueHelpKostl"\n                                /></VBox><VBox\n                                id="colIa"\n                                class="sapUiSmallMarginEnd"\n                                visible="{= ${cartProducts>accountType} === \'io\' }"\n                            ><Label\n                                    id="lblKonIO"\n                                    text="{i18n>cw.field.internalOrder}"\n                                    required="true"\n                                /><Input\n                                    id="inpIa"\n                                    width="12rem"\n                                    value="{cartProducts>internalOrder}"\n                                    valueState="{= ${checkoutWizard>/validate} &amp;&amp; ${cartProducts>accountType} === \'io\' &amp;&amp; !${cartProducts>internalOrder} ? \'Error\' : \'None\' }"\n                                    valueStateText="{= ${checkoutWizard>/validate} &amp;&amp; ${cartProducts>accountType} === \'io\' &amp;&amp; !${cartProducts>internalOrder} ? ${i18n>cw.err.internalOrder} : \'\' }"\n                                /></VBox><VBox\n                                id="colWbs"\n                                class="sapUiSmallMarginEnd"\n                                visible="{= ${cartProducts>accountType} === \'wbs\' }"\n                            ><Label\n                                    id="lblKonWBS"\n                                    text="{i18n>cw.field.wbs}"\n                                    required="true"\n                                /><Input\n                                    id="inpWBS"\n                                    width="12rem"\n                                    value="{cartProducts>accountValue}"\n                                    showValueHelp="true"\n                                    valueHelpRequest=".onValueHelpWbs"\n                                    valueState="{= ${checkoutWizard>/validate} &amp;&amp; ${cartProducts>accountType} === \'wbs\' &amp;&amp; !${cartProducts>accountValue} ? \'Error\' : \'None\' }"\n                                    valueStateText="{= ${checkoutWizard>/validate} &amp;&amp; ${cartProducts>accountType} === \'wbs\' &amp;&amp; !${cartProducts>accountValue} ? ${i18n>cw.err.wbs} : \'\' }"\n                                /></VBox></HBox><HBox\n                            id="boxHKlass"\n                            class="sapUiSmallMarginTop"\n                            wrap="Wrap"\n                            alignItems="End"\n                        ><VBox\n                                id="boxVKlass"\n                                class="sapUiSmallMarginEnd"\n                            ><HBox\n                                    id="hboxKlassLabel"\n                                    alignItems="Center"\n                                    wrap="Wrap"\n                                ><Label\n                                        id="lblKlass"\n                                        text="{i18n>cw.field.classification}"\n                                        labelFor="cbKlassifizierung"\n                                        required="true"\n                                    /><Button\n                                        id="btnInfoKlass"\n                                        type="Transparent"\n                                        icon="sap-icon://hint"\n                                        tooltip="{i18n>cw.info.tooltip}"\n                                        press=".onInfoPress"\n                                        class="sapUiTinyMarginBegin"\n                                    ><customData><core:CustomData\n                                                key="cwInfoKey"\n                                                value="klass"\n                                            /></customData></Button></HBox><MultiComboBox\n                                    id="cbKlassifizierung"\n                                    width="16rem"\n                                    selectedKeys="{checkout>/head/klass}"\n                                    items="{ path: \'/ZmmWebsShKlassSet\' }"\n                                    selectionFinish=".onKlassSelectionFinish"\n                                    valueState="{= ${checkoutWizard>/validate} &amp;&amp; (!${checkout>/head/klass} || ${checkout>/head/klass}.length === 0) ? \'Error\' : \'None\' }"\n                                    valueStateText="{= ${checkoutWizard>/validate} &amp;&amp; (!${checkout>/head/klass} || ${checkout>/head/klass}.length === 0) ? ${i18n>cw.err.classification} : \'\' }"\n                                ><core:Item\n                                        id="klassifizierung"\n                                        key="{Kuerzel}"\n                                        text="{= ${Kuerzel} + \' - \' + ${Name} }"\n                                    /></MultiComboBox></VBox><VBox\n                                id="boxVInvArt"\n                                class="sapUiSmallMarginEnd"\n                            ><Label\n                                    id="lblInvArt"\n                                    text="{i18n>cw.field.invArt}"\n                                    labelFor="cbInvArt"\n                                    required="true"\n                                /><ComboBox\n                                    id="cbInvArt"\n                                    width="16rem"\n                                    selectedKey="{checkout>/head/invArt}"\n                                    items="{ path: \'/ZmmWebsShInvartSet\' }"\n                                    change=".onInvArtChange"\n                                    valueState="{= ${checkoutWizard>/validate} &amp;&amp; !${checkout>/head/invArt} ? \'Error\' : \'None\' }"\n                                    valueStateText="{= ${checkoutWizard>/validate} &amp;&amp; !${checkout>/head/invArt} ? ${i18n>cw.invArt.mandatory} : \'\' }"\n                                ><core:Item\n                                        id="investmentartt"\n                                        key="{Kuerzel}"\n                                        text="{= ${Kuerzel} + \' - \' + ${Name} }"\n                                    /></ComboBox></VBox><VBox id="boxVWerk"><Label\n                                    id="lvlWerk"\n                                    text="{i18n>cw.field.plantDelivery}"\n                                    labelFor="cbWerks"\n                                    required="true"\n                                /><ComboBox\n                                    id="cbWerks"\n                                    width="16rem"\n                                    selectedKey="{checkout>/head/werks}"\n                                    items="{\n            path: \'/MdgBsMatWerksElemSet\'\n        }"\n                                ><core:Item\n                                        id="werk"\n                                        key="{Werks}"\n                                        text="{Werks} {VtextWerks}"\n                                    /></ComboBox></VBox></HBox><HBox\n                            id="boxVEnergie"\n                            class="sapUiSmallMarginTop"\n                            wrap="Wrap"\n                            alignItems="End"\n                        ><VBox\n                                id="boxVUmwelt"\n                                class="sapUiMediumMarginEnd"\n                            ><Label\n                                    id="lvlUmwelt"\n                                    text="{i18n>cw.field.sustainability}"\n                                    required="true"\n                                /><RadioButtonGroup\n                                    id="rbgUmwelt"\n                                    columns="2"\n                                    selectedIndex="{ path: \'checkout>/head/UmweltIndex\', type: \'sap.ui.model.type.Integer\' }"\n                                ><buttons><RadioButton\n                                            id="rbHeadWeYes3"\n                                            text="{i18n>common.yes}"\n                                        /><RadioButton\n                                            id="rbHeadWeNo3"\n                                            text="{i18n>common.no}"\n                                        /></buttons></RadioButtonGroup></VBox></HBox></VBox></WizardStep><WizardStep\n                    id="stepForm"\n                    title="{i18n>cw.step.form.title}"\n                    icon="sap-icon://add-document"\n                ><VBox\n                        id="formVBox"\n                        class="sapUiSmallMargin sapUiMediumMarginBeginEnd"\n                        width="100%"\n                    ><HBox\n                            id="boxHIntNotiz"\n                            alignItems="End"\n                            wrap="Wrap"\n                        ><VBox id="boxVIntNotiz"><Label\n                                    id="lvlIntNotiz"\n                                    text="{i18n>cw.field.internalNote}"\n                                    labelFor="taNote"\n                                /><TextArea\n                                    id="taNote"\n                                    width="28rem"\n                                    rows="4"\n                                    value="{checkout>/note}"\n                                    placeholder="{i18n>cw.placeholder.internalNote}"\n                                /></VBox><u:FileUploader\n                                id="fuAttach"\n                                class="sapUiSmallMarginBegin sapUiSmallMarginTop"\n                                buttonOnly="true"\n                                buttonText="{i18n>cw.upload.addAttachments}"\n                                multiple="true"\n                                sameFilenameAllowed="true"\n                                maximumFileSize="15"\n                                fileType="pdf,doc,docx,xls,xlsx,png,jpg,jpeg"\n                                change=".onAttachFUChange"\n                            /></HBox><List\n                            id="lstAttachments"\n                            class="sapUiSmallMarginTop"\n                            items="{checkout>/attachments}"\n                            mode="Delete"\n                            delete=".onAttachDelete"\n                            noDataText="{i18n>cw.upload.noAttachments}"\n                        ><items><ObjectListItem\n                                    id="oliAttach"\n                                    title="{checkout>fileName}"\n                                    number="{= ${checkout>size} ? Math.round(${checkout>size} / 1024) + \' KB\' : \'\' }"\n                                    numberUnit=""\n                                    type="Active"\n                                    press=".onAttachOpen"\n                                ><attributes><ObjectAttribute\n                                            id="oaAttach"\n                                            text="{checkout>mediaType}"\n                                        /></attributes></ObjectListItem></items></List></VBox></WizardStep><WizardStep\n                    id="stepCart"\n                    title="{i18n>checkoutStepCartTitle}"\n                    icon="sap-icon://cart"\n                ><VBox\n                        id="cartVBox"\n                        class="sapUiSmallMargin"\n                    ><List\n                            id="wizardCartList"\n                            items="{cartProducts>/cartEntries}"\n                            noDataText="{i18n>cartNoData}"\n                        ><items><CustomListItem id="cliCartRow"><HBox\n                                        id="rowHBox"\n                                        class="sapUiSmallMargin"\n                                        alignItems="Start"\n                                    ><Image\n                                            id="imgProduct"\n                                            src="{\n  parts: [\n    { path: \'cartProducts>ZmmWebsArtikelId\' },\n    { path: \'cartProducts>ZmmWebsDocId\' }\n  ],\n  formatter: \'.formatter.categoryThumbIconFromDocId\'\n}"\n                                            width="4rem"\n                                            height="4rem"\n                                            densityAware="false"\n                                            class="sapUiSmallMarginEnd"\n                                        /><VBox id="rightVBox"><Text\n                                                id="txtTitle"\n                                                text="{cartProducts>ZmmWebsArtBez}"\n                                            /><Text\n                                                id="txtQty"\n                                                text="{= (${cartProducts>MENGE} || 0) + \' \' + (${cartProducts>Meins} || \'\') }"\n                                            /><ObjectNumber\n                                                id="objPrice"\n                                                number="{ path: \'cartProducts>Bapre\', formatter: \'.formatter.price\' }"\n                                                unit="{cartProducts>Waers}"\n                                            /><HBox\n                                                id="lineAll"\n                                                class="sapUiSmallMarginTop"\n                                                alignItems="End"\n                                                wrap="Wrap"\n                                            ><VBox\n                                                    id="colReceiver"\n                                                    class="sapUiSmallMarginEnd"\n                                                ><Label\n                                                        id="lblReceiver"\n                                                        text="{i18n>cw.field.receiverGoods}"\n                                                        required="true"\n                                                    /><Input\n                                                        id="inpReceiver"\n                                                        width="12rem"\n                                                        value="{cartProducts>receiver}"\n                                                        valueState="{= ${checkoutWizard>/validate} &amp;&amp; !${cartProducts>receiver} ? \'Error\' : \'None\' }"\n                                                        valueStateText="{= ${checkoutWizard>/validate} &amp;&amp; !${cartProducts>receiver} ? ${i18n>cw.err.receiver} : \'\' }"\n                                                        showValueHelp="true"\n                                                        valueHelpRequest=".onValueHelpUser"\n                                                    /></VBox><VBox\n                                                    id="colMatkl"\n                                                    class="sapUiSmallMarginEnd"\n                                                ><Label\n                                                        id="lblMatkl"\n                                                        text="{i18n>cw.field.matkl}"\n                                                        required="true"\n                                                    /><Input\n                                                        id="inpMatkl"\n                                                        width="12rem"\n                                                        value="{cartProducts>Matkl}"\n                                                        showValueHelp="true"\n                                                        valueHelpRequest=".onValueHelpMatkl"\n                                                        valueState="{= ${checkoutWizard>/validate} &amp;&amp; !${cartProducts>Matkl} ? \'Error\' : \'None\' }"\n                                                        valueStateText="{= ${checkoutWizard>/validate} &amp;&amp; !${cartProducts>Matkl} ? ${i18n>cw.err.matkl} : \'\' }"\n                                                    /></VBox><VBox\n                                                    id="colDesiredDate"\n                                                    class="sapUiSmallMarginEnd"\n                                                ><Label\n                                                        id="lblDesiredDate"\n                                                        text="{i18n>cw.field.desiredDate}"\n                                                        labelFor="dpDesiredDate"\n                                                    /><DatePicker\n                                                        id="dpDesiredDate"\n                                                        width="12rem"\n                                                        dateValue="{cartProducts>desiredDate}"\n                                                        displayFormat="long"\n                                                    /></VBox><VBox\n                                                    id="colGlPos"\n                                                    class="sapUiSmallMarginEnd"\n                                                ><Label\n                                                        id="lblGlPos"\n                                                        text="{i18n>cw.field.glAccount}"\n                                                        required="true"\n                                                    /><Input\n                                                        id="inpGL"\n                                                        width="12rem"\n                                                        value="{cartProducts>glAccount}"\n                                                        showValueHelp="true"\n                                                        valueHelpRequest=".onValueHelpGl"\n                                                        valueState="{= ${checkoutWizard>/validate} &amp;&amp; !${cartProducts>glAccount} ? \'Error\' : \'None\' }"\n                                                        valueStateText="{= ${checkoutWizard>/validate} &amp;&amp; !${cartProducts>glAccount} ? ${i18n>cw.err.glAccount} : \'\' }"\n                                                    /></VBox></HBox></VBox></HBox></CustomListItem></items></List><Text\n                            id="wizardTotal"\n                            class="sapUiSmallMarginTop"\n                            text="{ path: \'cartProducts>/cartEntries\', formatter: \'.formatter.totalPrice\' }"\n                        /></VBox></WizardStep></Wizard><ResponsivePopover\n                id="infoPopover"\n                placement="Bottom"\n                showHeader="false"\n            ><content><VBox\n                        id="infoPopoverVBox"\n                        class="sapUiSmallMargin"\n                        width="22rem"\n                    ><Text\n                            id="infoPopoverText1"\n                            text="{info>/text1}"\n                        /></VBox></content></ResponsivePopover></content><footer><OverflowToolbar id="checkoutFooterBar"><ToolbarSpacer id="tbsCheckOut" /><Button\n                    id="btnToStep2"\n                    text="{i18n>cw.btn.step2}"\n                    type="Emphasized"\n                    press=".onContinueFromHead"\n                    visible="{path: \'checkoutWizard>/currentStep\', formatter: \'.formatter.isStepHead\'}"\n                /><Button\n                    id="btnToStep3"\n                    text="{i18n>cw.btn.step3}"\n                    type="Emphasized"\n                    press=".onContinueFromForm"\n                    visible="{path: \'checkoutWizard>/currentStep\', formatter: \'.formatter.isStepForm\'}"\n                /><Button\n                    id="btnOrder"\n                    text="{i18n>cw.btn.order}"\n                    type="Emphasized"\n                    press=".onSubmitOrder"\n                    visible="{path: \'checkoutWizard>/currentStep\', formatter: \'.formatter.isStepCart\'}"\n                /></OverflowToolbar></footer></Page></mvc:View>\n',
	"diehlwebshop/view/FreitextDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n><Dialog\n        id="freitextDialog"\n        title="{i18n>freitext.dialog.title}"\n        draggable="true"\n        resizable="true"\n        contentWidth="34rem"\n    ><VBox\n            id="freitextVBox"\n            class="sapUiSmallMargin"\n        ><Input\n                id="freitextInputDescription"\n                placeholder="{i18n>freitext.field.descriptionRequired}"\n                required="true"\n            /><TextArea\n                id="freitextInputAddText"\n                placeholder="{i18n>freitext.field.addText}"\n                rows="3"\n                growing="true"\n            /><Input\n                id="freitextInputRequester"\n                placeholder="{i18n>freitext.field.requesterRequired}"\n                required="true"\n                showValueHelp="true"\n                valueHelpRequest=".onValueHelpUser"\n            /><HBox\n                id="freitextHBoxSupplierEkgrp"\n                renderType="Bare"\n                justifyContent="SpaceBetween"\n            ><Input\n                    id="freitextInputSupplier"\n                    width="48%"\n                    placeholder="{i18n>freitext.field.supplier}"\n                    showValueHelp="true"\n                    valueHelpRequest=".onValueHelpSupplier"\n                /><Input\n                    id="freitextInputEkgrp"\n                    width="48%"\n                    placeholder="{i18n>freitext.field.ekgrp}"\n                    showValueHelp="true"\n                    valueHelpRequest=".onValueHelpEkgrp"\n                /></HBox><Input\n                id="freitextInputExtMatnr"\n                placeholder="{i18n>freitext.field.extMatnr}"\n                liveChange=".onExtMatnrLiveChange"\n                maxLength="35"\n            /><HBox\n                id="freitextHBoxQtyUnit"\n                renderType="Bare"\n                justifyContent="SpaceBetween"\n            ><Input\n                    id="freitextInputQuantity"\n                    width="48%"\n                    type="Number"\n                    placeholder="{i18n>freitext.field.quantityRequired}"\n                    required="true"\n                /><Input\n                    id="freitextInputUnit"\n                    width="48%"\n                    value="ST"\n                    showValueHelp="true"\n                    valueHelpRequest=".onValueHelpUnit"\n                /></HBox><HBox\n                id="freitextHBoxPriceCurr"\n                renderType="Bare"\n                justifyContent="SpaceBetween"\n            ><Input\n                    id="freitextInputPrice"\n                    width="48%"\n                    type="Number"\n                    placeholder="{i18n>freitext.field.priceRequired}"\n                    required="true"\n                /><Input\n                    id="freitextInputCurrency"\n                    width="48%"\n                    placeholder="{i18n>freitext.field.currency}"\n                    value="EUR"\n                    showValueHelp="true"\n                    valueHelpRequest=".onValueHelpCurrency"\n                /></HBox></VBox><beginButton><Button\n                id="addFreitextButton"\n                type="Emphasized"\n                text="{i18n>freitext.btn.add}"\n                press=".onAddFreitextItem"\n            /></beginButton><endButton><Button\n                id="cancelFreitextButton"\n                text="{i18n>freitext.btn.cancel}"\n                press=".onCloseFreitextDialog"\n            /></endButton></Dialog></core:FragmentDefinition>\n',
	"diehlwebshop/view/Home.view.xml":'<mvc:View\n    controllerName="diehlwebshop.controller.Home"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"\n    id="homeView"\n><Page\n        id="home"\n        title="{i18n>homeTitle}"\n    ><landmarkInfo><PageAccessibleLandmarkInfo\n                id="region"\n                rootRole="Region"\n                rootLabel="{i18n>homeTitle} {i18n>Home_rootLabel}"\n                subHeaderRole="Search"\n                subHeaderLabel="{i18n>Home_subHeaderLabel}"\n                contentRole="Navigation"\n                contentLabel="{i18n>Home_contentLabel}"\n                headerRole="Region"\n                headerLabel="{i18n>Home_headerLabel}"\n            /></landmarkInfo><headerContent><Button\n                id="buttonHome"\n                icon="sap-icon://home"\n                press=".onBack"\n                visible="{appView>/smallScreenMode}"\n            /></headerContent><subHeader><Toolbar id="searchBar33343"><SearchField\n                    id="searchField"\n                    liveChange=".onSearch"\n                    placeholder="{i18n>homeSearchPlaceholder}"\n                    tooltip="{i18n>homeSearchTooltip}"\n                    width="100%"\n                /></Toolbar></subHeader><content><VBox\n                id="homeVBox1"\n                fitContainer="true"\n                justifyContent="SpaceBetween"\n                class="sapUiContentPadding"\n            ><VBox id="productContentVBox"><List\n                        visible="false"\n                        id="productHomeList"\n                        mode="{= ${device>/system/phone} ? \'None\' : \'SingleSelectMaster\'}"\n                        selectionChange=".onProductListSelect"\n                        noDataText="{i18n>homeNoData}"\n                        busyIndicatorDelay="0"\n                        items="{\n                            path : \'/ArtikelSet\',\n                            sorter : {\n                                path : \'ZmmWebsArtikelId\',\n                                descending : false\n                            }\n                        }"\n                    ><items><ObjectListItem\n                                id="objectListItem"\n                                type="{= ${device>/system/phone} ? \'Active\' : \'Active\'}"\n                                icon="{\n    parts: [\n      {path: \'ZmmWebsArtikelId\'}\n    ],\n    formatter: \'.formatter.articleImage\'   \n  }"\n                                title="{= ${ZmmWebsArtBez} || ${Artikelbezeichnung} }"\n                                number="{\n    parts: [\n      {path: \'Bapre\'},        \n      {path: \'Waers\'}         \n    ],\n    formatter: \'.formatter.price\'\n  }"\n                                numberUnit="{Waers}"\n                                press=".onProductListItemPress"\n                                iconDensityAware="false"\n                            ><attributes><ObjectAttribute\n                                        id="supplierName"\n                                        text="{= ${Wlief} || ${Lieferant} }"\n                                    /></attributes><firstStatus><ObjectStatus\n                                        id="status"\n                                        text="{path : \'STATUS\', formatter : \'.formatter.statusText\'}"\n                                        state="{path : \'STATUS\', formatter : \'.formatter.statusState\'}"\n                                    /></firstStatus></ObjectListItem></items></List><OverflowToolbar id="catBreadcrumbBar"><Button\n                            id="btnCatUp"\n                            text="{i18n>Zurueck}"\n                            press=".onCategoryLevelUp"\n                            visible="{= ${catnav>/pathStack}.length > 0 }"\n                        /><ToolbarSpacer id="tspCatBreadcrumb" /><Text\n                            id="txtCatBreadcrumb"\n                            text="{catnav>/breadcrumbText}"\n                        /></OverflowToolbar><List\n                        id="categoryHomeList"\n                        headerText="{i18n>homeCategoryListHeader}"\n                        mode="None"\n                        busyIndicatorDelay="0"\n                        items="{\n        path: \'/KatalogSet\',\n        parameters: { operationMode: \'Client\' },\n        sorter: { path: \'ZmmWebsKatId\', descending: false }\n    }"\n                    ><items><StandardListItem\n                                id="categoryName"\n                                title="{ZmmWebsKatBez}"\n                                type="Active"\n                                counter="{ZmmWebsKatAnzahl}"\n                                press=".onCategoryListItemPress"\n                                tooltip="{i18n>openCategoryProducts} {ZmmWebsKatBez}"\n                            /></items></List></VBox><Button\n                    id="freitextOpenDialogButton"\n                    text="{i18n>freitextOpenDialogButtonText}"\n                    press=".onOpenFreitextDialog"\n                    class="sapUiTinyMarginTop"\n                    visible="true"\n                /></VBox></content></Page></mvc:View>\n',
	"diehlwebshop/view/NotFound.view.xml":'<mvc:View\n\tcontrollerName="diehlwebshop.controller.NotFound"\n\txmlns="sap.m"\n\txmlns:mvc="sap.ui.core.mvc"><Page\n        id="notFoundPage"\n\t\ttitle="{cfg>/pageTitle}"\n\t\tbackgroundDesign="Solid"\n\t\tshowNavButton="{appView>/smallScreenMode}"\n\t\tnavButtonPress=".onBack"\n\t\tshowFooter="true"></Page></mvc:View>',
	"diehlwebshop/view/Product.view.xml":'<mvc:View\n    controllerName="diehlwebshop.controller.Product"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:uxap="sap.uxap"\n    xmlns:l="sap.ui.layout"\n    xmlns:f="sap.ui.layout.form"\n><Page\n        id="productPage"\n        backgroundDesign="Solid"\n        showNavButton="{appView>/smallScreenMode}"\n    ><customHeader><Bar id="productHeaderBar"><contentLeft><Button\n                        id="btnBackProduct"\n                        type="Back"\n                        visible="{appView>/smallScreenMode}"\n                        press=".onBack"\n                    /><Title\n                        id="ttlProductName"\n                        level="H2"\n                        text=""\n                    /></contentLeft><contentMiddle /><contentRight><Button\n                        id="btnBackHomeProduct"\n                        type="Transparent"\n                        text="{i18n>backToHome}"\n                        press=".onBackToHome"\n                    /><ToggleButton\n                        id="btnToggleCartProduct"\n                        class="sapUiTinyMarginBegin"\n                        icon="sap-icon://cart"\n                        type="Transparent"\n                        pressed="{= ${appView>/layout}.startsWith(\'ThreeColumns\') }"\n                        tooltip="{i18n>toCartButtonTooltip}"\n                        press=".onToggleCart"\n                    /></contentRight></Bar></customHeader><content><uxap:ObjectPageLayout\n                id="oplProduct"\n                useIconTabBar="false"\n                showTitleInHeaderContent="true"\n            ><uxap:headerTitle><uxap:ObjectPageDynamicHeaderTitle id="opdhtProduct"><uxap:expandedContent><HBox\n                                id="hbHeaderExpanded"\n                                alignItems="Center"\n                                justifyContent="SpaceBetween"\n                            ><HBox\n                                    id="hbHeaderLeft"\n                                    alignItems="Center"\n                                    renderType="Div"\n                                ><Carousel\n                                        id="productCarousel"\n                                        pages="{productImages>/}"\n                                        width="32%"\n                                        height="200px"\n                                        loop="true"\n                                        showPageIndicator="true"\n                                        pageChanged=".onProductCarouselPageChanged"\n                                    ><layoutData><FlexItemData\n                                                id="fidProductCarousel"\n                                                growFactor="0"\n                                                baseSize="32%"\n                                            /></layoutData><pages><Image\n                                                id="fidProductCarousel1"\n                                                src="{productImages>src}"\n                                                width="100%"\n                                                height="100%"\n                                                densityAware="false"\n                                                press=".onOpenImageGallery"\n                                            /></pages></Carousel><VBox\n                                        id="vbHeaderFacts"\n                                        class="sapUiTinyMarginBegin"\n                                    ><ObjectStatus\n                                            id="osProductName"\n                                            title="{i18n>productDescriptionAttributeText}"\n                                            text="{ZmmWebsArtBez}"\n                                            state="None"\n                                        /><ObjectStatus\n                                            id="osCategory"\n                                            title="{i18n>Produktgruppe}"\n                                            text="{ZmmWebsKatBez}"\n                                            state="None"\n                                        /><ObjectStatus\n                                            id="osSupplier"\n                                            title="{i18n>productSupplierAttributeText}"\n                                            text="{Wlief}"\n                                            state="None"\n                                        /></VBox></HBox><VBox\n                                    id="vbRight"\n                                    alignItems="End"\n                                ><HBox\n                                        id="rowTop"\n                                        alignItems="Center"\n                                        justifyContent="End"\n                                    ><ObjectNumber\n                                            id="onPriceHeader"\n                                            number="{ path: \'Bapre\', formatter: \'.formatter.price\' }"\n                                            unit="{Waers}"\n                                            emphasized="true"\n                                            class="sapUiMediumMarginEnd"\n                                        /><Label\n                                            id="lblProductQuantity"\n                                            text="{i18n>productQuantity}"\n                                            class="sapUiTinyMarginEnd"\n                                        /><StepInput\n                                            id="siQtyProduct"\n                                            min="1"\n                                            value="1"\n                                            width="8rem"\n                                            step="1"\n                                        /></HBox><HBox\n                                        id="rowButtons"\n                                        alignItems="Center"\n                                        justifyContent="End"\n                                        class="sapUiSmallMarginTop"\n                                    ><Button\n                                            id="btnAddToWatchlistHeader"\n                                            text="{i18n>addToWatchlistShort}"\n                                            type="Default"\n                                            press=".onAddToWatchlist"\n                                        /><Button\n                                            id="btnAddToCartHeader"\n                                            text="{i18n>addToCartShort}"\n                                            type="Emphasized"\n                                            press=".onAddToCart"\n                                            class="sapUiSmallMarginBegin"\n                                        /></HBox></VBox></HBox></uxap:expandedContent><uxap:snappedContent><HBox\n                                id="hbHeaderSnapped"\n                                alignItems="Center"\n                                justifyContent="End"\n                            ><ObjectNumber\n                                    id="onPriceSnapped"\n                                    number="{ path: \'Bapre\', formatter: \'.formatter.price\' }"\n                                    unit="{Waers}"\n                                    emphasized="true"\n                                    class="sapUiSmallMarginEnd"\n                                /><StepInput\n                                    id="siQtySnapped"\n                                    min="1"\n                                    value="1"\n                                    width="6rem"\n                                    step="1"\n                                    editable="false"\n                                    enabled="false"\n                                /></HBox></uxap:snappedContent></uxap:ObjectPageDynamicHeaderTitle></uxap:headerTitle><uxap:sections><uxap:ObjectPageSection\n                        id="secDetails"\n                        title="{i18n>Product_section_details}"\n                    ><uxap:subSections><uxap:ObjectPageSubSection\n                                id="subSecDetails"\n                                class="wsTightSubsection"\n                            ><l:BlockLayout id="blRoot"><l:BlockLayoutRow id="blrRow1"><l:BlockLayoutCell\n                                            id="blcProdInfo"\n                                            width="50%"\n                                        ><Panel\n                                                id="pnlProdInfo"\n                                                headerText="{i18n>Produktinformationen}"\n                                                class="sapUiNoContentPadding wsCard"\n                                            ><f:SimpleForm\n                                                    id="sfProdInfo"\n                                                    editable="false"\n                                                    layout="ResponsiveGridLayout"\n                                                    columnsXL="2"\n                                                    columnsL="2"\n                                                    columnsM="1"\n                                                    labelSpanXL="4"\n                                                    labelSpanL="5"\n                                                    labelSpanM="4"\n                                                    labelSpanS="12"\n                                                    emptySpanXL="1"\n                                                    emptySpanL="1"\n                                                    emptySpanM="0"\n                                                    emptySpanS="0"\n                                                    adjustLabelSpan="false"\n                                                    singleContainerFullSize="false"\n                                                ><Label\n                                                        id="lblDesc"\n                                                        text="{i18n>productDescriptionAttributeText}"\n                                                    /><Text\n                                                        id="txtDesc"\n                                                        text="{ZmmWebsArtBez}"\n                                                        wrapping="false"\n                                                    /><Label\n                                                        id="lblUnit"\n                                                        text="{i18n>productUnitAttributeText}"\n                                                    /><Text\n                                                        id="txtUnit"\n                                                        text="{Meins}"\n                                                        wrapping="false"\n                                                    /><Label\n                                                        id="lblProdId"\n                                                        text="{i18n>productId}"\n                                                    /><Text\n                                                        id="txtProdId"\n                                                        text="{ZmmWebsArtikelId}"\n                                                        wrapping="false"\n                                                    /><Label\n                                                        id="lblProdGroup"\n                                                        text="{i18n>Produktgruppe}"\n                                                    /><Text\n                                                        id="txtProdGroup"\n                                                        text="{ZmmWebsKatBez}"\n                                                        wrapping="false"\n                                                    /></f:SimpleForm></Panel></l:BlockLayoutCell><l:BlockLayoutCell\n                                            id="blcLogistics"\n                                            width="50%"\n                                        ><Panel\n                                                id="pnlLogistics"\n                                                headerText="{i18n>Abmessungen}"\n                                                class="sapUiNoContentPadding wsCard"\n                                            ><f:SimpleForm\n                                                    id="sfLogistics"\n                                                    editable="false"\n                                                    layout="ResponsiveGridLayout"\n                                                    columnsXL="2"\n                                                    columnsL="2"\n                                                    columnsM="1"\n                                                    labelSpanXL="4"\n                                                    labelSpanL="5"\n                                                    labelSpanM="4"\n                                                    labelSpanS="12"\n                                                    emptySpanXL="1"\n                                                    emptySpanL="1"\n                                                    emptySpanM="0"\n                                                    emptySpanS="0"\n                                                    adjustLabelSpan="false"\n                                                    singleContainerFullSize="false"\n                                                ><Label\n                                                        id="lblWeight"\n                                                        text="{i18n>productFieldWeight}"\n                                                    /><Text\n                                                        id="txtWeight"\n                                                        text="{= ${Brgew} ? ${Brgew} + \' \' + (${Gewei} || \'\') : \'\' }"\n                                                        wrapping="false"\n                                                    /><Label\n                                                        id="lblSize"\n                                                        text="{i18n>productFieldDimensions}"\n                                                    /><Text\n                                                        id="txtSize"\n                                                        text="{Groes}"\n                                                        wrapping="false"\n                                                    /><Label\n                                                        id="lblColor"\n                                                        text="{i18n>productFieldColor}"\n                                                    /><Text\n                                                        id="txtColor"\n                                                        text="{ZmmWebsFarbeBez}"\n                                                        wrapping="false"\n                                                    /><Label\n                                                        id="lblEan"\n                                                        text="{i18n>productFieldEan}"\n                                                    /><Text\n                                                        id="txtEan"\n                                                        text="{Ean11}"\n                                                        wrapping="false"\n                                                    /></f:SimpleForm></Panel></l:BlockLayoutCell></l:BlockLayoutRow><l:BlockLayoutRow id="blrRow2"><l:BlockLayoutCell\n                                            id="blcSupplier"\n                                            width="50%"\n                                        ><Panel\n                                                id="pnlSupplier"\n                                                headerText="{i18n>Lieferant}"\n                                                class="sapUiNoContentPadding wsCard"\n                                            ><f:SimpleForm\n                                                    id="sfSupplier"\n                                                    editable="false"\n                                                    layout="ResponsiveGridLayout"\n                                                    columnsXL="2"\n                                                    columnsL="2"\n                                                    columnsM="1"\n                                                    labelSpanXL="4"\n                                                    labelSpanL="5"\n                                                    labelSpanM="4"\n                                                    labelSpanS="12"\n                                                    emptySpanXL="1"\n                                                    emptySpanL="1"\n                                                    emptySpanM="0"\n                                                    emptySpanS="0"\n                                                    adjustLabelSpan="false"\n                                                    singleContainerFullSize="false"\n                                                ><Label\n                                                        id="lblSupplier1"\n                                                        text="{i18n>productSupplierAttributeText}"\n                                                    /><Text\n                                                        id="txtSupplier"\n                                                        text="{Wlief}"\n                                                        wrapping="false"\n                                                    /></f:SimpleForm></Panel></l:BlockLayoutCell><l:BlockLayoutCell\n                                            id="blcPurchase"\n                                            width="50%"\n                                        ><Panel\n                                                id="pnlPurchase"\n                                                headerText="{i18n>productPanelPurchaseHeader}"\n                                                class="sapUiNoContentPadding wsCard"\n                                            ><f:SimpleForm\n                                                    id="sfPurchase"\n                                                    editable="false"\n                                                    layout="ResponsiveGridLayout"\n                                                    columnsXL="2"\n                                                    columnsL="2"\n                                                    columnsM="1"\n                                                    labelSpanXL="4"\n                                                    labelSpanL="5"\n                                                    labelSpanM="4"\n                                                    labelSpanS="12"\n                                                    emptySpanXL="1"\n                                                    emptySpanL="1"\n                                                    emptySpanM="0"\n                                                    emptySpanS="0"\n                                                    adjustLabelSpan="false"\n                                                    singleContainerFullSize="false"\n                                                ><Label\n                                                        id="lblPrice"\n                                                        text="{i18n>Preis}"\n                                                    /><Text\n                                                        id="txtPrice"\n                                                        text="{= ${path:\'Bapre\', formatter: \'.formatter.price\'} + \' \' + (${Waers} || \'\') }"\n                                                        wrapping="false"\n                                                    /></f:SimpleForm></Panel></l:BlockLayoutCell></l:BlockLayoutRow></l:BlockLayout></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection></uxap:sections></uxap:ObjectPageLayout></content></Page></mvc:View>\n',
	"diehlwebshop/view/PurchaseRequestDetail.view.xml":'<mvc:View\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    controllerName="diehlwebshop.controller.PurchaseRequestDetail"><Page title="Details"><content><Text text="Detailansicht wird hier gebaut." /></content></Page></mvc:View>\n',
	"diehlwebshop/view/PurchaseRequests.view.xml":'<mvc:View\n    controllerName="diehlwebshop.controller.PurchaseRequests"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:smartTable="sap.ui.comp.smarttable"\n    xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"\n><Page\n        id="purchaseRequestsPage"\n        title="{i18n>purchaseRequestPageTitle}"\n        showNavButton="false"\n        showHeader="true"\n    ><customHeader><Bar id="purchaseRequestsBar"><contentLeft><Title\n                        id="purchaseRequestsTitle"\n                        text="{i18n>purchaseRequestPageTitle}"\n                    /></contentLeft><contentRight><Button\n                        id="toggleCartButton"\n                        icon="sap-icon://cart"\n                        type="Transparent"\n                        press="onCartButtonPress"\n                        tooltip="{i18n>toggleCartButtonTooltip}"\n                    /></contentRight></Bar></customHeader><content><smartFilterBar:SmartFilterBar\n                id="prFilterBar"\n                entitySet="BanfSet"\n                useToolbar="true"\n                showGoOnFB="true"\n                showClearOnFB="true"\n                persistencyKey="PR_SFB"\n                liveMode="true"\n            ><smartFilterBar:controlConfiguration><smartFilterBar:ControlConfiguration\n                        id="ccBanfn"\n                        key="Banfn"\n                        label="{i18n>pr.filter.banfn}"\n                        index="10"\n                        visible="true"\n                    /><smartFilterBar:ControlConfiguration\n                        id="ccTxz01"\n                        key="Txz01"\n                        label="{i18n>pr.filter.txz01}"\n                        index="20"\n                        visible="true"\n                    /><smartFilterBar:ControlConfiguration\n                        id="ccBstnr"\n                        key="Bstnr"\n                        label="{i18n>pr.filter.bstnr}"\n                        index="30"\n                        visibleInAdvancedArea="true"\n                    /><smartFilterBar:ControlConfiguration\n                        id="ccFrgkz"\n                        key="Frgkz"\n                        label="{i18n>pr.filter.frgkz}"\n                        index="40"\n                        visibleInAdvancedArea="true"\n                    /><smartFilterBar:ControlConfiguration\n                        id="ccStatusWe"\n                        key="ZmmWebsStatusWe"\n                        label="{i18n>pr.filter.statusWe}"\n                        index="50"\n                        visibleInAdvancedArea="true"\n                    ><smartFilterBar:customControl><Input\n                                id="sfbStatusWe"\n                                showValueHelp="true"\n                                valueHelpRequest=".onValueHelpStatusWe"\n                                width="100%"\n                            /></smartFilterBar:customControl></smartFilterBar:ControlConfiguration><smartFilterBar:ControlConfiguration\n                        id="ccLifnr"\n                        key="Lifnr"\n                        label="{i18n>pr.filter.lifnr}"\n                        index="60"\n                        visibleInAdvancedArea="true"\n                    ><smartFilterBar:customControl><Input\n                                id="sfbSupplier"\n                                showValueHelp="true"\n                                valueHelpRequest=".onValueHelpSupplier"\n                                width="100%"\n                            /></smartFilterBar:customControl></smartFilterBar:ControlConfiguration><smartFilterBar:ControlConfiguration\n                        id="ccEindt"\n                        key="Eindt"\n                        label="{i18n>pr.filter.eindt}"\n                        index="70"\n                        visibleInAdvancedArea="true"\n                    /><smartFilterBar:ControlConfiguration\n                        id="ccWaers"\n                        key="Waers"\n                        label="{i18n>pr.filter.waers}"\n                        index="80"\n                        visibleInAdvancedArea="true"\n                    ><smartFilterBar:customControl><Input\n                                id="sfbCurrency"\n                                showValueHelp="true"\n                                valueHelpRequest=".onValueHelpCurrency"\n                                width="100%"\n                            /></smartFilterBar:customControl></smartFilterBar:ControlConfiguration></smartFilterBar:controlConfiguration></smartFilterBar:SmartFilterBar><smartTable:SmartTable\n                id="banfSmartTable"\n                smartFilterId="prFilterBar"\n                tableType="ResponsiveTable"\n                entitySet="BanfSet"\n                header="{i18n>purchaseRequestPageTitle}"\n                useExportToExcel="true"\n                useVariantManagement="true"\n                useTablePersonalisation="true"\n                editable="false"\n                enableAutoBinding="true"\n                initiallyVisibleFields="Banfn,Bnfpo,Txz01,Bapre,Waers,Frgkz,Bstnr,Bstpo,Eindt,ZmmWebsStatusWe,ZmmWebsStatusWeBez,Lifnr"\n            ><smartTable:customToolbar><Toolbar id="prSmartTableToolbar"><ToolbarSpacer id="prSmartTableSpacer" /><Button\n                            id="btnReAdd"\n                            text="{i18n>reAddToCart}"\n                            icon="sap-icon://cart-3"\n                            type="Emphasized"\n                            enabled="false"\n                            press=".onReAddSelected"\n                        /></Toolbar></smartTable:customToolbar></smartTable:SmartTable></content></Page></mvc:View>\n\n',
	"diehlwebshop/view/fragments/ImageGalleryDialog.fragment.xml":'<core:FragmentDefinition\n  xmlns="sap.m"\n  xmlns:core="sap.ui.core"\n><Dialog\n    id="imageGalleryDialog"\n    title="{i18n>imageGalleryDialogTitle}"\n    draggable="true"\n    resizable="true"\n    stretch="{device>/system/phone}"\n    contentWidth="90vw"\n    contentHeight="90vh"\n    horizontalScrolling="false"\n    verticalScrolling="false"\n  ><customHeader><Bar id="imageGalleryBar"><contentLeft><Button\n            id="btnImageGalleryPrev"\n            icon="sap-icon://navigation-left-arrow"\n            type="Transparent"\n            press=".onPrevImage"\n          /></contentLeft><contentMiddle><Title\n            id="ttlImageGallery"\n            text="{i18n>imageGalleryDialogTitle}"\n          /></contentMiddle><contentRight><Button\n            id="btnImageGalleryNext"\n            icon="sap-icon://navigation-right-arrow"\n            type="Transparent"\n            press=".onNextImage"\n          /></contentRight></Bar></customHeader><content><Carousel\n        id="imageGalleryCarousel"\n        pages="{productImages>/}"\n        loop="true"\n        showPageIndicator="true"\n        height="80vh"\n      ><pages><VBox\n            id="vbImageGalleryPage"\n            width="100%"\n            height="100%"\n            justifyContent="Center"\n            alignItems="Center"\n          ><Image\n              id="imgImageGallery"\n              src="{productImages>src}"\n              width="100%"\n              height="100%"\n              densityAware="false"\n            /></VBox></pages></Carousel></content><beginButton><Button\n        id="btnImageGalleryClose"\n        text="{i18n>imageGalleryDialogClose}"\n        type="Transparent"\n        press=".onCloseImageGallery"\n      /></beginButton></Dialog></core:FragmentDefinition>\n\n'
});
//# sourceMappingURL=Component-preload.js.map
