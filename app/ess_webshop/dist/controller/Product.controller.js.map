{"version":3,"file":"Product.controller.js","names":["sap","ui","define","BaseController","formatter","JSONModel","Filter","FilterOperator","extend","onInit","oComponent","this","getOwnerComponent","_router","getRouter","getView","setModel","_pImageGalleryDialog","_oImageGalleryDialog","getRoute","attachPatternMatched","_onRouteMatched","getTarget","attachDisplay","oEvent","_bindProductById","getParameter","productId","sProductId","oView","oModel","getModel","metadataLoaded","then","sPath","createKey","ZmmWebsArtikelId","bindElement","path","events","dataRequested","setBusy","dataReceived","_checkIfProductAvailable","_loadProductImages","change","bind","_getImageGalleryDialog","sViewId","getId","sDialogId","oExistingDialog","getCore","byId","Promise","resolve","core","Fragment","load","id","name","controller","oDialog","addDependent","catch","e","onProductCarouselPageChanged","sNewId","oNewPage","oCtx","getBindingContext","getPath","iIndex","parseInt","String","split","pop","_iLastProductCarouselIndex","Number","isInteger","onOpenImageGallery","async","oSrc","getSource","i","oMainCarousel","sActivePageId","getActivePage","oActivePage","indexOfPage","fnAfterOpen","detachAfterOpen","oGalleryCarousel","aPages","getPages","length","iSafe","setActivePage","_applyContainToGalleryImages","attachAfterOpen","open","onCloseImageGallery","close","onPrevImage","oCarousel","previous","onNextImage","next","onExit","destroy","$dlg","$","find","each","style","objectFit","width","height","maxWidth","maxHeight","display","oImgModel","setData","updateBindings","oMeta","getMetaModel","oEntitySet","getODataEntitySet","aFilters","EQ","read","filters","success","oData","aResults","results","sBase","sServiceUrl","endsWith","slice","aImgs","map","row","sArtikelId","ArtikelId","sDocId","DocId","sKeyPath","sSrc","orderCandidate","ImageOrder","ORDER","SeqNr","SEQNR","Sort","SORT_NR","src","order","title","Filename","TITLE","ALT","BEZEICHNUNG","filter","Boolean","sort","a","b","error","getProperty","getTargets","onToggleCart","bPressed","oEntry","getObject","ZmmWebsKatId","navTo","onAddToCart","oSi","iQty","getValue","oProd","_addToCart","onBackToHome","oAppView","setProperty","onAddToWatchlist","oQtyCtrl","oProdCtx","oCartModel","aSaved","Array","isArray","Object","values","sId","iIdx","findIndex","oCopy","assign","MENGE","push","refresh","m","MessageToast","show","getResourceBundle","getText","ZmmWebsArtBez","iCurrent","rb"],"sources":["Product-dbg.controller.js"],"mappings":"AAAAA,IAAIC,GAAGC,OAAO,CACZ,mBACA,qBACA,8BACA,sBACA,+BACC,CAACC,EAAgBC,EAAWC,EAAWC,EAAQC,KAChD,aAEA,OAAOJ,EAAeK,OAAO,kCAAmC,CAC9DJ,UAAWA,EAEXK,OAAQ,WACN,MAAMC,EAAaC,KAAKC,oBACxBD,KAAKE,QAAUH,EAAWI,YAG1BH,KAAKI,UAAUC,SAAS,IAAIX,EAAU,IAAK,iBAE3CM,KAAKM,qBAAuB,KAC5BN,KAAKO,qBAAuB,KAE5BP,KAAKE,QAAQM,SAAS,WAAWC,qBAAqBT,KAAKU,gBAAiBV,MAC5EA,KAAKE,QAAQS,UAAU,WAAWC,cAAc,SAAUC,GACxDb,KAAKc,iBAAiBD,EAAOE,aAAa,QAAQC,UACpD,EAAGhB,KACL,EAIAU,gBAAiB,SAAUG,GACzBb,KAAKc,iBAAiBD,EAAOE,aAAa,aAAaC,UACzD,EAKAF,iBAAkB,SAAUG,GAC1B,MAAMC,EAAQlB,KAAKI,UACnB,MAAMe,EAASD,EAAME,WAErBD,EAAOE,iBAAiBC,KAAK,WAC3B,MAAMC,EAAQ,IAAMJ,EAAOK,UAAU,aAAc,CAAEC,iBAAkBR,IAEvEC,EAAMQ,YAAY,CAChBC,KAAMJ,EACNK,OAAQ,CACNC,cAAe,IAAMX,EAAMY,QAAQ,MACnCC,aAAc,KACZb,EAAMY,QAAQ,OACd9B,KAAKgC,yBAAyBT,GAC9BvB,KAAKiC,mBAAmBhB,IAE1BiB,OAAQ,KACNlC,KAAKgC,yBAAyBT,GAC9BvB,KAAKiC,mBAAmBhB,MAIhC,EAAEkB,KAAKnC,MACT,EAKAoC,uBAAwB,WACtB,MAAMC,EAAUrC,KAAKI,UAAUkC,QAC/B,MAAMC,EAAYF,EAAU,uBAG5B,MAAMG,EAAkBnD,IAAIC,GAAGmD,UAAUC,KAAKH,GAC9C,GAAIC,EAAiB,CACnBxC,KAAKO,qBAAuBiC,EAE5BA,EAAgBnC,SAASL,KAAKI,UAAUgB,SAAS,iBAAkB,iBACnEoB,EAAgBnC,SAASL,KAAKC,oBAAoBmB,SAAS,QAAS,QACpEoB,EAAgBnC,SAASL,KAAKC,oBAAoBmB,SAAS,UAAW,UAEtEpB,KAAKM,qBAAuBqC,QAAQC,QAAQJ,GAC5C,OAAOxC,KAAKM,oBACd,CAGA,GAAIN,KAAKM,qBAAsB,CAC7B,OAAON,KAAKM,oBACd,CAGAN,KAAKM,qBAAuBjB,IAAIC,GAAGuD,KAAKC,SAASC,KAAK,CACpDC,GAAIX,EACJY,KAAM,iDACNC,WAAYlD,OACXsB,KAAK,SAAU6B,GAChBnD,KAAKO,qBAAuB4C,EAC5BnD,KAAKI,UAAUgD,aAAaD,GAE5BA,EAAQ9C,SAASL,KAAKI,UAAUgB,SAAS,iBAAkB,iBAC3D+B,EAAQ9C,SAASL,KAAKC,oBAAoBmB,SAAS,QAAS,QAC5D+B,EAAQ9C,SAASL,KAAKC,oBAAoBmB,SAAS,UAAW,UAE9D,OAAO+B,CACT,EAAEhB,KAAKnC,OAAOqD,MAAM,SAAUC,GAC5BtD,KAAKM,qBAAuB,KAC5B,MAAMgD,CACR,EAAEnB,KAAKnC,OAEP,OAAOA,KAAKM,oBACd,EAKAiD,6BAA8B,SAAU1C,GACtC,MAAM2C,EAAS3C,EAAOE,aAAa,mBACnC,MAAM0C,EAAWD,EAASnE,IAAIC,GAAGmD,UAAUC,KAAKc,GAAU,KAE1D,MAAME,EAAOD,GAAYA,EAASE,kBAAkB,iBACpD,MAAMpC,EAAQmC,GAAQA,EAAKE,QAAUF,EAAKE,UAAY,GAEtD,MAAMC,EAASC,SAASC,OAAOxC,GAAOyC,MAAM,KAAKC,MAAO,IACxDjE,KAAKkE,2BAA6BC,OAAOC,UAAUP,GAAUA,EAAS,CACxE,EAKAQ,mBAAoBC,eAAgBzD,GAClC,MAAMsC,QAAgBnD,KAAKoC,yBAE3B,IAAIyB,GAAU,EAGd,MAAMU,EAAO1D,GAAUA,EAAO2D,UAAY3D,EAAO2D,YAAc,KAC/D,MAAMd,EAAOa,GAAQA,EAAKZ,kBAAoBY,EAAKZ,kBAAkB,iBAAmB,KACxF,GAAID,EAAM,CACR,MAAMnC,EAAQmC,EAAKE,UACnB,MAAMa,EAAIX,SAASC,OAAOxC,GAAOyC,MAAM,KAAKC,MAAO,IACnD,GAAIE,OAAOC,UAAUK,GAAI,CACvBZ,EAASY,CACX,CACF,CAGA,IAAKN,OAAOC,UAAUP,IAAWA,EAAS,EAAG,CAC3C,MAAMa,EAAgB1E,KAAK0C,KAAK,mBAChC,GAAIgC,EAAe,CACjB,MAAMC,EAAgBD,EAAcE,gBACpC,MAAMC,EAAcF,GAAiBtF,IAAIC,GAAGmD,UAAUC,KAAKiC,GAC3D,GAAIE,EAAa,CACfhB,EAASa,EAAcI,YAAYD,EACrC,CACF,CACF,CAEA,MAAME,EAAc,WAClB5B,EAAQ6B,gBAAgBD,GAExB,MAAME,EAAmB5F,IAAIC,GAAGuD,KAAKC,SAASJ,KAAK1C,KAAKI,UAAUkC,QAAS,wBAC3E,IAAK2C,EAAkB,CAAE,MAAQ,CAEjC,MAAMC,EAASD,EAAiBE,WAChC,IAAKD,IAAWA,EAAOE,OAAQ,CAAE,MAAQ,CAEzC,MAAMC,EAASlB,OAAOC,UAAUP,IAAWqB,EAAOrB,GAAWA,EAAS,EACtEoB,EAAiBK,cAAcJ,EAAOG,GAAO/C,SAE7CtC,KAAKuF,8BACP,EAAEpD,KAAKnC,MAEPmD,EAAQqC,gBAAgBT,GACxB5B,EAAQsC,MACV,EAIAC,oBAAqB,WACnB,GAAI1F,KAAKO,qBAAsB,CAC7BP,KAAKO,qBAAqBoF,OAC5B,CACF,EAIAC,YAAa,WACX,MAAMC,EAAYxG,IAAIC,GAAGuD,KAAKC,SAASJ,KAAK1C,KAAKI,UAAUkC,QAAS,wBACpE,GAAIuD,EAAW,CACbA,EAAUC,WACV9F,KAAKuF,8BACP,CACF,EAIAQ,YAAa,WACX,MAAMF,EAAYxG,IAAIC,GAAGuD,KAAKC,SAASJ,KAAK1C,KAAKI,UAAUkC,QAAS,wBACpE,GAAIuD,EAAW,CACbA,EAAUG,OACVhG,KAAKuF,8BACP,CACF,EAIAU,OAAQ,WACN,GAAIjG,KAAKO,qBAAsB,CAC7BP,KAAKO,qBAAqB2F,UAC1BlG,KAAKO,qBAAuB,IAC9B,CACAP,KAAKM,qBAAuB,IAC9B,EAKAiF,6BAA8B,WAC5B,IAAKvF,KAAKO,qBAAsB,CAAE,MAAQ,CAE1C,MAAM4F,EAAOnG,KAAKO,qBAAqB6F,IACvC,IAAKD,GAAQA,EAAKf,SAAW,EAAG,CAAE,MAAQ,CAE1Ce,EAAKE,KAAK,OAAOC,KAAK,WACpBtG,KAAKuG,MAAMC,UAAY,UACvBxG,KAAKuG,MAAME,MAAQ,OACnBzG,KAAKuG,MAAMG,OAAS,OACpB1G,KAAKuG,MAAMI,SAAW,OACtB3G,KAAKuG,MAAMK,UAAY,OACvB5G,KAAKuG,MAAMM,QAAU,OACvB,EACF,EAKA5E,mBAAoB,SAAUhB,GAC5B,MAAM6F,EAAY9G,KAAKI,UAAUgB,SAAS,iBAE1C,IAAKH,EAAY,CACf6F,EAAUC,QAAQ,IAClBD,EAAUE,eAAe,MACzB,MACF,CAEA,MAAM7F,EAASnB,KAAKI,UAAUgB,WAC9B,MAAM6F,EAAQ9F,EAAO+F,eAErB,MAAMC,EAAaF,EAAMG,kBAAkB,mBAC3C,IAAKD,EAAY,CACfL,EAAUC,QAAQ,IAClBD,EAAUE,eAAe,MACzB,MACF,CAEA,MAAMK,EAAW,CACf,IAAI1H,EAAO,YAAaC,EAAe0H,GAAIvD,OAAO9C,KAGpDE,EAAOoG,KAAK,mBAAoB,CAC9BC,QAASH,EACTI,QAAS,SAAUC,GACjB,MAAMC,EAAYD,GAASA,EAAME,QAAWF,EAAME,QAAU,GAE5D,IAAKD,EAASvC,OAAQ,CACpB0B,EAAUC,QAAQ,IAClBD,EAAUE,eAAe,MACzB,MACF,CAEA,IAAIa,EAAQ1G,EAAO2G,aAAe,GAClC,GAAID,EAAME,SAAS,KAAM,CACvBF,EAAQA,EAAMG,MAAM,GAAI,EAC1B,CAEA,MAAMC,EAAQN,EAASO,IAAI,SAAUC,GACnC,MAAMC,EAAaD,EAAIE,UACvB,MAAMC,EAASH,EAAII,MAEnB,IAAKH,IAAeE,EAAQ,CAC1B,OAAO,IACT,CAEA,MAAME,EAAWrH,EAAOK,UAAU,eAAgB,CAChD6G,UAAWD,EACXG,MAAOD,IAGT,MAAMG,EAAOZ,EAAQ,IAAMW,EAAW,UAEtC,MAAME,EACJP,EAAIQ,YAAcR,EAAIS,OAAST,EAAIU,OAASV,EAAIW,OAASX,EAAIY,MAAQZ,EAAIa,SAAW,EAEtF,MAAO,CACLC,IAAKR,EACLS,MAAOpF,SAAS4E,EAAgB,KAAO,EACvCS,MAAOhB,EAAIiB,UAAYjB,EAAIkB,OAASlB,EAAImB,KAAOnB,EAAIoB,aAAe,GAEtE,GAAGC,OAAOC,SAEVxB,EAAMyB,KAAK,CAACC,EAAGC,IAAMD,EAAET,MAAQU,EAAEV,OAEjCpC,EAAUC,QAAQkB,GAClBnB,EAAUE,eAAe,KAC3B,EAAE7E,KAAKnC,MACP6J,MAAO,WACL/C,EAAUC,QAAQ,IAClBD,EAAUE,eAAe,KAC3B,GAEJ,EAIAhF,yBAA0B,SAAUT,GAClC,MAAMmG,EAAQ1H,KAAKoB,WAAW0I,YAAYvI,GAC1C,GAAImG,GAAS,KAAM,CACjB1H,KAAKE,QAAQ6J,aAAalD,QAAQ,WACpC,CACF,EAKAmD,aAAc,SAAUnJ,GACtB,MAAMoJ,IAAapJ,EAAOE,aAAa,WACvC,MAAM2C,EAAO1D,KAAKI,UAAUuD,oBAC5B,MAAMuG,EAASxG,GAAQA,EAAKyG,UAAYzG,EAAKyG,YAAc,KAE3D,IAAKD,IAAWA,EAAOE,eAAiBF,EAAOzI,iBAAkB,CAC/D,MACF,CAEA,GAAIwI,EAAU,CACZjK,KAAKG,YAAYkK,MAAM,cAAe,CACpCrH,GAAIkH,EAAOE,aACXpJ,UAAWkJ,EAAOzI,kBACjB,KACL,KAAO,CACLzB,KAAKG,YAAYkK,MAAM,UAAW,CAChCrH,GAAIkH,EAAOE,aACXpJ,UAAWkJ,EAAOzI,kBACjB,KACL,CACF,EAKA6I,YAAa,WACX,MAAMpJ,EAAQlB,KAAKI,UACnB,MAAMmK,EAAMrJ,EAAMwB,KAAK,iBAAmBxB,EAAMwB,KAAK,gBACrD,MAAM8H,EAAO1G,SAASyG,GAAOA,EAAIE,SAAWF,EAAIE,WAAa,EAAG,KAAO,EAEvE,MAAMC,EAAQxJ,EAAMyC,qBAAuBzC,EAAMyC,oBAAoBwG,UACjEjJ,EAAMyC,oBAAoBwG,YAC1B,KAEJnK,KAAK2K,WAAWD,EAAOF,EACzB,EAIAI,aAAc,WACZ,MAAMC,EAAW7K,KAAKC,oBAAoBmB,SAAS,WACnD,GAAIyJ,EAAU,CACZA,EAASC,YAAY,YAAa,OAClCD,EAASC,YAAY,UAAW,wBAClC,CACA9K,KAAKG,YAAYkK,MAAM,mBAAoB,CAAC,EAAG,KACjD,EAKAU,iBAAkB,WAChB,MAAM7J,EAAQlB,KAAKI,UACnB,MAAM4K,EAAW9J,EAAMwB,KAAK,gBAC5B,MAAM8H,EAAO1G,SAASkH,GAAYA,EAASP,SAAWO,EAASP,WAAa,EAAG,KAAO,EAEtF,MAAMQ,EAAW/J,EAAMyC,oBACvB,IAAKsH,EAAU,CAAE,MAAQ,CACzB,MAAMP,EAAQO,EAASd,YAEvB,MAAMe,EAAalL,KAAKC,oBAAoBmB,SAAS,gBACrD,IAAI+J,EAASD,EAAWpB,YAAY,0BAA4B,GAChE,IAAKsB,MAAMC,QAAQF,GAAS,CAAEA,EAASG,OAAOC,OAAOJ,EAAS,CAE9D,MAAMK,EAAMzH,OAAO2G,EAAMjJ,kBACzB,MAAMgK,EAAON,EAAOO,UAAUpI,GAAKS,OAAOT,EAAE7B,oBAAsB+J,GAElE,GAAIC,KAAU,EAAG,CACf,MAAME,EAAQL,OAAOM,OAAO,CAAC,EAAGlB,EAAO,CAAEmB,MAAOrB,IAChDW,EAAOW,KAAKH,GACZT,EAAWJ,YAAY,wBAAyBK,GAChDD,EAAWa,QAAQ,MACnB1M,IAAI2M,EAAEC,aAAaC,KAAKlM,KAAKmM,oBAAoBC,QAC/C,0BAA2B,CAAC1B,EAAM2B,gBAEtC,KAAO,CACL,MAAMC,EAAWxI,SAASqH,EAAOM,GAAMI,MAAO,KAAO,EACrDV,EAAOM,GAAMI,MAAQS,EAAW9B,EAChCU,EAAWJ,YAAY,wBAAyBK,GAChDD,EAAWa,QAAQ,MACnB,MAAMQ,EAAKvM,KAAKmM,oBAChB9M,IAAI2M,EAAEC,aAAaC,KAAKlM,KAAKmM,oBAAoBC,QAC/C,2BACA,CAACjB,EAAOM,GAAMI,MAAOnB,EAAM2B,gBAE/B,CACF","ignoreList":[]}